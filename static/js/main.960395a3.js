/*! For license information please see main.960395a3.js.LICENSE.txt */
!function(){var e={998:function(e,t,n){"use strict";var r=n(458),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,o,s,u,c,l=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),s=document.createRange(),u=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(h){n&&console.error("unable to copy using execCommand: ",h),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),c&&document.body.removeChild(c),o()}return l}},568:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var i=s(n(791)),a=s(n(998)),o=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,s=p(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(m(e=s.call.apply(s,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,o=n.onCopy,s=n.children,u=n.options,c=i.default.Children.only(s),l=(0,a.default)(r,u);o&&o(r,l),c&&c.props&&"function"===typeof c.props.onClick&&c.props.onClick(t)})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=l(e,o),r=i.default.Children.only(t);return i.default.cloneElement(r,c(c({},n),{},{onClick:this.onClick}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.default.PureComponent);t.CopyToClipboard=_,g(_,"defaultProps",{onCopy:void 0,options:void 0})},29:function(e,t,n){"use strict";var r=n(568).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case b:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,xe=null,Ie=null;function Te(e){if(e=_i(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),be(e.stateNode,e.type,t))}}function Ee(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Se(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(Ae(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,xt,It,Tt,Et=!1,St=[],Ct=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<St.length){Bt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=1,Ht(e,t,n,r)}finally{_t=i,qt.transition=a}}function Kt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=4,Ht(e,t,n,r)}finally{_t=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=F({},cn,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},hn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return In}var En=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!On||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){jr(e,0)}function Yn(e){if(H(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Gn(t,Hn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Tr(e){if(xr[e])return xr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Er=Tr("animationend"),Sr=Tr("animationiteration"),Cr=Tr("animationstart"),Ar=Tr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Sr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Er:case Sr:case Cr:u=yn;break;case Ar:u=Nn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&l.push(Gr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Hr(d))p++;for(d=0,v=f;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)f=Hr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Hr(l),f=Hr(f)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==h&&Qr(o,h,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Wn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Bn(n))&&(_.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var bi=[],xi=-1;function Ii(e){return{current:e}}function Ti(e){0>xi||(e.current=bi[xi],bi[xi]=null,xi--)}function Ei(e,t){xi++,bi[xi]=e.current,e.current=t}var Si={},Ci=Ii(Si),Ai=Ii(!1),Ni=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Ai),Ti(Ci)}function Oi(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ci),Ei(Ci,e)):Ti(Ai),Ei(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He($e,zi),i}finally{_t=t,Vi=!1}}return null}var qi=k.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=Ii(null),Ki=null,Hi=null,Qi=null;function Yi(){Qi=Hi=Ki=null}function Xi(e){var t=Gi.current;Ti(Gi),e._currentValue=t}function Ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zi(e,t){Ki=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function $i(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Ki)throw Error(a(308));Hi=e,Ki.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Du|=o,e.lanes=o,e.memoizedState=h}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=Zu(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=$u(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=Zu(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=$u(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ju(),r=Zu(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=$u(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=$i(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=$i(a):(a=Ri(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,_a=null,ka=0,wa=[],ba=0,xa=null,Ia=1,Ta="";function Ea(e,t){ya[ga++]=ka,ya[ga++]=_a,_a=e,ka=t}function Sa(e,t,n){wa[ba++]=Ia,wa[ba++]=Ta,wa[ba++]=xa,xa=e;var r=Ia;e=Ta;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ia=1<<32-ot(t)+i|n<<i|r,Ta=a+e}else Ia=1<<a|n<<i|r,Ta=e}function Ca(e){null!==e.return&&(Ea(e,1),Sa(e,1,0))}function Aa(e){for(;e===_a;)_a=ya[--ga],ya[ga]=null,ka=ya[--ga],ya[ga]=null;for(;e===xa;)xa=wa[--ba],wa[ba]=null,Ta=wa[--ba],wa[ba]=null,Ia=wa[--ba],wa[ba]=null}var Na=null,Pa=null,Ra=!1,Da=null;function Oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ma(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==xa?{id:Ia,overflow:Ta}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Pa=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Ra){var t=Pa;if(t){var n=t;if(!Ma(e,t)){if(La(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&Ma(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Na=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Na=e}}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Ua(e){if(e!==Na)return!1;if(!Ra)return ja(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(La(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Na?ci(e.stateNode.nextSibling):null;return!0}function Va(){Pa=Na=null,Ra=!1}function Ba(e){null===Da?Da=[e]:Da.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ga(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Wa(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case b:return(t=Fc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=m}if(v===s.length)return n(i,h),Ra&&Ea(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return Ra&&Ea(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),Ra&&Ea(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=d(i,v,g.value,c);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===h?l=_:h.sibling=_,h=_,v=y}if(g.done)return n(i,v),Ra&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return Ra&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),Ra&&Ea(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Oc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=za(r,a,o),u.return=r,r=u)}return s(r);case b:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Ga(!0),Ha=Ga(!1),Qa={},Ya=Ii(Qa),Xa=Ii(Qa),Ja=Ii(Qa);function Za(e){if(e===Qa)throw Error(a(174));return e}function $a(e,t){switch(Ei(Ja,t),Ei(Xa,e),Ei(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ya),Ei(Ya,t)}function eo(){Ti(Ya),Ti(Xa),Ti(Ja)}function to(e){Za(Ja.current);var t=Za(Ya.current),n=ue(t,e.type);t!==n&&(Ei(Xa,e),Ei(Ya,n))}function no(e){Xa.current===e&&(Ti(Ya),Ti(Xa))}var ro=Ii(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=k.ReactCurrentDispatcher,uo=k.ReactCurrentBatchConfig,co=0,lo=null,ho=null,fo=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,fo=ho=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==ho&&null!==ho.next,co=0,fo=ho=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fo?lo.memoizedState=fo=e:fo=fo.next=e,fo}function xo(){if(null===ho){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=ho.next;var t=null===fo?lo.memoizedState:fo.next;if(null!==t)fo=t,ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ho=e).memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},null===fo?lo.memoizedState=fo=e:fo=fo.next=e}return fo}function Io(e,t){return"function"===typeof t?t(e):t}function To(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((co&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,lo.lanes|=h,Du|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Du|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Co(e,t){var n=lo,r=xo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Uo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==fo&&1&fo.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Eu)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&$u(e,1,-1)}function Po(e,t,n){return n((function(){Ro(t)&&$u(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Do(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return xo().memoizedState}function Lo(e,t,n,r){var i=bo();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==ho){var o=ho.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function jo(e,t){return Lo(8390656,8,e,t)}function Uo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,zo.bind(null,t,e),n)}function Wo(){}function Go(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),lo.lanes|=n,Du|=n,e.baseState=!0),t)}function Qo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{_t=n,uo.transition=r}}function Yo(){return xo().memoizedState}function Xo(e,t,n){var r=Zu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e)?$o(t,n):(es(e,t,n),null!==(e=$u(e,r,n=Ju()))&&ts(e,t,r))}function Jo(e,t,n){var r=Zu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))$o(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=$u(e,r,n=Ju()))&&ts(e,t,r)}}function Zo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function $o(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:$i,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:$i,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:$i,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Do,useDebugValue:Wo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Qo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=bo();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Eu)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=Eu.identifierPrefix;if(Ra){var n=Ta;t=":"+t+"R"+(n=(Ia&~(1<<32-ot(Ia)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:$i,useCallback:Go,useContext:$i,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ko,useReducer:To,useRef:Mo,useState:function(){return To(Io)},useDebugValue:Wo,useDeferredValue:function(e){return Ho(xo(),ho.memoizedState,e)},useTransition:function(){return[To(Io)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1},as={readContext:$i,useCallback:Go,useContext:$i,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ko,useReducer:Eo,useRef:Mo,useState:function(){return Eo(Io)},useDebugValue:Wo,useDeferredValue:function(e){var t=xo();return null===ho?t.memoizedState=e:Ho(t,ho.memoizedState,e)},useTransition:function(){return[Eo(Io)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,zu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _s(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Ri(t.type)&&Di(),gs(t),null;case 3:return r=t.stateNode,eo(),Ti(Ai),Ti(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Da&&(ac(Da),Da=null))),gs(t),null;case 5:no(t);var i=Za(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Za(Ya.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&_(e,o,l,u))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Za(Ja.current),Za(Ya.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return gs(t),null;case 13:if(Ti(ro),r=t.memoizedState,Ra&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Da&&(ac(Da),Da=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):pc())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gs(t),null;case 10:return Xi(t.type._context),gs(t),null;case 19:if(Ti(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ys(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Uu&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Ra)return gs(t),null}else 2*Je()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Za(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var ks=k.ReactCurrentOwner,ws=!1;function bs(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ka(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Zi(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||ws?(Ra&&n&&Ca(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Is(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Nu,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Nu,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Nu,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Nu,Au),Au|=r;return bs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Pi(t,a),Zi(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||ws?(Ra&&r&&Ca(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function As(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Zi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=$i(c):c=Pi(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&va(t,o,r,c),ta=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ai.current||ta?("function"===typeof l&&(ha(t,n,l,r),u=t.memoizedState),(s=ta||da(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wi(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=$i(u):u=Pi(t,u=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&va(t,o,r,u),ta=!1,f=t.memoizedState,o.state=f,ua(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ai.current||ta?("function"===typeof d&&(ha(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),$a(e,t.containerInfo)}function Rs(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,bs(e,t,n,r),t.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ls(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Mc(o,i,0,null),e=Oc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ds,e):Fs(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Mc({mode:"visible",children:i.children},o,0,null),(s=Oc(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Os(n),t.memoizedState=Ds,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===r.data)t=Vs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Eu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,$u(e,i,-1))}pc(),t=Vs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Na=t,Ra=!0,Da=null,null!==n&&(wa[ba++]=Ia,wa[ba++]=Ta,wa[ba++]=xa,Ia=n.id,Ta=n.overflow,xa=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Os(n):Ms(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i):(n=js(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Os(n):Ms(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i):(n=js(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){var i=e.child;return e=i.sibling,n=Rc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Us(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Rc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Rc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vs(e,t,n,r){return null!==r&&Ba(r),Ka(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ji(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){switch(Aa(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ti(Ai),Ti(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ti(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ro),null;case 4:return eo(),null;case 10:return Xi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Ks=!1,Hs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){xc(e,t,r)}}var Zs=!1;function $s(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Js(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Hs||Xs(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Hs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Js(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Hs&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xc(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Hs=(r=Hs)||null!==n.memoizedState,cu(e,t,n),Hs=r):cu(e,t,n);break;default:cu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));lu(o,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){xc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{$s(3,e,e.return),eu(3,e)}catch(v){xc(e,e.return,v)}try{$s(5,e,e.return)}catch(v){xc(e,e.return,v)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){xc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),_e(u,s);var l=_e(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):_(i,h,f,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){xc(e,e.return,v)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,h=e.memoizedProps;try{l.nodeValue=h}catch(v){xc(e,e.return,v)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){xc(e,e.return,v)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(ju=Je()),4&r&&hu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hs=(h=Hs)||l,fu(t,e),Hs=h):fu(t,e),pu(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(v){xc(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(v){xc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!l&&0!==(1&e.mode))for(Ys=e,e=e.child;null!==e;){for(l=Ys=e;null!==Ys;){switch(f=(h=Ys).child,h.tag){case 0:case 11:case 14:case 15:$s(4,h,h.return);break;case 1:if(Xs(h,h.return),"function"===typeof(o=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){xc(d,p,v)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){gu(l);continue}}null!==f?(f.return=h,Ys=f):gu(l)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&hu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){xc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Hs;s=Ks;var c=Hs;if(Ks=o,(Hs=u)&&!c)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Ys=u):_u(i);for(;null!==a;)Ys=a,mu(a,t,n),a=a.sibling;Ys=i,Ks=s,Hs=c}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):yu(e)}}function yu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(a(163))}Hs||512&t.flags&&tu(t)}catch(d){xc(t,t.return,d)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function gu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function _u(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){xc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xc(t,i,u)}}var a=t.return;try{tu(t)}catch(u){xc(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){xc(t,o,u)}}}catch(u){xc(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var ku,wu=Math.ceil,bu=k.ReactCurrentDispatcher,xu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Tu=0,Eu=null,Su=null,Cu=0,Au=0,Nu=Ii(0),Pu=0,Ru=null,Du=0,Ou=0,Mu=0,Lu=null,Fu=null,ju=0,Uu=1/0,Vu=null,Bu=!1,zu=null,qu=null,Wu=!1,Gu=null,Ku=0,Hu=0,Qu=null,Yu=-1,Xu=0;function Ju(){return 0!==(6&Tu)?Je():-1!==Yu?Yu:Yu=Je()}function Zu(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Cu?Cu&-Cu:null!==qi.transition?(0===Xu&&(Xu=vt()),Xu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function $u(e,t,n){if(50<Hu)throw Hu=0,Qu=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Tu)&&r===Eu||(r===Eu&&(0===(2&Tu)&&(Ou|=t),4===Pu&&oc(r,Cu)),nc(r,n),1===t&&0===Tu&&0===(1&e.mode)&&(Uu=Je()+500,Ui&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Eu||null!==ea)&&0!==(1&e.mode)&&0===(2&Tu)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Eu?Cu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===Tu&&zi()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Yu=-1,Xu=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ft(e,e===Eu?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Tu;Tu|=2;var o=dc();for(Eu===e&&Cu===t||(Vu=null,Uu=Je()+500,hc(e,t));;)try{yc();break}catch(u){fc(e,u)}Yi(),bu.current=o,Tu=i,null!==Su?t=0:(Eu=null,Cu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ru,hc(e,0),oc(e,r),nc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ru,hc(e,0),oc(e,r),nc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Fu,Vu);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=ju+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ju(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Fu,Vu),t);break}kc(e,Fu,Vu);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Fu,Vu),r);break}kc(e,Fu,Vu);break;default:throw Error(a(329))}}}return nc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fu,Fu=n,null!==t&&ac(t)),e}function ac(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function oc(e,t){for(t&=~Mu,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Tu))throw Error(a(327));wc();var t=ft(e,0);if(0===(1&t))return nc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ru,hc(e,0),oc(e,t),nc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fu,Vu),nc(e,Je()),null}function uc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Uu=Je()+500,Ui&&zi())}}function cc(e){null!==Gu&&0===Gu.tag&&0===(6&Tu)&&wc();var t=Tu;Tu|=1;var n=Iu.transition,r=_t;try{if(Iu.transition=null,_t=1,e)return e()}finally{_t=r,Iu.transition=n,0===(6&(Tu=t))&&zi()}}function lc(){Au=Nu.current,Ti(Nu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Su)for(n=Su.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:eo(),Ti(Ai),Ti(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ti(ro);break;case 10:Xi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Eu=e,Su=e=Rc(e.current,null),Cu=Au=t,Pu=0,Ru=null,Mu=Ou=Du=0,Fu=Lu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function fc(e,t){for(;;){var n=Su;try{if(Yi(),so.current=ns,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,fo=ho=lo=null,vo=!1,mo=0,xu.current=null,null===n||null===n.return){Pu=1,Ru=t,Su=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ps(o,l,t),pc();break e}c=Error(a(426))}else if(Ra&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),Ba(c);break e}}o=c,4!==Pu&&(Pu=2),null===Lu?Lu=[o]:Lu.push(o),c=os(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,fs(0,c,t));break e;case 1:o=c;var g=u.type,_=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===qu||!qu.has(_)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}_c(n)}catch(k){t=k,Su===n&&null!==n&&(Su=n=n.return);continue}break}}function dc(){var e=bu.current;return bu.current=ns,null===e?ns:e}function pc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Eu||0===(268435455&Du)&&0===(268435455&Ou)||oc(Eu,Cu)}function vc(e,t){var n=Tu;Tu|=2;var r=dc();for(Eu===e&&Cu===t||(Vu=null,hc(e,t));;)try{mc();break}catch(i){fc(e,i)}if(Yi(),Tu=n,bu.current=r,null!==Su)throw Error(a(261));return Eu=null,Cu=0,Pu}function mc(){for(;null!==Su;)gc(Su)}function yc(){for(;null!==Su&&!Ye();)gc(Su)}function gc(e){var t=ku(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?_c(e):Su=t,xu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=_s(n,t,Au)))return void(Su=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Su=n);if(null===e)return Pu=6,void(Su=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Su=t);Su=t=e}while(null!==t);0===Pu&&(Pu=5)}function kc(e,t,n){var r=_t,i=Iu.transition;try{Iu.transition=null,_t=1,function(e,t,n,r){do{wc()}while(null!==Gu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Eu&&(Su=Eu=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=_t;_t=1;var u=Tu;Tu|=4,xu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(b){xc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Zs,Zs=!1}(e,n),du(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Xe(),Tu=u,_t=s,Iu.transition=o}else e.current=n;if(Wu&&(Wu=!1,Gu=e,Ku=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bu)throw Bu=!1,e=zu,zu=null,e;0!==(1&Ku)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qu?Hu++:(Hu=0,Qu=e):Hu=0,zi()}(e,t,n,r)}finally{Iu.transition=i,_t=r}return null}function wc(){if(null!==Gu){var e=kt(Ku),t=Iu.transition,n=_t;try{if(Iu.transition=null,_t=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Ku=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ys=l;null!==Ys;){var h=Ys;switch(h.tag){case 0:case 11:case 15:$s(8,h,o)}var f=h.child;if(null!==f)f.return=h,Ys=f;else for(;null!==Ys;){var d=(h=Ys).sibling,p=h.return;if(nu(h),h===l){Ys=null;break}if(null!==d){d.return=p,Ys=d;break}Ys=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:$s(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ys=g;break e}Ys=o.return}}var _=e.current;for(Ys=_;null!==Ys;){var k=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Ys=k;else e:for(s=_;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(b){xc(u,u.return,b)}if(u===s){Ys=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ys=w;break e}Ys=u.return}}if(Tu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{_t=n,Iu.transition=t}}return!1}function bc(e,t,n){aa(e,t=fs(0,t=os(n,t),1)),t=Ju(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function xc(e,t,n){if(3===e.tag)bc(e,e,n);else for(;null!==t;){if(3===t.tag){bc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=Ju(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ju(),e.pingedLanes|=e.suspendedLanes&n,Eu===e&&(Cu&n)===n&&(4===Pu||3===Pu&&(130023424&Cu)===Cu&&500>Je()-ju?hc(e,0):Mu|=n),nc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ju();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Oc(n.children,i,o,t);case I:s=8,i|=8;break;case T:return(e=Nc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case S:s=9;break e;case C:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=ia(r=Ju(),i=Zu(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Ju(),o=Zu(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=$u(i,o,a))&&oa(e,i,o),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Va();break;case 5:to(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Gi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ei(ro,1&ro.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Ra&&0!==(1048576&t.flags)&&Sa(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ci.current);Zi(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,Ra&&o&&Ca(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=Wi(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Is(null,t,r,Wi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Rs(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Na=t,Ra=!0,Da=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Ws(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Ls(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(Gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ji(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ji(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zi(t,n),r=r(i=$i(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=Wi(r=t.type,t.pendingProps),Is(e,t,r,i=Wi(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Zi(t,n),pa(t,r,i),ma(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Je()),0===(6&Tu)&&(Uu=Je()+500,zi()))}break;case 13:var r=Ju();cc((function(){return $u(e,1,r)})),Kc(e,1)}},bt=function(e){13===e.tag&&($u(e,134217728,Ju()),Kc(e,134217728))},xt=function(e){if(13===e.tag){var t=Ju(),n=Zu(e);$u(e,n,t),Kc(e,n)}},It=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[_i,ki,wi,Ee,Se,uc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=_.prototype=new g;k.constructor=_,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)b.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(b);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function b(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),k(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&O(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,T=null,E=-1,S=5,C=-1;function A(){return!(t.unstable_now()-C<S)}function N(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?x():(I=!1,T=null)}}else I=!1}if("function"===typeof _)x=function(){_(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function D(e){T=e,I||(I=!0,x())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(b))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},990:function(e,t,n){var r={"./dummy-1.jpg":917,"./dummy-2.jpg":558,"./dummy-3.jpg":729,"./kakaoShare.png":682,"./kakaopay.png":322,"./kv.jpeg":108,"./link.png":616,"./paper.jpeg":981,"./pencil.png":804,"./share.png":317};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=990},917:function(e,t,n){"use strict";e.exports=n.p+"static/media/dummy-1.a95c4474fa66a95160da.jpg"},558:function(e,t,n){"use strict";e.exports=n.p+"static/media/dummy-2.9d511b629936fbf17808.jpg"},729:function(e,t,n){"use strict";e.exports=n.p+"static/media/dummy-3.287078f8a9775f0aa2c3.jpg"},682:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAYAAABRRIOnAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAANwElEQVR42u2deXRU1R3HP/Myk4QQCDuEfZN9iUJFWVVEENCDKKDUqoALIkipVq14WuuxPW54kCIckEUKVioePBUUpbVoQSAsVeQoUNkRSMIWyM4kM/3jZnAyZDJLZuZ33+R9zplDMvPy3u9evnOX3/3d37W5zxDP2IG2QCegK9AaaOj1MoB6gK38+stAQfm/ucBZIBs4BhwFjgA/ln8el9ilDYggDYAbgRuA7kBnoCOQGOHnOIEDwF5gN7AV2FX+vumxmbiFSAYGAyOAYSgR2Kp1x/ApArYBn5W/9kpXTriYTRC1gNuBCcAooLa0QX44DnwIfADsANzSBgWLWQRxAzAFuBdIlTYmRA4B7wLLgFPSxgRCZ0EkAfcDTwK9pI2JAGXAOuBNYLO0Mf7QURB1genADKCZtDFRYgfwGrAWzboTnQSRihLC06gpYU1gD/B7VMuhhTB0EIQBPAS8DKRLGyPEdmBW+b+iGMLPH4Cawy+l5ooB1KB5a3k9NJU0REoQdYH5wH+AayUrQCNswGTgB2ASQj4ViS7jVmA50FKiwCbinyiB/BTLh8ayhUgC5gAbscQQDMNQg857YvnQWLUQ7VBTrIxYFi6OWATMBEqi/aBYtBC3owaOGTF4VrzyGPAVMWhZoy2Ip4H1qJVIi+rRD7W62i+aD4mWIBKAhcDrUXxGTaQJsAkYG60HROM/Kxn4CJgaLaNrOLWANcC0aNw80oKojeoi7ohypdR0DOBt4Jlo3DhS1AY+B4bGqFIs4FXgD5G8YaQEkQJ8jHJFW8SWF1GD94gQCUEkoiKDbhGqEAu1lB6RMVskBDEPFc5mIYcNtTZ0Z3VvVF1BPIdymljIkwC8TzX9FNVxXY9FBZJKRTpbVM4poA+QFc4fh9tCdEYFjVpi0I/mqDFdWPtRwhFEbdRCVZp0yS38Mgg1JQ2ZcATxJtBNusQWAZmJWlgMiVDHEGNQbmkLc5AF9AZygv2DUFqIRsA70iW0CIlmqEXGoAlFEHNRorAwF2MJYXU02C5jBLBBumQWYXMKtRk6N9CFwbQQSShvpIV5aU6Qi2DBCGI6cI10iSyqzRNAl0AXBeoyGgMHUfsoLMxPwFiVQC3EM1hiiCdGA/2ruqCqFiIdlduglnQpqoPLBSeOOziwL5HDBx1knbaTdTqBnGw7hQU2iottlJYqD7zD4SYpyU3tVBeNm5TRLL2MZumltO/opHPXy7Rq7cQwf4ToJqoIVahKEHNR3i7Tceqkna831yJzazJ7vkmmqDAySy4pKS56XVtCv/7FDBhURPMWpdJFDZchqG2UV+FPEPWAE5goW0vuBYPPPqnNhnWpHDroiMkzO3R0cvsd+YwYVUC9+i7pKgiFdfiJnfAniOeBP0lbHQyHDjpYuSyNTf9KoaxMxga73c1NQ4v41eSLdOhoimR0bqAHamNxBSoThB2Vl7G5tNVVcfiQg3cW1GPzl3oNcQbdVMQj03Jp30F7YSyikrC7ygQxBo0XsPLzDZYsTGPtB3VwadpKGwbcPT6PKY9fJDVVUyMhD/Wlz69geyUXPixtqT8ytyUz8a50PlytrxhAzWzWrK7DxLHpZG5LljbHH3VQ6R0r4NtCpKMGkwnS1nrjdNpYNL8eq1fVkTYlLO69P4/HpuficGiRRsqbrfhsnfAVxJPAW9JWepOfZ/C7pxrxzW5tv2lBcV3fYv78xllS62jVtLlRucCPe97w7TLGS1voTU52AlMnNTW9GAD+uyuZqZOakpOtVeNrA8ZVeMOrhWiOSl+jReBsTnYCMx5tysmf4ik/O7RoWcpfFmfTpKnQHPlqMlFJz4CKLcRINBHDxYsGs6Y1iTsxAJz8yc6saU24eFEbH/gv8MoL6m3VbdKWgRqhvzS7EceOxsbbKMGxow5emt1Il5mSAQz3/gXUrEILQaxYmqbzVC1iZG5LZsVSbXYyjPD84BFEBhrss9j/QyLLF4ubETOWL05j/w+RPt8lLAZ6fjB835DC5YI5rzTQpRmtaWVuR/lShUcQUU1kFQwb1qWy73stvi0xZd/3iWxYp8Wicn/4WRC9JS1xuWDVipobmLVqRV0dWokMUIKohdq8K8aWr1I4cSz+ppjBcuKYnS1fpUib0ROUILohvHax/h+6Hp1Vo+ogA5QgRFuHwkKDndvjf5oZiJ3bkyksFHVWtQKSDNTihhiZW5NxOrVwkIridNrI3Cr6xbAB7cQFock8XAs0qIt2BqqpEOPAfvFK0AYN6qKFgfCO7pMnau7swhcN6qKxgXCm+kv6rPqJo0FdNDIQPhKxoEC8ErRBg7poYKDv+dkWsSfRQO3DEMORqF3gqRgaxFvWFm+jGjXWJpRMnLp1xQVhFxeEiTfMRpw2beV3e4kLoku3y9ImaEOnLuKCKDUA0a9oz15RP3nQNHTrIV4XBQZQIGlB337F1sASSK7lpm+/YmkzLhvAOdGKSHYzcHCRdEWIM2BQEUlJ4l+M8wZwXtqK0WPyq38Tk3OHHnVw1gDOSltx/Q3FZkm0ERU6dbmsQ3cBcMZA7fYWxWaDKVMvSpshxoNTLkmb4OGkARyVtgJg8M2FZPQRH2XHnL79ihlyS6G0GR6OaiMIgOdeOFejZhwOh5unnhUfwnlwA4cN4IC0JR5ati5l+q9zpc2IGTOfvkCrNtp4ak8AJQYqE5k2Cwp3T8hj2AhR10hMGD6ygDH3aDGz8LAHlOu6CPiftDXePP+H8/TsHb/jiR69SvjtbG26Cg/fwc9rGd9KW+ONI9HN6/PO0K17/K1ztO/g5LW3zpCcrN1Y6Vv4WRBfS1vjS2qqizcX5NArI35ait7XljB/SbYOy9yVsRU0FgQoUcxdmMPQ27SZloXNrcMLmbswR1cxHEGdunMlx1QCak1Dy+QMbjf8/b06LJxXXyx9cbg4HG6mzshl/MQ8bPruR1oJPAA/txBlwEZpq/xhs6lcj++szKKd/imDr9C2vZPFK7KZ8EutxQDwmecH7yx0D2OCYxhLS228v7IOK5amUVykZy2npLh46JFLjJ+Yh92u3eDRFxfQlPI1LW3TEgbi3NkE5s2pzxcbxbfRXyEx0c3oMfk8OOUSDRuZpm+rkJbQO+L6FJWkutWVho3KaN/xshaCSEtzMXpMPuMn5plJCB7WeP/iG4L/ASYRBMDOTLmjEex2FeE06s4CBg4uMusajBsfQZgi+XllFBfbGDGk5ZXzsqKNzQatWjvJuK6EGwcW0ef6ElJStJxChsJVPYJvC3EaNeIcJW1pIL7dnRyyGDL6lNC9RwnZWXZyshMoLLSRn2dcyU+RmKgOYEtMhGbppeUv1TV16uKMBwH4stz3jcp2bS3BBILYtSP45BpJSW6mzcxl7Hjtp3+xJA9Y7ftmZYJYj2op0qUtroqdmcEJomfvEma/eI6WrbVZZtaFv+Fzmg5UvlGnFFggbW1VXDifwKEfq86F7UhUrcLbS7ItMVyNGz/nufvbuTWfStSjC4G6i85dL7P8vSwmPnApHg5ejQafUsmJfOBfELnAUmmr/bHLT3eRkKCCdRevyKJte/O4uAV43d8HVZ3s2xx1ELxe5yACY0e2uOpkmg4dnbzw0jmu6Rx/MRQR5kvgZn8fVtWgnkLDscSJY/YKYjAMeGDyJZaszLLEEBwvVPVhoB72NUCbTQOgzq7y0LqNk4XLsnn0iVyzegpjzQYCxL4EEkQO8LJ0KbypV9+F3e5m3H15vLs6i+494yeiKso4gd8EuqiqMYSHJGAvcI10iSyqxTxgZqCLghEEqAPaPpEukUXYnEYluc8NdGGws/RPUZ4tC3MygyDEAMG3EACNUc4M0cy3FiHzETA22ItD8eOdAR6VLp1FSGQDj4fyB6E6dj/CBHGXFoBar5iEEkXQhOPpnwXsky6tRUDeQvkdQiKUMYQ3XVDBmTX35DS92QIMBUJ23Ya7Frgf1RxZ7kH9OA2MJwwxQPUSl64FnpcuvUUFCoG7UKIIi+pGC7wCLJOuBQtA7b67D9WVh00kwkceRzmuLORwo5xPH1f3RpEQxGVgHLBJuFJqMs8ACyNxo0gFmBUCd6JpWoE450XgjUjdLJIRh/nACODfMa6QmsxzwB8jecNIh6Dmo/Z0rI9VjdRQXMB04NVI3zgaMcnFqKnPoihXSk2lCJgAvB2Nm0crSL0UmAo8i1KzRWTIQXkgP4zWA8J1XYfCSGAVUD/qT4pvdgL3AMej+ZBYbGP5FOiLZqkPTcZiYBBRFgPE7sytw6gsJXOx1j9C4QJqXeIxICbRxLHoMny5DeXubhHzJ5uLL1ALiDE9vkJi5+NGVMDnAqwBZ2VcACYDwxA4y0RqK+wl4AlgCPCNkA264Qb+CnRFJfIQ6Vql90ZvQQ04p1CNJds4YDvQH3iQEEPeIo20IEB1G8uATqj4Cu3SxEeR74AxKDFslzYGZAaVgaiLcsvOAJpJGxMldqHczmvRbByloyA8JAH3A08CvaSNiQBlqDWeOcBmaWP8obMgvLkRlXp5PJAqbUyIHEENEpdSnnFeZ8wiCA+1UKup44DRgHwa28o5gVpvWIMaG5jGGWc2QXiTDAxGxWAMR03XpJIOFgE7gM9Rrvo90pUTLmYWhC8NUF3LANS+ka5AeyAxws8pRZ1kuBc1ONwG7CZGruVoE0+CqAw70A7oXP5qAzT0eiVQ8dCYUlRCTydqt/QZ1JLzMdRY4AjwI2HueTAD/weCk4djpIG29QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0xMC0yMFQxNDoyMDoxNCswOTowMO7MkygAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMTAtMjBUMTQ6MjA6MTQrMDk6MDCfkSuUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},322:function(e,t,n){"use strict";e.exports=n.p+"static/media/kakaopay.6779b605870ee0eb8ab0.png"},108:function(e,t,n){"use strict";e.exports=n.p+"static/media/kv.2c4421139bb1aca7d9b4.jpeg"},616:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJ2SURBVFiFtdc7a1RBGMbx38Q0iogX1IhLUniLKIJiI9iIjQjBC4ig30ALwcIy+BFEkCB2Qiy8IBG0UqxFiCIoiYmmSYgpEm+NFmYszsmymezuOZtsBqbYnffd//Oe884zsyHGqN0jhNCHsziMPfiKd3geY3y0KDjG2LaJLXiA2GQOoaua00Z4L6YK4AtzBtvbJiCHT5eEL8wnMUZhpT0QQujFa3QlS79wGx9wANewMYk5s1qVj6Enie3B9yTu3mrBKw1ybiaxw8uF72oVnuddSOJ/d7T+1pFtt0+Yq/luHCdijJNN8g4ln0fasQO6cVq+rZrE9eBn8gQGOlspO4SwD8dwBDvwBW/wLMb4r0leBS+xIVl6WrbKtbiFefX39FdcbJBbkfVGmnO/lBHJuv1zA3A6r5eET2FzoQCtO9w0Ogvg0+itMpYB/ys7UAZkO6F2bQ7rysIbCmgCH5PZ6oKFr8FVjOZ9cFm2K8bLwOsKKIBXcCmHjeIKOvK8gIOYKAtfIqAEfB1mk7X3uIPH+NMKfJGAInge04lvJRuyEF4VgM3qXyaWeLvsWG3kB6k3NIXXChgsA68RcRKTDcDzeIhNZUwuyHz8ucWj8GAJIazHeRzHTtkF5CMGY4wTjfLqjbtJBT/QXWBQW3PhTeNK2ry3iYD+goTUZGbxCkeWK+B3IqCvBXhtt+9ejoAO2UFTO/Y3eOcV2eVzd7L0TdYv4+Xf+uKR9sAMtiWVdzepvHCrFb2Cc3V+eAY30Id+WWO2HV7rA0N1ACtyuFYFdOVVl4FPtQteFVAjouhJDMpvMu2aS/6ahRDO4RSOYi9GMIyhGOOLsp1ddvwH0t0pWQM+GpkAAAAASUVORK5CYII="},981:function(e,t,n){"use strict";e.exports=n.p+"static/media/paper.620b111197d9d4a280f3.jpeg"},804:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAXAAAAFwBhyfMcAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACXSURBVDiNzdI9CsJQEEXhzyI7CP5sxYXYuA4t3JO9XbS21ARBXILgAoRYJA9CiOElNh6YZuDcO8UwjBkyPLEZ6EpwQdmYbayc1gFrvBsBrxh5iiv2HSFZrBwaQ8iq3i+GyO2QpE+eo+iQy3qfjmkucRt79p/LCfIvcqF6316WY5sDu19kOLTkPObswAQP3HHCEWfVr0fxAbSiWClHz+v4AAAAAElFTkSuQmCC"},317:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHzSURBVFiFxde9axRBHMbxz3lB8bhgqUHEIogSbKJICkELazvxpQixsbIQLGzEwiqF+BdIRFE7O4OFRUQLhYiFXIo0ChbaiShR5NSsxe6S8bjLzZpZMzDN7jP7++7sM8/syLJMHR3jmEMHX/ECs2j/paup+DRWkPXp73CoNgBMojugeAjRrgvg5ZDiZZ/NsswWCVuj0WjhSKT8ONIC4ACakdqDdQC8r6pNDdDF50jtItKZEOfwQZwBVzCeZBVgAk+LB6/iDm6uU7yL6Q3nANq4gZ/Fg9/gaHD/FJYKqAy/5Et0ct0kxBSu4C6u4QSaPZqzwXR/waVeTaDdIQ+nVt/7gXAUtwZM2wLGiuleCK7fw64NfcIAYH6IcT5Zi9gOjiUxb1H8fKR7f+AyRpKtngLgcSTAt0Hf+l97GUSHxbUW9kdqo1oJ0K0wZrUOgNcVxuxOCVB64KQ4D5T9CaaSmbCAuD2k6HPMYDm49khPsvUJolGRQdTEVf1/px5gW6CbwVtr+f8QE33SclEewZWieA9O4zrOYOeANxvBBfm+nuE37mNf8SLlHlDPZhSAbMVFfAxm5P9txwHIdnlKxhp5LilAATFWAaATJmGqNlZBu5f0/4TLcjPGtKXkAFmWfcerSPmzclBqH2zu0ayA2LzDaQARdTz/A9RXxJFcGTgUAAAAAElFTkSuQmCC"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/yes-wedding/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ah},SDK_VERSION:function(){return bf},_DEFAULT_ENTRY_NAME:function(){return cf},_addComponent:function(){return df},_addOrOverwriteComponent:function(){return pf},_apps:function(){return hf},_clearComponents:function(){return gf},_components:function(){return ff},_getProvider:function(){return mf},_registerComponent:function(){return vf},_removeServiceInstance:function(){return yf},deleteApp:function(){return Ef},getApp:function(){return If},getApps:function(){return Tf},initializeApp:function(){return xf},onLog:function(){return Af},registerVersion:function(){return Cf},setLogLevel:function(){return Nf}});var t=n(791),r=n(250);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o,s,u,c,l,h,f,d,p,v={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},m={duration:.5,overwrite:!1,delay:0},y=1e8,g=1e-8,_=2*Math.PI,k=_/4,w=0,b=Math.sqrt,x=Math.cos,I=Math.sin,T=function(e){return"string"===typeof e},E=function(e){return"function"===typeof e},S=function(e){return"number"===typeof e},C=function(e){return"undefined"===typeof e},A=function(e){return"object"===typeof e},N=function(e){return!1!==e},P=function(){return"undefined"!==typeof window},R=function(e){return E(e)||T(e)},D="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},O=Array.isArray,M=/(?:-?\.?\d|\.)+/gi,L=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,F=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,j=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,U=/[+-]=-?[.\d]+/,V=/[^,'"\[\]\s]+/gi,B=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,z={},q={},W=function(e){return(q=me(e,z))&&sn},G=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},K=function(e,t){return!t&&console.warn(e)},H=function(e,t){return e&&(z[e]=t)&&q&&(q[e]=t)||z},Q=function(){return 0},Y={},X=[],J={},Z={},$={},ee=30,te=[],ne="",re=function(e){var t,n,r=e[0];if(A(r)||E(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=te.length;n--&&!te[n].targetTest(r););t=te[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new At(e[n],t)))||e.splice(n,1);return e},ie=function(e){return e._gsap||re(Qe(e))[0]._gsap},ae=function(e,t,n){return(n=e[t])&&E(n)?e[t]():C(n)&&e.getAttribute&&e.getAttribute(t)||n},oe=function(e,t){return(e=e.split(",")).forEach(t)||e},se=function(e){return Math.round(1e5*e)/1e5||0},ue=function(e){return Math.round(1e7*e)/1e7||0},ce=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},le=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},he=function(){var e,t,n=X.length,r=X.slice(0);for(J={},X.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},fe=function(e,t,n,r){X.length&&he(),e.render(t,n,r),X.length&&he()},de=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(V).length<2?t:T(e)?e.trim():e},pe=function(e){return e},ve=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},me=function(e,t){for(var n in t)e[n]=t[n];return e},ye=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=A(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},ge=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},_e=function(e){var t,n=e.parent||s,r=e.keyframes?(t=O(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):ve;if(N(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ke=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},we=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},be=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},xe=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Ie=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Te=function e(t){return!t||t._ts&&e(t.parent)},Ee=function(e){return e._repeat?Se(e._tTime,e=e.duration()+e._rDelay)*e:0},Se=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Ce=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ae=function(e){return e._end=ue(e._start+(e._tDur/Math.abs(e._ts||e._rts||g)||0))},Ne=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ue(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ae(e),n._dirty||xe(n,e)),e},Pe=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=Ce(e.rawTime(),t),(!t._dur||qe(0,t.totalDuration(),n)-t._tTime>g)&&t.render(n,!0)),xe(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Re=function(e,t,n,r){return t.parent&&be(t),t._start=ue((S(n)?n:n||e!==s?Ve(e,n,t):e._time)+t._delay),t._end=ue(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ke(e,t,"_first","_last",e._sort?"_start":0),Le(t)||(e._recent=t),r||Pe(e,t),e},De=function(e,t){return(z.ScrollTrigger||G("scrollTrigger",t))&&z.ScrollTrigger.create(t,e)},Oe=function(e,t,n,r){return Ft(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&f!==mt.frame?(X.push(e),e._lazy=[t,r],1):void 0:1},Me=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Le=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Fe=function(e,t,n,r){var i=e._repeat,a=ue(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:ue(a*(i+1)+e._rDelay*i):a,o>0&&!r?Ne(e,e._tTime=e._tDur*o):e.parent&&Ae(e),n||xe(e.parent,e),e},je=function(e){return e instanceof Pt?xe(e):Fe(e,e._dur)},Ue={_start:0,endTime:Q,totalDuration:Q},Ve=function e(t,n,r){var i,a,o,s=t.labels,u=t._recent||Ue,c=t.duration()>=y?u.endTime(!1):t._dur;return T(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?u:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=c),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(O(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:c+a)):null==n?c:+n},Be=function(e,t,n){var r,i,a=S(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=N(i.vars.inherit)&&i.parent;s.immediateRender=N(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new zt(t[0],s,t[o+1])},ze=function(e,t){return e||0===e?t(e):t},qe=function(e,t,n){return n<e?e:n>t?t:n},We=function(e,t){return T(e)&&(t=B.exec(e))?t[1]:""},Ge=[].slice,Ke=function(e,t){return e&&A(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&A(e[0]))&&!e.nodeType&&e!==u},He=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return T(e)&&!t||Ke(e,1)?(r=n).push.apply(r,Qe(e)):n.push(e)}))||n},Qe=function(e,t,n){return!T(e)||n||!c&&yt()?O(e)?He(e,n):Ke(e)?Ge.call(e,0):e?[e]:[]:Ge.call((t||l).querySelectorAll(e),0)},Ye=function(e){return e.sort((function(){return.5-Math.random()}))},Xe=function(e){if(E(e))return e;var t=A(e)?e:{each:e},n=It(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,u=t.axis,c=r,l=r;return T(r)?c=l={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(c=r[0],l=r[1]),function(e,o,h){var f,d,p,v,m,g,_,k,w,x=(h||t).length,I=a[x];if(!I){if(!(w="auto"===t.grid?0:(t.grid||[1,y])[1])){for(_=-y;_<(_=h[w++].getBoundingClientRect().left)&&w<x;);w--}for(I=a[x]=[],f=s?Math.min(w,x)*c-.5:r%w,d=w===y?0:s?x*l/w-.5:r/w|0,_=0,k=y,g=0;g<x;g++)p=g%w-f,v=d-(g/w|0),I[g]=m=u?Math.abs("y"===u?v:p):b(p*p+v*v),m>_&&(_=m),m<k&&(k=m);"random"===r&&Ye(I),I.max=_-k,I.min=k,I.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(w>x?x-1:u?"y"===u?x/w:w:Math.max(w,x/w))||0)*("edges"===r?-1:1),I.b=x<0?i-x:i,I.u=We(t.amount||t.each)||0,n=n&&x<0?bt(n):n}return x=(I[e]-I.min)/I.max||0,ue(I.b+(n?n(x):x)*I.v)+I.u}},Je=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Math.round(parseFloat(n)/e)*e*t;return(r-r%1)/t+(S(n)?0:We(n))}},Ze=function(e,t){var n,r,i=O(e);return!i&&A(e)&&(n=i=e.radius||y,e.values?(e=Qe(e.values),(r=!S(e[0]))&&(n*=n)):e=Je(e.increment)),ze(t,i?E(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),u=y,c=0,l=e.length;l--;)(i=r?(i=e[l].x-o)*i+(a=e[l].y-s)*a:Math.abs(e[l]-o))<u&&(u=i,c=l);return c=!n||u<=n?e[c]:t,r||c===t||S(t)?c:c+We(t)}:Je(e))},$e=function(e,t,n,r){return ze(O(e)?!t:!0===n?!!(n=0):!r,(function(){return O(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},et=function(e,t,n){return ze(n,(function(n){return e[~~t(n)]}))},tt=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?V:M),o+=e.substr(a,t-a)+$e(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},nt=function(e,t,n,r,i){var a=t-e,o=r-n;return ze(i,(function(t){return n+((t-e)/a*o||0)}))},rt=function(e,t,n){var r,i,a,o=e.labels,s=y;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},it=function(e,t,n){var r,i,a=e.vars,o=a[t];if(o)return r=a[t+"Params"],i=a.callbackScope||e,n&&X.length&&he(),r?o.apply(i,r):o.call(i)},at=function(e){return be(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&it(e,"onInterrupt"),e},ot=function(e){var t=(e=!e.name&&e.default||e).name,n=E(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Q,render:Jt,add:Mt,kill:$t,modifier:Zt,rawVars:0},a={targetTest:0,get:0,getSetter:Ht,aliases:{},register:0};if(yt(),e!==r){if(Z[t])return;ve(r,ve(ge(e,i),a)),me(r.prototype,me(i,ge(e,a))),Z[r.prop=t]=r,e.targetTest&&(te.push(r),Y[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}H(t,r),e.register&&e.register(sn,r,nn)},st=255,ut={aqua:[0,st,st],lime:[0,st,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,st],navy:[0,0,128],white:[st,st,st],olive:[128,128,0],yellow:[st,st,0],orange:[st,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[st,0,0],pink:[st,192,203],cyan:[0,st,st],transparent:[st,st,st,0]},ct=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*st+.5|0},lt=function(e,t,n){var r,i,a,o,s,u,c,l,h,f,d=e?S(e)?[e>>16,e>>8&st,e&st]:0:ut.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),ut[e])d=ut[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(d=parseInt(e.substr(1,6),16))>>16,d>>8&st,d&st,parseInt(e.substr(7),16)/255];d=[(e=parseInt(e.substr(1),16))>>16,e>>8&st,e&st]}else if("hsl"===e.substr(0,3))if(d=f=e.match(M),t){if(~e.indexOf("="))return d=e.match(L),n&&d.length<4&&(d[3]=1),d}else o=+d[0]%360/360,s=+d[1]/100,r=2*(u=+d[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),d.length>3&&(d[3]*=1),d[0]=ct(o+1/3,r,i),d[1]=ct(o,r,i),d[2]=ct(o-1/3,r,i);else d=e.match(M)||ut.transparent;d=d.map(Number)}return t&&!f&&(r=d[0]/st,i=d[1]/st,a=d[2]/st,u=((c=Math.max(r,i,a))+(l=Math.min(r,i,a)))/2,c===l?o=s=0:(h=c-l,s=u>.5?h/(2-c-l):h/(c+l),o=c===r?(i-a)/h+(i<a?6:0):c===i?(a-r)/h+2:(r-i)/h+4,o*=60),d[0]=~~(o+.5),d[1]=~~(100*s+.5),d[2]=~~(100*u+.5)),n&&d.length<4&&(d[3]=1),d},ht=function(e){var t=[],n=[],r=-1;return e.split(dt).forEach((function(e){var i=e.match(F)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},ft=function(e,t,n){var r,i,a,o,s="",u=(e+s).match(dt),c=t?"hsla(":"rgba(",l=0;if(!u)return e;if(u=u.map((function(e){return(e=lt(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=ht(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(dt,"1").split(F)).length-1;l<o;l++)s+=i[l]+(~r.indexOf(l)?u.shift()||c+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!i)for(o=(i=e.split(dt)).length-1;l<o;l++)s+=i[l]+u[l];return s+i[o]},dt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in ut)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),pt=/hsl[a]?\(/,vt=function(e){var t,n=e.join(" ");if(dt.lastIndex=0,dt.test(n))return t=pt.test(n),e[1]=ft(e[1],t),e[0]=ft(e[0],t,ht(e[1])),!0},mt=function(){var e,t,n,r,i,a,o=Date.now,s=500,f=33,d=o(),v=d,m=1e3/240,y=m,g=[],_=function n(u){var c,l,h,p,_=o()-v,k=!0===u;if(_>s&&(d+=_-f),((c=(h=(v+=_)-d)-y)>0||k)&&(p=++r.frame,i=h-1e3*r.time,r.time=h/=1e3,y+=c+(c>=m?4:m-c),l=1),k||(e=t(n)),l)for(a=0;a<g.length;a++)g[a](h,i,p,u)};return r={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){h&&(!c&&P()&&(u=c=window,l=u.document||{},z.gsap=sn,(u.gsapVersions||(u.gsapVersions=[])).push(sn.version),W(q||u.GreenSockGlobals||!u.gsap&&u||{}),n=u.requestAnimationFrame),e&&r.sleep(),t=n||function(e){return setTimeout(e,y-1e3*r.time+1|0)},p=1,_(2))},sleep:function(){(n?u.cancelAnimationFrame:clearTimeout)(e),p=0,t=Q},lagSmoothing:function(e,t){s=e||1e8,f=Math.min(t,s,0)},fps:function(e){m=1e3/(e||240),y=1e3*r.time+m},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),g[n?"unshift":"push"](i),yt(),i},remove:function(e,t){~(t=g.indexOf(e))&&g.splice(t,1)&&a>=t&&a--},_listeners:g},r}(),yt=function(){return!p&&mt.wake()},gt={},_t=/^[\d.\-M][\d.\-,\s]/,kt=/["']/g,wt=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)n=a[s],t=s!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(kt,"").trim():+r,o=n.substr(t+1).trim();return i},bt=function(e){return function(t){return 1-e(1-t)}},xt=function e(t,n){for(var r,i=t._first;i;)i instanceof Pt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},It=function(e,t){return e&&(E(e)?e:gt[e]||function(e){var t=(e+"").split("("),n=gt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[wt(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(de)):gt._CE&&_t.test(e)?gt._CE("",e):n}(e))||t},Tt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return oe(e,(function(e){for(var t in gt[e]=z[e]=a,gt[i=e.toLowerCase()]=n,a)gt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=gt[e+"."+t]=a[t]})),a},Et=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},St=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/_*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*I((e-o)*a)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Et(s);return a=_/a,u.config=function(n,r){return e(t,n,r)},u},Ct=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Et(r);return i.config=function(n){return e(t,n)},i};oe("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Tt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),gt.Linear.easeNone=gt.none=gt.Linear.easeIn,Tt("Elastic",St("in"),St("out"),St()),function(e,t){var n=1/t,r=function(r){return r<n?e*r*r:r<.7272727272727273?e*Math.pow(r-1.5/t,2)+.75:r<.9090909090909092?e*(r-=2.25/t)*r+.9375:e*Math.pow(r-2.625/t,2)+.984375};Tt("Bounce",(function(e){return 1-r(1-e)}),r)}(7.5625,2.75),Tt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Tt("Circ",(function(e){return-(b(1-e*e)-1)})),Tt("Sine",(function(e){return 1===e?1:1-x(e*k)})),Tt("Back",Ct("in"),Ct("out"),Ct()),gt.SteppedEase=gt.steps=z.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*qe(0,.99999999,e)|0)+i)*n}}},m.ease=gt["quad.out"],oe("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ne+=e+","+e+"Params,"}));var At=function(e,t){this.id=w++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ae,this.set=t?t.getSetter:Ht},Nt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Fe(this,+e.duration,1,1),this.data=e.data,p||mt.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Fe(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(yt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Ne(this,e),!n._dp||n.parent||Pe(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Re(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===g||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),fe(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ee(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ee(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Se(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Ce(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(qe(-this._delay,this._tDur,t),!0),Ae(this),Ie(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==g&&(this._tTime-=g)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Re(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(N(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ce(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,je(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,je(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ve(this,e),N(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,N(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-g))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=E(e)?e:pe,i=function(){var e=t.then;t.then=null,E(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){at(this)},e}();ve(Nt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Pt=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=N(t.sortChildren),s&&Re(t.parent||s,i(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&De(i(r),t.scrollTrigger),r}a(t,e);var n=t.prototype;return n.to=function(e,t,n){return Be(0,arguments,this),this},n.from=function(e,t,n){return Be(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Be(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,_e(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new zt(e,t,Ve(this,n),1),this},n.call=function(e,t,n){return Re(this,zt.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new zt(e,n,Ve(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,_e(n).immediateRender=N(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,_e(r).immediateRender=N(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,o,u,c,l,h,f,d,p,v,m=this._time,y=this._dirty?this.totalDuration():this._tDur,_=this._dur,k=e<=0?0:ue(e),w=this._zTime<0!==e<0&&(this._initted||!_);if(this!==s&&k>y&&e>=0&&(k=y),k!==this._tTime||n||w){if(m!==this._time&&_&&(k+=this._time-m,e+=this._time-m),r=k,f=this._start,c=!(h=this._ts),w&&(_||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(p=this._yoyo,u=_+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,n);if(r=ue(k%u),k===y?(o=this._repeat,r=_):((o=~~(k/u))&&o===k/u&&(r=_,o--),r>_&&(r=_)),d=Se(this._tTime,u),!m&&this._tTime&&d!==o&&(d=o),p&&1&o&&(r=_-r,v=1),o!==d&&!this._lock){var b=p&&1&d,x=b===(p&&1&o);if(o<d&&(b=!b),m=b?0:_,this._lock=1,this.render(m||(v?0:ue(o*u)),t,!_)._lock=0,this._tTime=k,!t&&this.parent&&it(this,"onRepeat"),this.vars.repeatRefresh&&!v&&(this.invalidate()._lock=1),m&&m!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(_=this._dur,y=this._tDur,x&&(this._lock=2,m=b?_:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!v&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;xt(this,v)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,ue(m),ue(r)),l&&(k-=r-(r=l._start))),this._tTime=k,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&r&&!t&&(it(this,"onStart"),this._tTime!==k))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,a&&(k+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var I=e<0?e:r;i;){if(a=i._prev,(i._act||I<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(I-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(I-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,a&&(k+=this._zTime=I?-1e-8:g);break}}i=a}}if(l&&!t&&(this.pause(),l.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=f,Ae(this),this.render(e,t,n);this._onUpdate&&!t&&it(this,"onUpdate",!0),(k===y&&this._tTime>=this.totalDuration()||!k&&m)&&(f!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((e||!_)&&(k===y&&this._ts>0||!k&&this._ts<0)&&be(this,1),t||e<0&&!m||!k&&!m&&y||(it(this,k===y&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(k<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(S(t)||(t=Ve(this,t,e)),!(e instanceof Nt)){if(O(e))return e.forEach((function(e){return n.add(e,t)})),this;if(T(e))return this.addLabel(e,t);if(!E(e))return this;e=zt.delayedCall(0,e)}return this!==e?Re(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-y);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof zt?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return T(e)?this.removeLabel(e):E(e)?this.killTweensOf(e):(we(this,e),e===this._recent&&(this._recent=this._last),xe(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ue(mt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Ve(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=zt.delayedCall(0,t||Q,n);return r.data="isPause",this._hasPause=1,Re(this,r,Ve(this,e))},n.removePause=function(e){var t=this._first;for(e=Ve(this,e);t;)t._start===e&&"isPause"===t.data&&be(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Rt!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Qe(e),a=this._first,o=S(t);a;)a instanceof zt?le(a._targets,i)&&(o?(!Rt||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Ve(r,e),a=t,o=a.startAt,s=a.onStart,u=a.onStartParams,c=a.immediateRender,l=zt.to(r,ve({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||g,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());l._dur!==e&&Fe(l,e,0,1).render(l._time,!0,!0),n=1}s&&s.apply(l,u||[])}},t));return c?l.render(0):l},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,ve({startAt:{time:Ve(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),rt(this,Ve(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),rt(this,Ve(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+g)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return xe(this)},n.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),xe(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,u=y;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>u&&a._sort&&o._ts&&!a._lock?(a._lock=1,Re(a,o,n-o._delay,1)._lock=0):u=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),u=0),o._end>i&&o._ts&&(i=o._end),o=t;Fe(a,a===s&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(s._ts&&(fe(s,Ce(e,s)),f=mt.frame),mt.frame>=ee){ee+=v.autoSleep||120;var t=s._first;if((!t||!t._ts)&&v.autoSleep&&mt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||mt.sleep()}}},t}(Nt);ve(Pt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Rt,Dt,Ot=function(e,t,n,r,i,a,o){var s,u,c,l,h,f,d,p,v=new nn(this._pt,e,t,0,1,Xt,null,i),m=0,y=0;for(v.b=n,v.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=tt(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),u=n.match(j)||[];s=j.exec(r);)l=s[0],h=r.substring(m,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),l!==u[y++]&&(f=parseFloat(u[y-1])||0,v._pt={_next:v._pt,p:h||1===y?h:",",s:f,c:"="===l.charAt(1)?ce(f,l)-f:parseFloat(l)-f,m:c&&c<4?Math.round:0},m=j.lastIndex);return v.c=m<r.length?r.substring(m,r.length):"",v.fp=o,(U.test(r)||d)&&(v.e=0),this._pt=v,v},Mt=function(e,t,n,r,i,a,o,s,u){E(r)&&(r=r(i||0,e,a));var c,l=e[t],h="get"!==n?n:E(l)?u?e[t.indexOf("set")||!E(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():l,f=E(l)?u?Gt:Wt:qt;if(T(r)&&(~r.indexOf("random(")&&(r=tt(r)),"="===r.charAt(1)&&((c=ce(h,r)+(We(h)||0))||0===c)&&(r=c)),h!==r||Dt)return isNaN(h*r)||""===r?(!l&&!(t in e)&&G(t,r),Ot.call(this,e,t,h,r,f,s||v.stringFilter,u)):(c=new nn(this._pt,e,t,+h||0,r-(h||0),"boolean"===typeof l?Yt:Qt,0,f),u&&(c.fp=u),o&&c.modifier(o,this,e),this._pt=c)},Lt=function(e,t,n,r,i,a){var o,s,u,c;if(Z[e]&&!1!==(o=new Z[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(E(e)&&(e=Ut(e,i,t,n,r)),!A(e)||e.style&&e.nodeType||O(e)||D(e))return T(e)?Ut(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=Ut(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new nn(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==d))for(u=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)u[o._props[c]]=s;return o},Ft=function e(t,n){var r,i,a,u,c,l,h,f,d,p,v,_,k,w=t.vars,b=w.ease,x=w.startAt,I=w.immediateRender,T=w.lazy,E=w.onUpdate,S=w.onUpdateParams,C=w.callbackScope,A=w.runBackwards,P=w.yoyoEase,R=w.keyframes,D=w.autoRevert,O=t._dur,M=t._startAt,L=t._targets,F=t.parent,j=F&&"nested"===F.data?F.parent._targets:L,U="auto"===t._overwrite&&!o,V=t.timeline;if(V&&(!R||!b)&&(b="none"),t._ease=It(b,m.ease),t._yEase=P?bt(It(!0===P?b:P,m.ease)):0,P&&t._yoyo&&!t._repeat&&(P=t._yEase,t._yEase=t._ease,t._ease=P),t._from=!V&&!!w.runBackwards,!V||R&&!w.stagger){if(_=(f=L[0]?ie(L[0]).harness:0)&&w[f.prop],r=ge(w,Y),M&&(be(M.render(-1,!0)),M._lazy=0),x)if(be(t._startAt=zt.set(L,ve({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:N(T),startAt:null,delay:0,onUpdate:E,onUpdateParams:S,callbackScope:C,stagger:0},x))),n<0&&!I&&!D&&t._startAt.render(-1,!0),I){if(n>0&&!D&&(t._startAt=0),O&&n<=0)return void(n&&(t._zTime=n))}else!1===D&&(t._startAt=0);else if(A&&O)if(M)!D&&(t._startAt=0);else if(n&&(I=!1),a=ve({overwrite:!1,data:"isFromStart",lazy:I&&N(T),immediateRender:I,stagger:0,parent:F},r),_&&(a[f.prop]=_),be(t._startAt=zt.set(L,a)),n<0&&t._startAt.render(-1,!0),t._zTime=n,I){if(!n)return}else e(t._startAt,g);for(t._pt=t._ptCache=0,T=O&&N(T)||T&&!O,i=0;i<L.length;i++){if(h=(c=L[i])._gsap||re(L)[i]._gsap,t._ptLookup[i]=p={},J[h.id]&&X.length&&he(),v=j===L?i:j.indexOf(c),f&&!1!==(d=new f).init(c,_||r,t,v,j)&&(t._pt=u=new nn(t._pt,c,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){p[e]=u})),d.priority&&(l=1)),!f||_)for(a in r)Z[a]&&(d=Lt(a,r,t,v,c,j))?d.priority&&(l=1):p[a]=u=Mt.call(t,c,a,"get",r[a],v,j,0,w.stringFilter);t._op&&t._op[i]&&t.kill(c,t._op[i]),U&&t._pt&&(Rt=t,s.killTweensOf(c,p,t.globalTime(n)),k=!t.parent,Rt=0),t._pt&&T&&(J[h.id]=1)}l&&tn(t),t._onInit&&t._onInit(t)}t._onUpdate=E,t._initted=(!t._op||t._pt)&&!k,R&&n<=0&&V.render(y,!0,!0)},jt=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(O(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},Ut=function(e,t,n,r,i){return E(e)?e.call(t,n,r,i):T(e)&&~e.indexOf("random(")?tt(e):e},Vt=ne+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Bt={};oe(Vt+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Bt[e]=1}));var zt=function(e){function t(t,n,r,a){var u;"number"===typeof n&&(r.duration=n,n=r,r=null);var c,l,h,f,d,p,m,y,g=(u=e.call(this,a?n:_e(n))||this).vars,_=g.duration,k=g.delay,w=g.immediateRender,b=g.stagger,x=g.overwrite,I=g.keyframes,T=g.defaults,E=g.scrollTrigger,C=g.yoyoEase,P=n.parent||s,M=(O(t)||D(t)?S(t[0]):"length"in n)?[t]:Qe(t);if(u._targets=M.length?re(M):K("GSAP target "+t+" not found. https://greensock.com",!v.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=x,I||b||R(_)||R(k)){if(n=u.vars,(c=u.timeline=new Pt({data:"nested",defaults:T||{}})).kill(),c.parent=c._dp=i(u),c._start=0,b||R(_)||R(k)){if(f=M.length,m=b&&Xe(b),A(b))for(d in b)~Vt.indexOf(d)&&(y||(y={}),y[d]=b[d]);for(l=0;l<f;l++)(h=ge(n,Bt)).stagger=0,C&&(h.yoyoEase=C),y&&me(h,y),p=M[l],h.duration=+Ut(_,i(u),l,p,M),h.delay=(+Ut(k,i(u),l,p,M)||0)-u._delay,!b&&1===f&&h.delay&&(u._delay=k=h.delay,u._start+=k,h.delay=0),c.to(p,h,m?m(l,p,M):0),c._ease=gt.none;c.duration()?_=k=0:u.timeline=0}else if(I){_e(ve(c.vars.defaults,{ease:"none"})),c._ease=It(I.ease||n.ease||"none");var L,F,j,U=0;if(O(I))I.forEach((function(e){return c.to(M,e,">")}));else{for(d in h={},I)"ease"===d||"easeEach"===d||jt(d,I[d],h,I.easeEach);for(d in h)for(L=h[d].sort((function(e,t){return e.t-t.t})),U=0,l=0;l<L.length;l++)(j={ease:(F=L[l]).e,duration:(F.t-(l?L[l-1].t:0))/100*_})[d]=F.v,c.to(M,j,U),U+=j.duration;c.duration()<_&&c.to({},{duration:_-c.duration()})}}_||u.duration(_=c.duration())}else u.timeline=0;return!0!==x||o||(Rt=i(u),s.killTweensOf(M),Rt=0),Re(P,i(u),r),n.reversed&&u.reverse(),n.paused&&u.paused(!0),(w||!_&&!I&&u._start===ue(P._time)&&N(w)&&Te(i(u))&&"nested"!==P.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-k))),E&&De(i(u),E),u}a(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,o,s,u,c,l,h,f=this._time,d=this._tDur,p=this._dur,v=e>d-g&&e>=0?d:e<g?0:e;if(p){if(v!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==e<0){if(r=v,l=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,n);if(r=ue(v%o),v===d?(a=this._repeat,r=p):((a=~~(v/o))&&a===v/o&&(r=p,a--),r>p&&(r=p)),(u=this._yoyo&&1&a)&&(h=this._yEase,r=p-r),s=Se(this._tTime,o),r===f&&!n&&this._initted)return this._tTime=v,this;a!==s&&(l&&this._yEase&&xt(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(ue(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Oe(this,e<0?e:r,n,t))return this._tTime=0,this;if(f!==this._time)return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),r&&!f&&!t&&(it(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;l&&l.render(e<0?e:!r&&u?-1e-8:l._dur*l._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),it(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&it(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&be(this,1),t||e<0&&!f||!v&&!f||(it(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,o,s=e.ratio,u=t<0||!t&&(!e._start&&Me(e)&&(e._initted||!Le(e))||(e._ts<0||e._dp._ts<0)&&!Le(e))?0:1,c=e._rDelay,l=0;if(c&&e._repeat&&(l=qe(0,e._tDur,t),a=Se(l,c),e._yoyo&&1&a&&(u=1-u),a!==Se(e._tTime,c)&&(s=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==s||r||e._zTime===g||!t&&e._zTime){if(!e._initted&&Oe(e,t,r,n))return;for(o=e._zTime,e._zTime=t||(n?g:0),n||(n=t&&!o),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=l,i=e._pt;i;)i.r(u,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&it(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&it(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&be(e,1),n||(it(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},n.resetTo=function(e,t,n,r){p||mt.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ft(this,i),function(e,t,n,r,i,a,o){var s,u,c,l=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!l)for(l=e._ptCache[t]=[],u=e._ptLookup,c=e._targets.length;c--;){if((s=u[c][t])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==t;)s=s._next;if(!s)return Dt=1,e.vars[t]="+=0",Ft(e,o),Dt=0,1;l.push(s)}for(c=l.length;c--;)(s=l[c]).s=!r&&0!==r||i?s.s+(r||0)+a*s.c:r,s.c=n-s.s,s.e&&(s.e=se(n)+We(s.e)),s.b&&(s.b=s.s+We(s.b))}(this,e,t,n,r,this._ease(i/this._dur),i)?this.resetTo(e,t,n,r):(Ne(this,0),this.parent||ke(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?at(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Rt&&!0!==Rt.vars.overwrite)._first||at(this),this.parent&&n!==this.timeline.totalDuration()&&Fe(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,u,c,l=this._targets,h=e?Qe(e):l,f=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(l,h))return"all"===t&&(this._pt=0),at(this);for(r=this._op=this._op||[],"all"!==t&&(T(t)&&(s={},oe(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?ie(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=me({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(l,t)),c=l.length;c--;)if(~h.indexOf(l[c]))for(s in i=f[c],"all"===t?(r[c]=t,o=i,a={}):(a=r[c]=r[c]||{},o=t),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||we(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&d&&at(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Be(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Be(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return s.killTweensOf(e,t,n)},t}(Nt);ve(zt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),oe("staggerTo,staggerFrom,staggerFromTo",(function(e){zt[e]=function(){var t=new Pt,n=Ge.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var qt=function(e,t,n){return e[t]=n},Wt=function(e,t,n){return e[t](n)},Gt=function(e,t,n,r){return e[t](r.fp,n)},Kt=function(e,t,n){return e.setAttribute(t,n)},Ht=function(e,t){return E(e[t])?Wt:C(e[t])&&e.setAttribute?Kt:qt},Qt=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Yt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Xt=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Jt=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Zt=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},$t=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?we(this,r,"_pt"):r.dep||(t=1),r=n;return!t},en=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},tn=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},nn=function(){function e(e,t,n,r,i,a,o,s,u){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||Qt,this.d=o||this,this.set=s||qt,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=en,this.m=e,this.mt=n,this.tween=t},e}();oe(ne+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Y[e]=1})),z.TweenMax=z.TweenLite=zt,z.TimelineLite=z.TimelineMax=Pt,s=new Pt({sortChildren:!1,defaults:m,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),v.stringFilter=vt;var rn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return ot(e)}))},timeline:function(e){return new Pt(e)},getTweensOf:function(e,t){return s.getTweensOf(e,t)},getProperty:function(e,t,n,r){T(e)&&(e=Qe(e)[0]);var i=ie(e||{}).get,a=n?pe:de;return"native"===n&&(n=""),e?t?a((Z[t]&&Z[t].get||i)(e,t,n,r)):function(t,n,r){return a((Z[t]&&Z[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Qe(e)).length>1){var r=e.map((function(e){return sn.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=Z[t],o=ie(e),s=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(t){var r=new a;d._pt=0,r.init(e,n?t+n:t,d,0,[e]),r.render(1,r),d._pt&&Jt(1,d)}:o.set(e,s);return a?u:function(t){return u(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=sn.to(e,me(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return s.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=It(e.ease,m.ease)),ye(m,e||{})},config:function(e){return ye(v,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Z[e]&&!z[e]&&K(t+" effect requires "+e+" plugin.")})),$[t]=function(e,t,r){return n(Qe(e),ve(t||{},i),r)},a&&(Pt.prototype[t]=function(e,n,r){return this.add($[t](e,A(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){gt[e]=It(t)},parseEase:function(e,t){return arguments.length?It(e,t):gt},getById:function(e){return s.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Pt(e);for(i.smoothChildTiming=N(e.smoothChildTiming),s.remove(i),i._dp=0,i._time=i._tTime=s._time,n=s._first;n;)r=n._next,!t&&!n._dur&&n instanceof zt&&n.vars.onComplete===n._targets[0]||Re(i,n,n._start-n._delay),n=r;return Re(s,i,0),i},utils:{wrap:function e(t,n,r){var i=n-t;return O(t)?et(t,e(0,t.length),n):ze(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return O(t)?et(t,e(0,t.length-1),n):ze(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:Xe,random:$e,snap:Ze,normalize:function(e,t,n){return nt(e,t,0,1,n)},getUnit:We,clamp:function(e,t,n){return ze(n,(function(n){return qe(e,t,n)}))},splitColor:lt,toArray:Qe,selector:function(e){return e=Qe(e)[0]||K("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Qe(t,n.querySelectorAll?n:n===e?K("Invalid scope")||l.createElement("div"):e)}},mapRange:nt,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||We(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,u,c,l,h=T(t),f={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(O(t)&&!O(n)){for(u=[],c=t.length,l=c-2,s=1;s<c;s++)u.push(e(t[s-1],t[s]));c--,a=function(e){e*=c;var t=Math.min(l,~~e);return u[t](e-t)},r=n}else i||(t=me(O(t)?[]:{},t));if(!u){for(o in n)Mt.call(f,t,o,"get",n[o]);a=function(e){return Jt(e,f)||(h?t.p:t)}}}return ze(r,a)},shuffle:Ye},install:W,effects:$,ticker:mt,updateRoot:Pt.updateRoot,plugins:Z,globalTimeline:s,core:{PropTween:nn,globals:H,Tween:zt,Timeline:Pt,Animation:Nt,getCache:ie,_removeLinkedListItem:we,suppressOverwrites:function(e){return o=e}}};oe("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return rn[e]=zt[e]})),mt.add(Pt.updateRoot),d=rn.to({},{duration:0});var an=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},on=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(T(n)&&(r={},oe(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=an(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},sn=rn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],r,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},on("roundProps",Je),on("modifiers"),on("snap",Ze))||rn;zt.version=Pt.version=sn.version="3.10.4",h=1,P()&&yt();gt.Power0,gt.Power1,gt.Power2,gt.Power3,gt.Power4,gt.Linear,gt.Quad,gt.Cubic,gt.Quart,gt.Quint,gt.Strong,gt.Elastic,gt.Back,gt.SteppedEase,gt.Bounce,gt.Sine,gt.Expo,gt.Circ;var un,cn,ln,hn,fn,dn,pn,vn={},mn=180/Math.PI,yn=Math.PI/180,gn=Math.atan2,_n=/([A-Z])/g,kn=/(left|right|width|margin|padding|x)/i,wn=/[\s,\(]\S/,bn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},xn=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},In=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Tn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},En=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Sn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Cn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},An=function(e,t,n){return e.style[t]=n},Nn=function(e,t,n){return e.style.setProperty(t,n)},Pn=function(e,t,n){return e._gsap[t]=n},Rn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Dn=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},On=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},Mn="transform",Ln=Mn+"Origin",Fn=function(e,t){var n=cn.createElementNS?cn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):cn.createElement(e);return n.style?n:cn.createElement(e)},jn=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(_n,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Vn(n)||n,1)||""},Un="O,Moz,ms,Ms,Webkit".split(","),Vn=function(e,t,n){var r=(t||fn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Un[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Un[i]:"")+e},Bn=function(){"undefined"!==typeof window&&window.document&&(un=window,cn=un.document,ln=cn.documentElement,fn=Fn("div")||{style:{}},Fn("div"),Mn=Vn(Mn),Ln=Mn+"Origin",fn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pn=!!Vn("perspective"),hn=1)},zn=function e(t){var n,r=Fn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(ln.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(s){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),ln.removeChild(r),this.style.cssText=o,n},qn=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Wn=function(e){var t;try{t=e.getBBox()}catch(ud){t=zn.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===zn||(t=zn.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+qn(e,["x","cx","x1"])||0,y:+qn(e,["y","cy","y1"])||0,width:0,height:0}},Gn=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Wn(e))},Kn=function(e,t){if(t){var n=e.style;t in vn&&t!==Ln&&(t=Mn),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(_n,"-$1").toLowerCase())):n.removeAttribute(t)}},Hn=function(e,t,n,r,i,a){var o=new nn(e._pt,t,n,0,1,a?Cn:Sn);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},Qn={deg:1,rad:1,turn:1},Yn=function e(t,n,r,i){var a,o,s,u,c=parseFloat(r)||0,l=(r+"").trim().substr((c+"").length)||"px",h=fn.style,f=kn.test(n),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),v=100,m="px"===i,y="%"===i;return i===l||!c||Qn[i]||Qn[l]?c:("px"!==l&&!m&&(c=e(t,n,r,"px")),u=t.getCTM&&Gn(t),!y&&"%"!==l||!vn[n]&&!~n.indexOf("adius")?(h[f?"width":"height"]=v+(m?l:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,u&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==cn&&o.appendChild||(o=cn.body),(s=o._gsap)&&y&&s.width&&f&&s.time===mt.time?se(c/s.width*v):((y||"%"===l)&&(h.position=jn(t,"position")),o===t&&(h.position="static"),o.appendChild(fn),a=fn[p],o.removeChild(fn),h.position="absolute",f&&y&&((s=ie(o)).time=mt.time,s.width=o[p]),se(m?a*c/v:a&&c?v/a*c:0))):(a=u?t.getBBox()[f?"width":"height"]:t[p],se(y?c/a*v:c/100*a)))},Xn=function(e,t,n,r){var i;return hn||Bn(),t in bn&&"transform"!==t&&~(t=bn[t]).indexOf(",")&&(t=t.split(",")[0]),vn[t]&&"transform"!==t?(i=ur(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:cr(jn(e,Ln))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=tr[t]&&tr[t](e,t,n)||jn(e,t)||ae(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Yn(e,t,i,n)+n:i},Jn=function(e,t,n,r){if(!n||"none"===n){var i=Vn(t,e,1),a=i&&jn(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=jn(e,"borderTopColor"))}var o,s,u,c,l,h,f,d,p,m,y,g=new nn(this._pt,e.style,t,0,1,Xt),_=0,k=0;if(g.b=n,g.e=r,n+="","auto"===(r+="")&&(e.style[t]=r,r=jn(e,t)||r,e.style[t]=n),vt(o=[n,r]),r=o[1],u=(n=o[0]).match(F)||[],(r.match(F)||[]).length){for(;s=F.exec(r);)f=s[0],p=r.substring(_,s.index),l?l=(l+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(l=1),f!==(h=u[k++]||"")&&(c=parseFloat(h)||0,y=h.substr((c+"").length),"="===f.charAt(1)&&(f=ce(c,f)+y),d=parseFloat(f),m=f.substr((d+"").length),_=F.lastIndex-m.length,m||(m=m||v.units[t]||y,_===r.length&&(r+=m,g.e+=m)),y!==m&&(c=Yn(e,t,h,m)||0),g._pt={_next:g._pt,p:p||1===k?p:",",s:c,c:d-c,m:l&&l<4||"zIndex"===t?Math.round:0});g.c=_<r.length?r.substring(_,r.length):""}else g.r="display"===t&&"none"===r?Cn:Sn;return U.test(r)&&(g.e=0),this._pt=g,g},Zn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},$n=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Zn[n]||n,t[1]=Zn[r]||r,t.join(" ")},er=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],vn[n]&&(r=1,n="transformOrigin"===n?Ln:Mn),Kn(a,n);r&&(Kn(a,Mn),u&&(u.svg&&a.removeAttribute("transform"),ur(a,1),u.uncache=1))}},tr={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new nn(e._pt,t,n,0,0,er);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},nr=[1,0,0,1,0,0],rr={},ir=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},ar=function(e){var t=jn(e,Mn);return ir(t)?nr:t.substr(7).match(L).map(se)},or=function(e,t){var n,r,i,a,o=e._gsap||ie(e),s=e.style,u=ar(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?nr:u:(u!==nr||e.offsetParent||e===ln||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextSibling,ln.appendChild(e)),u=ar(e),i?s.display=i:Kn(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):ln.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},sr=function(e,t,n,r,i,a){var o,s,u,c=e._gsap,l=i||or(e,!0),h=c.xOrigin||0,f=c.yOrigin||0,d=c.xOffset||0,p=c.yOffset||0,v=l[0],m=l[1],y=l[2],g=l[3],_=l[4],k=l[5],w=t.split(" "),b=parseFloat(w[0])||0,x=parseFloat(w[1])||0;n?l!==nr&&(s=v*g-m*y)&&(u=b*(-m/s)+x*(v/s)-(v*k-m*_)/s,b=b*(g/s)+x*(-y/s)+(y*k-g*_)/s,x=u):(b=(o=Wn(e)).x+(~w[0].indexOf("%")?b/100*o.width:b),x=o.y+(~(w[1]||w[0]).indexOf("%")?x/100*o.height:x)),r||!1!==r&&c.smooth?(_=b-h,k=x-f,c.xOffset=d+(_*v+k*y)-_,c.yOffset=p+(_*m+k*g)-k):c.xOffset=c.yOffset=0,c.xOrigin=b,c.yOrigin=x,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[Ln]="0px 0px",a&&(Hn(a,c,"xOrigin",h,b),Hn(a,c,"yOrigin",f,x),Hn(a,c,"xOffset",d,c.xOffset),Hn(a,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",b+" "+x)},ur=function(e,t){var n=e._gsap||new At(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,u,c,l,h,f,d,p,m,y,g,_,k,w,b,x,I,T,E,S,C,A,N,P,R,D,O,M,L=e.style,F=n.scaleX<0,j="px",U="deg",V=jn(e,Ln)||"0";return r=i=a=u=c=l=h=f=d=0,o=s=1,n.svg=!(!e.getCTM||!Gn(e)),y=or(e,n.svg),n.svg&&(S=(!n.uncache||"0px 0px"===V)&&!t&&e.getAttribute("data-svg-origin"),sr(e,S||V,!!S||n.originIsAbsolute,!1!==n.smooth,y)),p=n.xOrigin||0,m=n.yOrigin||0,y!==nr&&(w=y[0],b=y[1],x=y[2],I=y[3],r=T=y[4],i=E=y[5],6===y.length?(o=Math.sqrt(w*w+b*b),s=Math.sqrt(I*I+x*x),u=w||b?gn(b,w)*mn:0,(h=x||I?gn(x,I)*mn+u:0)&&(s*=Math.abs(Math.cos(h*yn))),n.svg&&(r-=p-(p*w+m*x),i-=m-(p*b+m*I))):(M=y[6],D=y[7],N=y[8],P=y[9],R=y[10],O=y[11],r=y[12],i=y[13],a=y[14],c=(g=gn(M,R))*mn,g&&(S=T*(_=Math.cos(-g))+N*(k=Math.sin(-g)),C=E*_+P*k,A=M*_+R*k,N=T*-k+N*_,P=E*-k+P*_,R=M*-k+R*_,O=D*-k+O*_,T=S,E=C,M=A),l=(g=gn(-x,R))*mn,g&&(_=Math.cos(-g),O=I*(k=Math.sin(-g))+O*_,w=S=w*_-N*k,b=C=b*_-P*k,x=A=x*_-R*k),u=(g=gn(b,w))*mn,g&&(S=w*(_=Math.cos(g))+b*(k=Math.sin(g)),C=T*_+E*k,b=b*_-w*k,E=E*_-T*k,w=S,T=C),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,l=180-l),o=se(Math.sqrt(w*w+b*b+x*x)),s=se(Math.sqrt(E*E+M*M)),g=gn(T,E),h=Math.abs(g)>2e-4?g*mn:0,d=O?1/(O<0?-O:O):0),n.svg&&(S=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!ir(jn(e,Mn)),S&&e.setAttribute("transform",S))),Math.abs(h)>90&&Math.abs(h)<270&&(F?(o*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+j,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+j,n.z=a+j,n.scaleX=se(o),n.scaleY=se(s),n.rotation=se(u)+U,n.rotationX=se(c)+U,n.rotationY=se(l)+U,n.skewX=h+U,n.skewY=f+U,n.transformPerspective=d+j,(n.zOrigin=parseFloat(V.split(" ")[2])||0)&&(L[Ln]=cr(V)),n.xOffset=n.yOffset=0,n.force3D=v.force3D,n.renderTransform=n.svg?mr:pn?vr:hr,n.uncache=0,n},cr=function(e){return(e=e.split(" "))[0]+" "+e[1]},lr=function(e,t,n){var r=We(t);return se(parseFloat(t)+parseFloat(Yn(e,"x",n+"px",r)))+r},hr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,vr(e,t)},fr="0deg",dr="0px",pr=") ",vr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,u=n.rotation,c=n.rotationY,l=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,p=n.scaleY,v=n.transformPerspective,m=n.force3D,y=n.target,g=n.zOrigin,_="",k="auto"===m&&e&&1!==e||!0===m;if(g&&(l!==fr||c!==fr)){var w,b=parseFloat(c)*yn,x=Math.sin(b),I=Math.cos(b);b=parseFloat(l)*yn,w=Math.cos(b),a=lr(y,a,x*w*-g),o=lr(y,o,-Math.sin(b)*-g),s=lr(y,s,I*w*-g+g)}v!==dr&&(_+="perspective("+v+pr),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(k||a!==dr||o!==dr||s!==dr)&&(_+=s!==dr||k?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+pr),u!==fr&&(_+="rotate("+u+pr),c!==fr&&(_+="rotateY("+c+pr),l!==fr&&(_+="rotateX("+l+pr),h===fr&&f===fr||(_+="skew("+h+", "+f+pr),1===d&&1===p||(_+="scale("+d+", "+p+pr),y.style[Mn]=_||"translate(0, 0)"},mr=function(e,t){var n,r,i,a,o,s=t||this,u=s.xPercent,c=s.yPercent,l=s.x,h=s.y,f=s.rotation,d=s.skewX,p=s.skewY,v=s.scaleX,m=s.scaleY,y=s.target,g=s.xOrigin,_=s.yOrigin,k=s.xOffset,w=s.yOffset,b=s.forceCSS,x=parseFloat(l),I=parseFloat(h);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=yn,d*=yn,n=Math.cos(f)*v,r=Math.sin(f)*v,i=Math.sin(f-d)*-m,a=Math.cos(f-d)*m,d&&(p*=yn,o=Math.tan(d-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=se(n),r=se(r),i=se(i),a=se(a)):(n=v,a=m,r=i=0),(x&&!~(l+"").indexOf("px")||I&&!~(h+"").indexOf("px"))&&(x=Yn(y,"x",l,"px"),I=Yn(y,"y",h,"px")),(g||_||k||w)&&(x=se(x+g-(g*n+_*i)+k),I=se(I+_-(g*r+_*a)+w)),(u||c)&&(o=y.getBBox(),x=se(x+u/100*o.width),I=se(I+c/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+x+","+I+")",y.setAttribute("transform",o),b&&(y.style[Mn]=o)},yr=function(e,t,n,r,i){var a,o,s=360,u=T(i),c=parseFloat(i)*(u&&~i.indexOf("rad")?mn:1)-r,l=r+c+"deg";return u&&("short"===(a=i.split("_")[1])&&(c%=s)!==c%180&&(c+=c<0?s:-360),"cw"===a&&c<0?c=(c+36e9)%s-~~(c/s)*s:"ccw"===a&&c>0&&(c=(c-36e9)%s-~~(c/s)*s)),e._pt=o=new nn(e._pt,t,n,r,c,In),o.e=l,o.u="deg",e._props.push(n),o},gr=function(e,t){for(var n in t)e[n]=t[n];return e},_r=function(e,t,n){var r,i,a,o,s,u,c,l=gr({},n._gsap),h=n.style;for(i in l.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),h[Mn]=t,r=ur(n,1),Kn(n,Mn),n.setAttribute("transform",a)):(a=getComputedStyle(n)[Mn],h[Mn]=t,r=ur(n,1),h[Mn]=a),vn)(a=l[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=We(a)!==(c=We(o))?Yn(n,i,a,c):parseFloat(a),u=parseFloat(o),e._pt=new nn(e._pt,r,i,s,u-s,xn),e._pt.u=c||0,e._props.push(i));gr(r,l)};oe("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));tr[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return Xn(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var kr={name:"css",register:Bn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,u,c,l,h,f,d,p,m,y,g,_,k,w=this._props,b=e.style,x=n.vars.startAt;for(h in hn||Bn(),t)if("autoRound"!==h&&(o=t[h],!Z[h]||!Lt(h,t,n,r,e,i)))if(c=typeof o,l=tr[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=tt(o)),l)l(this,e,h,o,n)&&(k=1);else if("--"===h.substr(0,2))a=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",dt.lastIndex=0,dt.test(a)||(f=We(a),d=We(o)),d?f!==d&&(a=Yn(e,h,a,d)+d):f&&(o+=f),this.add(b,"setProperty",a,o,r,i,0,0,h),w.push(h);else if("undefined"!==c){if(x&&h in x?(a="function"===typeof x[h]?x[h].call(n,r,e,i):x[h],T(a)&&~a.indexOf("random(")&&(a=tt(a)),We(a+"")||(a+=v.units[h]||We(Xn(e,h))||""),"="===(a+"").charAt(1)&&(a=Xn(e,h))):a=Xn(e,h),u=parseFloat(a),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),h in bn&&("autoAlpha"===h&&(1===u&&"hidden"===Xn(e,"visibility")&&s&&(u=0),Hn(this,b,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=bn[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in vn)if(y||((g=e._gsap).renderTransform&&!t.parseTransform||ur(e,t.parseTransform),_=!1!==t.smoothOrigin&&g.smooth,(y=this._pt=new nn(this._pt,b,Mn,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===h)this._pt=new nn(this._pt,g,"scaleY",g.scaleY,(p?ce(g.scaleY,p+s):s)-g.scaleY||0),w.push("scaleY",h),h+="X";else{if("transformOrigin"===h){o=$n(o),g.svg?sr(e,o,0,_,0,this):((d=parseFloat(o.split(" ")[2])||0)!==g.zOrigin&&Hn(this,g,"zOrigin",g.zOrigin,d),Hn(this,b,h,cr(a),cr(o)));continue}if("svgOrigin"===h){sr(e,o,1,_,0,this);continue}if(h in rr){yr(this,g,h,u,p?ce(u,p+o):o);continue}if("smoothOrigin"===h){Hn(this,g,"smooth",g.smooth,o);continue}if("force3D"===h){g[h]=o;continue}if("transform"===h){_r(this,o,e);continue}}else h in b||(h=Vn(h)||h);if(m||(s||0===s)&&(u||0===u)&&!wn.test(o)&&h in b)s||(s=0),(f=(a+"").substr((u+"").length))!==(d=We(o)||(h in v.units?v.units[h]:f))&&(u=Yn(e,h,a,d)),this._pt=new nn(this._pt,m?g:b,h,u,(p?ce(u,p+s):s)-u,m||"px"!==d&&"zIndex"!==h||!1===t.autoRound?xn:En),this._pt.u=d||0,f!==d&&"%"!==d&&(this._pt.b=a,this._pt.r=Tn);else if(h in b)Jn.call(this,e,h,a,p?p+o:o);else{if(!(h in e)){G(h,o);continue}this.add(e,h,a||e[h],p?p+o:o,r,i)}w.push(h)}k&&tn(this)},get:Xn,aliases:bn,getSetter:function(e,t,n){var r=bn[t];return r&&r.indexOf(",")<0&&(t=r),t in vn&&t!==Ln&&(e._gsap.x||Xn(e,"x"))?n&&dn===n?"scale"===t?Rn:Pn:(dn=n||{})&&("scale"===t?Dn:On):e.style&&!C(e.style[t])?An:~t.indexOf("-")?Nn:Ht(e,t)},core:{_removeProperty:Kn,_getMatrix:or}};sn.utils.checkPrefix=Vn,function(e,t,n,r){var i=oe(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){vn[e]=1}));oe(t,(function(e){v.units[e]="deg",rr[e]=1})),bn[i[13]]=e+","+t,oe("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");bn[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),oe("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){v.units[e]="px"})),sn.registerPlugin(kr);var wr=sn.registerPlugin(kr)||sn;wr.core.Tween;function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xr,Ir,Tr,Er,Sr,Cr,Ar,Nr,Pr,Rr,Dr,Or,Mr=function(){return xr||"undefined"!==typeof window&&(xr=window.gsap)&&xr.registerPlugin&&xr},Lr=1,Fr=[],jr=[],Ur=[],Vr=Date.now,Br=function(e,t){return t},zr=function(e,t){return~Ur.indexOf(e)&&Ur[Ur.indexOf(e)+1][t]},qr=function(e){return!!~Rr.indexOf(e)},Wr=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},Gr=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Kr="scrollLeft",Hr="scrollTop",Qr=function(){return Dr&&Dr.isPressed||jr.cache++},Yr=function(e,t){var n=function n(r){if(r||0===r){Lr&&(Tr.history.scrollRestoration="manual");var i=Dr&&Dr.isPressed;r=n.v=Math.round(r)||(Dr&&Dr.iOS?1:0),e(r),n.cacheID=jr.cache,i&&Br("ss",r)}else(t||jr.cache!==n.cacheID||Br("ref"))&&(n.cacheID=jr.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},Xr={s:Kr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Yr((function(e){return arguments.length?Tr.scrollTo(e,Jr.sc()):Tr.pageXOffset||Er.scrollLeft||Sr.scrollLeft||Cr.scrollLeft||0}))},Jr={s:Hr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Xr,sc:Yr((function(e){return arguments.length?Tr.scrollTo(Xr.sc(),e):Tr.pageYOffset||Er.scrollTop||Sr.scrollTop||Cr.scrollTop||0}))},Zr=function(e){return xr.utils.toArray(e)[0]||("string"===typeof e&&!1!==xr.config().nullTargetWarn?console.warn("Element not found:",e):null)},$r=function(e,t){var n=t.s,r=t.sc,i=jr.indexOf(e),a=r===Jr.sc?1:2;return!~i&&(i=jr.push(e)-1),jr[i+a]||(jr[i+a]=Yr(zr(e,n),!0)||(qr(e)?r:Yr((function(t){return arguments.length?e[n]=t:e[n]}))))},ei=function(e,t,n){var r=e,i=e,a=Vr(),o=a,s=t||50,u=Math.max(500,3*s),c=function(e,t){var u=Vr();t||u-a>s?(i=r,r=e,o=a,a=u):n?r+=e:r=i+(e-i)/(u-o)*(a-o)};return{update:c,reset:function(){i=r=n?0:r,o=a=0},getVelocity:function(e){var t=o,s=i,l=Vr();return(e||0===e)&&e!==r&&c(e),a===o||l-o>u?0:(r+(n?s:-s))/((n?l:a)-t)*1e3}}},ti=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},ni=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},ri=function(){(Pr=xr.core.globals().ScrollTrigger)&&Pr.core&&function(){var e=Pr.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,jr),r.push.apply(r,Ur),jr=n,Ur=r,Br=function(e,n){return t[e](n)}}()},ii=function(e){return(xr=e||Mr())&&"undefined"!==typeof document&&document.body&&(Tr=window,Er=document,Sr=Er.documentElement,Cr=Er.body,Rr=[Tr,Er,Sr,Cr],xr.utils.clamp,Nr="onpointerenter"in Cr?"pointer":"mouse",Ar=ai.isTouch=Tr.matchMedia&&Tr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Tr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Or=ai.eventTypes=("ontouchstart"in Sr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Sr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return Lr=0}),500),ri(),Ir=1),Ir};Xr.op=Jr,jr.cache=0;var ai=function(){function e(e){this.init(e)}var t,n,r;return e.prototype.init=function(e){Ir||ii(xr)||console.warn("Please gsap.registerPlugin(Observer)"),Pr||ri();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,a=e.lineHeight,o=e.debounce,s=e.preventDefault,u=e.onStop,c=e.onStopDelay,l=e.ignore,h=e.wheelSpeed,f=e.event,d=e.onDragStart,p=e.onDragEnd,v=e.onDrag,m=e.onPress,y=e.onRelease,g=e.onRight,_=e.onLeft,k=e.onUp,w=e.onDown,b=e.onChangeX,x=e.onChangeY,I=e.onChange,T=e.onToggleX,E=e.onToggleY,S=e.onHover,C=e.onHoverEnd,A=e.onMove,N=e.ignoreCheck,P=e.isNormalizer,R=e.onGestureStart,D=e.onGestureEnd,O=e.onWheel,M=e.onEnable,L=e.onDisable,F=e.onClick,j=e.scrollSpeed,U=e.capture,V=e.allowClicks,B=e.lockAxis,z=e.onLockAxis;this.target=i=Zr(i)||Sr,this.vars=e,l&&(l=xr.utils.toArray(l)),t=t||0,n=n||0,h=h||1,j=j||1,r=r||"wheel,touch,pointer",o=!1!==o,a||(a=parseFloat(Tr.getComputedStyle(Cr).lineHeight)||22);var q,W,G,K,H,Q,Y,X=this,J=0,Z=0,$=$r(i,Xr),ee=$r(i,Jr),te=$(),ne=ee(),re=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===Or[0],ie=qr(i),ae=i.ownerDocument||Er,oe=[0,0,0],se=[0,0,0],ue=0,ce=function(){return ue=Vr()},le=function(e,t){return(X.event=e)&&l&&~l.indexOf(e.target)||t&&re&&"touch"!==e.pointerType||N&&N(e,t)},he=function(){var e=X.deltaX=ni(oe),n=X.deltaY=ni(se),r=Math.abs(e)>=t,i=Math.abs(n)>=t;I&&(r||i)&&I(X,e,n,oe,se),r&&(g&&X.deltaX>0&&g(X),_&&X.deltaX<0&&_(X),b&&b(X),T&&X.deltaX<0!==J<0&&T(X),J=X.deltaX,oe[0]=oe[1]=oe[2]=0),i&&(w&&X.deltaY>0&&w(X),k&&X.deltaY<0&&k(X),x&&x(X),E&&X.deltaY<0!==Z<0&&E(X),Z=X.deltaY,se[0]=se[1]=se[2]=0),(K||G)&&(A&&A(X),z&&Q&&z(X),G&&(v(X),G=!1),K=Q=!1),H&&(O(X),H=!1),q=0},fe=function(e,t,n){oe[n]+=e,se[n]+=t,X._vx.update(e),X._vy.update(t),o?q||(q=requestAnimationFrame(he)):he()},de=function(e,t){"y"!==Y&&(oe[2]+=e,X._vx.update(e,!0)),"x"!==Y&&(se[2]+=t,X._vy.update(t,!0)),B&&!Y&&(X.axis=Y=Math.abs(e)>Math.abs(t)?"x":"y",Q=!0),o?q||(q=requestAnimationFrame(he)):he()},pe=function(e){if(!le(e,1)){var t=(e=ti(e,s)).clientX,r=e.clientY,i=t-X.x,a=r-X.y,o=X.isDragging;X.x=t,X.y=r,(o||Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n)&&(v&&(G=!0),o||(X.isDragging=!0),de(i,a),o||d&&d(X))}},ve=X.onPress=function(e){le(e,1)||(X.axis=Y=null,W.pause(),X.isPressed=!0,e=ti(e),J=Z=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),Wr(P?i:ae,Or[1],pe,s,!0),X.deltaX=X.deltaY=0,m&&m(X))},me=function(e){if(!le(e,1)){Gr(P?i:ae,Or[1],pe,!0);var t=X.isDragging&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),n=ti(e);t||(X._vx.reset(),X._vy.reset(),s&&V&&xr.delayedCall(.08,(function(){if(Vr()-ue>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(ae.createEvent){var t=ae.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,Tr,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),X.isDragging=X.isGesturing=X.isPressed=!1,u&&!P&&W.restart(!0),p&&t&&p(X),y&&y(X,t)}},ye=function(e){return e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&R(e,X.isDragging)},ge=function(){return(X.isGesturing=!1)||D(X)},_e=function(e){if(!le(e)){var t=$(),n=ee();fe((t-te)*j,(n-ne)*j,1),te=t,ne=n,u&&W.restart(!0)}},ke=function(e){if(!le(e)){e=ti(e,s),O&&(H=!0);var t=(1===e.deltaMode?a:2===e.deltaMode?Tr.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),u&&!P&&W.restart(!0)}},we=function(e){if(!le(e)){var t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,K=!0,(r||i)&&de(r,i)}},be=function(e){X.event=e,S(X)},xe=function(e){X.event=e,C(X)},Ie=function(e){return le(e)||ti(e,s)&&F(X)};W=X._dc=xr.delayedCall(c||.25,(function(){X._vx.reset(),X._vy.reset(),W.pause(),u&&u(X)})).pause(),X.deltaX=X.deltaY=0,X._vx=ei(0,50,!0),X._vy=ei(0,50,!0),X.scrollX=$,X.scrollY=ee,X.isDragging=X.isGesturing=X.isPressed=!1,X.enable=function(e){return X.isEnabled||(Wr(ie?ae:i,"scroll",Qr),r.indexOf("scroll")>=0&&Wr(ie?ae:i,"scroll",_e,s,U),r.indexOf("wheel")>=0&&Wr(i,"wheel",ke,s,U),(r.indexOf("touch")>=0&&Ar||r.indexOf("pointer")>=0)&&(Wr(i,Or[0],ve,s,U),Wr(ae,Or[2],me),Wr(ae,Or[3],me),V&&Wr(i,"click",ce,!1,!0),F&&Wr(i,"click",Ie),R&&Wr(ae,"gesturestart",ye),D&&Wr(ae,"gestureend",ge),S&&Wr(i,Nr+"enter",be),C&&Wr(i,Nr+"leave",xe),A&&Wr(i,Nr+"move",we)),X.isEnabled=!0,e&&e.type&&ve(e),M&&M(X)),X},X.disable=function(){X.isEnabled&&(Fr.filter((function(e){return e!==X&&qr(e.target)})).length||Gr(ie?ae:i,"scroll",Qr),X.isPressed&&(X._vx.reset(),X._vy.reset(),Gr(P?i:ae,Or[1],pe,!0)),Gr(ie?ae:i,"scroll",_e,U),Gr(i,"wheel",ke,U),Gr(i,Or[0],ve,U),Gr(ae,Or[2],me),Gr(ae,Or[3],me),Gr(i,"click",ce,!0),Gr(i,"click",Ie),Gr(ae,"gesturestart",ye),Gr(ae,"gestureend",ge),Gr(i,Nr+"enter",be),Gr(i,Nr+"leave",xe),Gr(i,Nr+"move",we),X.isEnabled=X.isPressed=X.isDragging=!1,L&&L(X))},X.kill=function(){X.disable();var e=Fr.indexOf(X);e>=0&&Fr.splice(e,1),Dr===X&&(Dr=0)},Fr.push(X),P&&qr(i)&&(Dr=X),X.enable(f)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&br(t.prototype,n),r&&br(t,r),e}();ai.version="3.10.4",ai.create=function(e){return new ai(e)},ai.register=ii,ai.getAll=function(){return Fr.slice()},ai.getById=function(e){return Fr.filter((function(t){return t.vars.id===e}))[0]},Mr()&&xr.registerPlugin(ai);var oi,si,ui,ci,li,hi,fi,di,pi,vi,mi,yi,gi,_i,ki,wi,bi,xi,Ii,Ti,Ei,Si,Ci,Ai,Ni,Pi,Ri,Di,Oi,Mi,Li,Fi,ji,Ui=1,Vi=Date.now,Bi=Vi(),zi=0,qi=0,Wi=function(){return _i=1},Gi=function(){return _i=0},Ki=function(e){return e},Hi=function(e){return Math.round(1e5*e)/1e5||0},Qi=function(){return"undefined"!==typeof window},Yi=function(){return oi||Qi()&&(oi=window.gsap)&&oi.registerPlugin&&oi},Xi=function(e){return!!~fi.indexOf(e)},Ji=function(e){return zr(e,"getBoundingClientRect")||(Xi(e)?function(){return so.width=ui.innerWidth,so.height=ui.innerHeight,so}:function(){return ka(e)})},Zi=function(e,t){var n=t.s,r=t.d2,i=t.d,a=t.a;return(n="scroll"+r)&&(a=zr(e,n))?a()-Ji(e)()[i]:Xi(e)?(li[n]||hi[n])-(ui["inner"+r]||li["client"+r]||hi["client"+r]):e[n]-e["offset"+r]},$i=function(e,t){for(var n=0;n<Ii.length;n+=3)(!t||~t.indexOf(Ii[n+1]))&&e(Ii[n],Ii[n+1],Ii[n+2])},ea=function(e){return"string"===typeof e},ta=function(e){return"function"===typeof e},na=function(e){return"number"===typeof e},ra=function(e){return"object"===typeof e},ia=function(e){return ta(e)&&e()},aa=function(e,t){return function(){var n=ia(e),r=ia(t);return function(){ia(n),ia(r)}}},oa=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},sa=function(e,t){if(e.enabled){var n=t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},ua=Math.abs,ca="left",la="right",ha="bottom",fa="width",da="height",pa="padding",va="margin",ma="Width",ya="px",ga=function(e){return ui.getComputedStyle(e)},_a=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ka=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==ga(e)[ki]&&oi.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},wa=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},ba=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},xa=function(e){var t=oi.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,i){var a;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,a=0;a<n.length;a++)if(n[a]>=e)return n[a];return n[a-1]}for(a=n.length,e+=i;a--;)if(n[a]<=e)return n[a];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var a=t(n);return!r||Math.abs(a-n)<i||a-n<0===r<0?a:t(r<0?n-e:n+e)}},Ia=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},Ta=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},Ea=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},Sa=function(e,t,n){return n&&n.wheelHandler&&e(t,"wheel",n)},Ca={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Aa={toggleActions:"play",anticipatePin:0},Na={top:0,left:0,center:.5,bottom:1,right:1},Pa=function(e,t){if(ea(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Na?Na[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Ra=function(e,t,n,r,i,a,o,s){var u=i.startColor,c=i.endColor,l=i.fontSize,h=i.indent,f=i.fontWeight,d=ci.createElement("div"),p=Xi(n)||"fixed"===zr(n,"pinType"),v=-1!==e.indexOf("scroller"),m=p?hi:n,y=-1!==e.indexOf("start"),g=y?u:c,_="border-color:"+g+";font-size:"+l+";color:"+g+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((v||s)&&p?"fixed;":"absolute;"),(v||s||!p)&&(_+=(r===Jr?la:ha)+":"+(a+parseFloat(h))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),d._isStart=y,d.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),d.style.cssText=_,d.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(d,m.children[0]):m.appendChild(d),d._offset=d["offset"+r.op.d2],Da(d,0,r,y),d},Da=function(e,t,n,r){var i={display:"block"},a=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+a+ma]=1,i["border"+o+ma]=0,i[n.p]=t+"px",oi.set(e,i)},Oa=[],Ma={},La=function(){return Vi()-zi>34&&eo()},Fa=function(){(!Ci||!Ci.isPressed||Ci.startX>hi.clientWidth)&&(jr.cache++,Oi||(Oi=requestAnimationFrame(eo)),zi||Ga("scrollStart"),zi=Vi())},ja=function(){Pi=ui.innerWidth,Ni=ui.innerHeight},Ua=function(){jr.cache++,!gi&&!Si&&!ci.fullscreenElement&&!ci.webkitFullscreenElement&&(!Ai||Pi!==ui.innerWidth||Math.abs(ui.innerHeight-Ni)>.25*ui.innerHeight)&&di.restart(!0)},Va={},Ba=[],za=[],qa=function(e){var t,n=oi.ticker.frame,r=[],i=0;if(Li!==n||Ui){for(Qa();i<za.length;i+=4)(t=ui.matchMedia(za[i]).matches)!==za[i+3]&&(za[i+3]=t,t?r.push(i):Qa(1,za[i])||ta(za[i+2])&&za[i+2]());for(Ha(),i=0;i<r.length;i++)t=r[i],Mi=za[t],za[t+2]=za[t+1](e);Mi=0,si&&Ja(0,1),Li=n,Ga("matchMedia")}},Wa=function e(){return Ea(fo,"scrollEnd",e)||Ja(!0)},Ga=function(e){return Va[e]&&Va[e].map((function(e){return e()}))||Ba},Ka=[],Ha=function(e){for(var t=0;t<Ka.length;t+=5)e&&Ka[t+4]!==e||(Ka[t].style.cssText=Ka[t+1],Ka[t].getBBox&&Ka[t].setAttribute("transform",Ka[t+2]||""),Ka[t+3].uncache=1)},Qa=function(e,t){var n;for(wi=0;wi<Oa.length;wi++)n=Oa[wi],t&&n.media!==t||(e?n.kill(1):n.revert());t&&Ha(t),t||Ga("revert")},Ya=function(){return jr.cache++&&jr.forEach((function(e){return"function"===typeof e&&(e.rec=0)}))},Xa=0,Ja=function(e,t){if(!zi||e){Fi=!0;var n=Ga("refreshInit");Ti&&fo.sort(),t||Qa(),Oa.slice(0).forEach((function(e){return e.refresh()})),Oa.forEach((function(e){return"max"===e.vars.end&&e.setPositions(e.start,Zi(e.scroller,e._dir))})),n.forEach((function(e){return e&&e.render&&e.render(-1)})),Ya(),di.pause(),Xa++,Fi=!1,Ga("refresh")}else Ta(fo,"scrollEnd",Wa)},Za=0,$a=1,eo=function(){if(!Fi){fo.isUpdating=!0,ji&&ji.update(0);var e=Oa.length,t=Vi(),n=t-Bi>=50,r=e&&Oa[0].scroll();if($a=Za>r?-1:1,Za=r,n&&(zi&&!_i&&t-zi>200&&(zi=0,Ga("scrollEnd")),mi=Bi,Bi=t),$a<0){for(wi=e;wi-- >0;)Oa[wi]&&Oa[wi].update(0,n);$a=1}else for(wi=0;wi<e;wi++)Oa[wi]&&Oa[wi].update(0,n);fo.isUpdating=!1}Oi=0},to=[ca,"top",ha,la,"marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],no=to.concat([fa,da,"boxSizing","maxWidth","maxHeight","position",va,pa,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),ro=function(e,t,n,r){if(e.parentNode!==t){for(var i,a=to.length,o=t.style,s=e.style;a--;)o[i=to[a]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),s.bottom=s.right=o.flexBasis="auto",o.overflow="visible",o.boxSizing="border-box",o.width=wa(e,Xr)+ya,o.height=wa(e,Jr)+ya,o.padding=s.margin=s.top=s.left="0",ao(r),s.width=s.maxWidth=n.width,s.height=s.maxHeight=n.height,s.padding=n.padding,e.parentNode.insertBefore(t,e),t.appendChild(e)}},io=/([A-Z])/g,ao=function(e){if(e){var t,n,r=e.t.style,i=e.length,a=0;for((e.t._gsap||oi.core.getCache(e.t)).uncache=1;a<i;a+=2)n=e[a+1],t=e[a],n?r[t]=n:r[t]&&r.removeProperty(t.replace(io,"-$1").toLowerCase())}},oo=function(e){for(var t=no.length,n=e.style,r=[],i=0;i<t;i++)r.push(no[i],n[no[i]]);return r.t=e,r},so={left:0,top:0},uo=function(e,t,n,r,i,a,o,s,u,c,l,h,f){ta(e)&&(e=e(s)),ea(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?Pa("0"+e.substr(3),n):0));var d,p,v,m=f?f.time():0;if(f&&f.seek(0),na(e))o&&Da(o,n,r,!0);else{ta(t)&&(t=t(s));var y,g,_,k,w=e.split(" ");v=Zr(t)||hi,(y=ka(v)||{})&&(y.left||y.top)||"none"!==ga(v).display||(k=v.style.display,v.style.display="block",y=ka(v),k?v.style.display=k:v.style.removeProperty("display")),g=Pa(w[0],y[r.d]),_=Pa(w[1]||"0",n),e=y[r.p]-u[r.p]-c+g+i-_,o&&Da(o,_,r,n-_<20||o._isStart&&_>20),n-=n-_}if(a){var b=e+n,x=a._isStart;d="scroll"+r.d2,Da(a,b,r,x&&b>20||!x&&(l?Math.max(hi[d],li[d]):a.parentNode[d])<=b+1),l&&(u=ka(o),l&&(a.style[r.op.p]=u[r.op.p]-r.op.m-a._offset+ya))}return f&&v&&(d=ka(v),f.seek(h),p=ka(v),f._caScrollDist=d[r.p]-p[r.p],e=e/f._caScrollDist*h),f&&f.seek(m),f?e:Math.round(e)},co=/(webkit|moz|length|cssText|inset)/i,lo=function(e,t,n,r){if(e.parentNode!==t){var i,a,o=e.style;if(t===hi){for(i in e._stOrig=o.cssText,a=ga(e))+i||co.test(i)||!a[i]||"string"!==typeof o[i]||"0"===i||(o[i]=a[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;oi.core.getCache(e).uncache=1,t.appendChild(e)}},ho=function(e,t){var n,r,i=$r(e,t),a="_scroll"+t.p2,o=function t(o,s,u,c,l){var h=t.tween,f=s.onComplete,d={};return u=u||i(),l=c&&l||0,c=c||o-u,h&&h.kill(),n=Math.round(u),s[a]=o,s.modifiers=d,d[a]=function(e){return(e=Hi(i()))!==n&&e!==r&&Math.abs(e-n)>2&&Math.abs(e-r)>2?(h.kill(),t.tween=0):e=u+c*h.ratio+l*h.ratio*h.ratio,r=n,n=Hi(e)},s.onComplete=function(){t.tween=0,f&&f.call(h)},h=t.tween=oi.to(e,s)};return e[a]=i,i.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Ta(e,"wheel",i.wheelHandler),o},fo=function(){function e(t,n){si||e.register(oi)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),qi){var r,i,a,o,s,u,c,l,h,f,d,p,v,m,y,g,_,k,w,b,x,I,T,E,S,C,A,N,P,R,D,O,M,L,F,j,U,V,B,z=t=_a(ea(t)||na(t)||t.nodeType?{trigger:t}:t,Aa),q=z.onUpdate,W=z.toggleClass,G=z.id,K=z.onToggle,H=z.onRefresh,Q=z.scrub,Y=z.trigger,X=z.pin,J=z.pinSpacing,Z=z.invalidateOnRefresh,$=z.anticipatePin,ee=z.onScrubComplete,te=z.onSnapComplete,ne=z.once,re=z.snap,ie=z.pinReparent,ae=z.pinSpacer,oe=z.containerAnimation,se=z.fastScrollEnd,ue=z.preventOverlaps,ce=t.horizontal||t.containerAnimation&&!1!==t.horizontal?Xr:Jr,le=!Q&&0!==Q,he=Zr(t.scroller||ui),fe=oi.core.getCache(he),de=Xi(he),pe="fixed"===("pinType"in t?t.pinType:zr(he,"pinType")||de&&"fixed"),ve=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],me=le&&t.toggleActions.split(" "),ye="markers"in t?t.markers:Aa.markers,ge=de?0:parseFloat(ga(he)["border"+ce.p2+ma])||0,_e=this,ke=t.onRefreshInit&&function(){return t.onRefreshInit(_e)},we=function(e,t,n){var r=n.d,i=n.d2,a=n.a;return(a=zr(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?ui["inner"+i]:e["client"+i])||0}}(he,de,ce),be=function(e,t){return!t||~Ur.indexOf(e)?Ji(e):function(){return so}}(he,de),xe=0,Ie=0,Te=$r(he,ce);if(_e.media=Mi,_e._dir=ce,$*=45,_e.scroller=he,_e.scroll=oe?oe.time.bind(oe):Te,o=Te(),_e.vars=t,n=n||t.animation,"refreshPriority"in t&&(Ti=1,-9999===t.refreshPriority&&(ji=_e)),fe.tweenScroll=fe.tweenScroll||{top:ho(he,Jr),left:ho(he,Xr)},_e.tweenTo=r=fe.tweenScroll[ce.p],_e.scrubDuration=function(e){(D=na(e)&&e)?R?R.duration(e):R=oi.to(n,{ease:"expo",totalProgress:"+=0.001",duration:D,paused:!0,onComplete:function(){return ee&&ee(_e)}}):(R&&R.progress(1).kill(),R=0)},n&&(n.vars.lazy=!1,n._initted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.render(0,!0,!0),_e.animation=n.pause(),n.scrollTrigger=_e,_e.scrubDuration(Q),N=0,G||(G=n.vars.id)),Oa.push(_e),re&&(ra(re)&&!re.push||(re={snapTo:re}),"scrollBehavior"in hi.style&&oi.set(de?[hi,li]:he,{scrollBehavior:"auto"}),a=ta(re.snapTo)?re.snapTo:"labels"===re.snapTo?function(e){return function(t){return oi.utils.snap(ba(e),t)}}(n):"labelsDirectional"===re.snapTo?(B=n,function(e,t){return xa(ba(B))(e,t.direction)}):!1!==re.directional?function(e,t){return xa(re.snapTo)(e,Vi()-Ie<500?0:t.direction)}:oi.utils.snap(re.snapTo),O=re.duration||{min:.1,max:2},O=ra(O)?vi(O.min,O.max):vi(O,O),M=oi.delayedCall(re.delay||D/2||.1,(function(){var e=Te(),t=Vi()-Ie<500,i=r.tween;if(!(t||Math.abs(_e.getVelocity())<10)||i||_i||xe===e)_e.isActive&&xe!==e&&M.restart(!0);else{var o=(e-u)/v,s=n&&!le?n.totalProgress():o,l=t?0:(s-P)/(Vi()-mi)*1e3||0,h=oi.utils.clamp(-o,1-o,ua(l/2)*l/.185),f=o+(!1===re.inertia?0:h),d=vi(0,1,a(f,_e)),p=Math.round(u+d*v),m=re,y=m.onStart,g=m.onInterrupt,_=m.onComplete;if(e<=c&&e>=u&&p!==e){if(i&&!i._initted&&i.data<=ua(p-e))return;!1===re.inertia&&(h=d-o),r(p,{duration:O(ua(.185*Math.max(ua(f-s),ua(d-s))/l/.05||0)),ease:re.ease||"power3",data:ua(p-e),onInterrupt:function(){return M.restart(!0)&&g&&g(_e)},onComplete:function(){_e.update(),xe=Te(),N=P=n&&!le?n.totalProgress():_e.progress,te&&te(_e),_&&_(_e)}},e,h*v,p-e-h*v),y&&y(_e,r.tween)}}})).pause()),G&&(Ma[G]=_e),(V=(Y=_e.trigger=Zr(Y||X))&&Y._gsap&&Y._gsap.stRevert)&&(V=V(_e)),X=!0===X?Y:Zr(X),ea(W)&&(W={targets:Y,className:W}),X&&(!1===J||J===va||(J=!(!J&&"flex"===ga(X.parentNode).display)&&pa),_e.pin=X,!1!==t.force3D&&oi.set(X,{force3D:!0}),(i=oi.core.getCache(X)).spacer?m=i.pinState:(ae&&((ae=Zr(ae))&&!ae.nodeType&&(ae=ae.current||ae.nativeElement),i.spacerIsNative=!!ae,ae&&(i.spacerState=oo(ae))),i.spacer=_=ae||ci.createElement("div"),_.classList.add("pin-spacer"),G&&_.classList.add("pin-spacer-"+G),i.pinState=m=oo(X)),_e.spacer=_=i.spacer,A=ga(X),T=A[J+ce.os2],w=oi.getProperty(X),b=oi.quickSetter(X,ce.a,ya),ro(X,_,A),g=oo(X)),ye){p=ra(ye)?_a(ye,Ca):Ca,f=Ra("scroller-start",G,he,ce,p,0),d=Ra("scroller-end",G,he,ce,p,0,f),k=f["offset"+ce.op.d2];var Ee=Zr(zr(he,"content")||he);l=this.markerStart=Ra("start",G,Ee,ce,p,k,0,oe),h=this.markerEnd=Ra("end",G,Ee,ce,p,k,0,oe),oe&&(U=oi.quickSetter([l,h],ce.a,ya)),pe||Ur.length&&!0===zr(he,"fixedMarkers")||(!function(e){var t=ga(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(de?hi:he),oi.set([f,d],{force3D:!0}),S=oi.quickSetter(f,ce.a,ya),C=oi.quickSetter(d,ce.a,ya))}if(oe){var Se=oe.vars.onUpdate,Ce=oe.vars.onUpdateParams;oe.eventCallback("onUpdate",(function(){_e.update(0,0,1),Se&&Se.apply(Ce||[])}))}_e.previous=function(){return Oa[Oa.indexOf(_e)-1]},_e.next=function(){return Oa[Oa.indexOf(_e)+1]},_e.revert=function(e){var t=!1!==e||!_e.enabled,r=gi;t!==_e.isReverted&&(t&&(_e.scroll.rec||!gi||!Fi||(_e.scroll.rec=Te()),F=Math.max(Te(),_e.scroll.rec||0),L=_e.progress,j=n&&n.progress()),l&&[l,h,f,d].forEach((function(e){return e.style.display=t?"none":"block"})),t&&(gi=1),_e.update(t),gi=r,X&&(t?function(e,t,n){ao(n);var r=e._gsap;if(r.spacerIsNative)ao(r.spacerState);else if(e.parentNode===t){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}}(X,_,m):(!ie||!_e.isActive)&&ro(X,_,ga(X),E)),_e.isReverted=t)},_e.refresh=function(i,a){if(!gi&&_e.enabled||a)if(X&&i&&zi)Ta(e,"scrollEnd",Wa);else{!Fi&&ke&&ke(_e),gi=1,Ie=Vi(),r.tween&&(r.tween.kill(),r.tween=0),R&&R.pause(),Z&&n&&n.time(-.01,!0).invalidate(),_e.isReverted||_e.revert();for(var p,k,b,T,S,C,A,N,P,D,O=we(),U=be(),V=oe?oe.duration():Zi(he,ce),B=0,z=0,q=t.end,W=t.endTrigger||Y,G=t.start||(0!==t.start&&Y?X?"0 0":"0 100%":0),K=_e.pinnedContainer=t.pinnedContainer&&Zr(t.pinnedContainer),Q=Y&&Math.max(0,Oa.indexOf(_e))||0,$=Q;$--;)(C=Oa[$]).end||C.refresh(0,1)||(gi=1),!(A=C.pin)||A!==Y&&A!==X||C.isReverted||(D||(D=[]),D.unshift(C),C.revert()),C!==Oa[$]&&(Q--,$--);for(ta(G)&&(G=G(_e)),u=uo(G,Y,O,ce,Te(),l,f,_e,U,ge,pe,V,oe)||(X?-.001:0),ta(q)&&(q=q(_e)),ea(q)&&!q.indexOf("+=")&&(~q.indexOf(" ")?q=(ea(G)?G.split(" ")[0]:"")+q:(B=Pa(q.substr(2),O),q=ea(G)?G:u+B,W=Y)),c=Math.max(u,uo(q||(W?"100% 0":V),W,O,ce,Te()+B,h,d,_e,U,ge,pe,V,oe))||-.001,v=c-u||(u-=.01)&&.001,B=0,$=Q;$--;)(A=(C=Oa[$]).pin)&&C.start-C._pinPush<u&&!oe&&C.end>0&&(p=C.end-C.start,A!==Y&&A!==K||na(G)||(B+=p*(1-C.progress)),A===X&&(z+=p));if(u+=B,c+=B,_e._pinPush=z,l&&B&&((p={})[ce.a]="+="+B,K&&(p[ce.p]="-="+Te()),oi.set([l,h],p)),X)p=ga(X),T=ce===Jr,b=Te(),x=parseFloat(w(ce.a))+z,!V&&c>1&&((de?hi:he).style["overflow-"+ce.a]="scroll"),ro(X,_,p),g=oo(X),k=ka(X,!0),N=pe&&$r(he,T?Xr:Jr)(),J&&((E=[J+ce.os2,v+z+ya]).t=_,($=J===pa?wa(X,ce)+v+z:0)&&E.push(ce.d,$+ya),ao(E),pe&&Te(F)),pe&&((S={top:k.top+(T?b-u:N)+ya,left:k.left+(T?N:b-u)+ya,boxSizing:"border-box",position:"fixed"}).width=S.maxWidth=Math.ceil(k.width)+ya,S.height=S.maxHeight=Math.ceil(k.height)+ya,S.margin=S.marginTop=S.marginRight=S.marginBottom=S.marginLeft="0",S.padding=p.padding,S.paddingTop=p.paddingTop,S.paddingRight=p.paddingRight,S.paddingBottom=p.paddingBottom,S.paddingLeft=p.paddingLeft,y=function(e,t,n){for(var r,i=[],a=e.length,o=n?8:0;o<a;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(m,S,ie)),n?(P=n._initted,Ei(1),n.render(n.duration(),!0,!0),I=w(ce.a)-x+v+z,v!==I&&pe&&y.splice(y.length-2,2),n.render(0,!0,!0),P||n.invalidate(),Ei(0)):I=v;else if(Y&&Te()&&!oe)for(k=Y.parentNode;k&&k!==hi;)k._pinOffset&&(u-=k._pinOffset,c-=k._pinOffset),k=k.parentNode;D&&D.forEach((function(e){return e.revert(!1)})),_e.start=u,_e.end=c,o=s=Te(),oe||(o<F&&Te(F),_e.scroll.rec=0),_e.revert(!1),M&&(xe=-1,_e.isActive&&Te(u+v*L),M.restart(!0)),gi=0,n&&le&&(n._initted||j)&&n.progress()!==j&&n.progress(j,!0).render(n.time(),!0,!0),(L!==_e.progress||oe)&&(n&&!le&&n.totalProgress(L,!0),_e.progress=L,_e.update(0,0,1)),X&&J&&(_._pinOffset=Math.round(_e.progress*I)),H&&H(_e)}},_e.getVelocity=function(){return(Te()-s)/(Vi()-mi)*1e3||0},_e.endAnimation=function(){oa(_e.callbackAnimation),n&&(R?R.progress(1):n.paused()?le||oa(n,_e.direction<0,1):oa(n,n.reversed()))},_e.labelToScroll=function(e){return n&&n.labels&&(u||_e.refresh()||u)+n.labels[e]/n.duration()*v||0},_e.getTrailing=function(e){var t=Oa.indexOf(_e),n=_e.direction>0?Oa.slice(0,t).reverse():Oa.slice(t+1);return(ea(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return _e.direction>0?e.end<=u:e.start>=c}))},_e.update=function(e,t,i){if(!oe||i||e){var a,l,h,d,p,m,k,w=_e.scroll(),E=e?0:(w-u)/v,A=E<0?0:E>1?1:E||0,D=_e.progress;if(t&&(s=o,o=oe?Te():w,re&&(P=N,N=n&&!le?n.totalProgress():A)),$&&!A&&X&&!gi&&!Ui&&zi&&u<w+(w-s)/(Vi()-mi)*$&&(A=1e-4),A!==D&&_e.enabled){if(d=(p=(a=_e.isActive=!!A&&A<1)!==(!!D&&D<1))||!!A!==!!D,_e.direction=A>D?1:-1,_e.progress=A,d&&!gi&&(l=A&&!D?0:1===A?1:1===D?2:3,le&&(h=!p&&"none"!==me[l+1]&&me[l+1]||me[l],k=n&&("complete"===h||"reset"===h||h in n))),ue&&(p||k)&&(k||Q||!n)&&(ta(ue)?ue(_e):_e.getTrailing(ue).forEach((function(e){return e.endAnimation()}))),le||(!R||gi||Ui?n&&n.totalProgress(A,!!gi):((oe||ji&&ji!==_e)&&R.render(R._dp._time-R._start),R.resetTo?R.resetTo("totalProgress",A,n._tTime/n._tDur):(R.vars.totalProgress=A,R.invalidate().restart()))),X)if(e&&J&&(_.style[J+ce.os2]=T),pe){if(d){if(m=!e&&A>D&&c+1>w&&w+1>=Zi(he,ce),ie)if(e||!a&&!m)lo(X,_);else{var O=ka(X,!0),L=w-u;lo(X,hi,O.top+(ce===Jr?L:0)+ya,O.left+(ce===Jr?0:L)+ya)}ao(a||m?y:g),I!==v&&A<1&&a||b(x+(1!==A||m?0:I))}}else b(Hi(x+I*A));re&&!r.tween&&!gi&&!Ui&&M.restart(!0),W&&(p||ne&&A&&(A<1||!Di))&&pi(W.targets).forEach((function(e){return e.classList[a||ne?"add":"remove"](W.className)})),q&&!le&&!e&&q(_e),d&&!gi?(le&&(k&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),q&&q(_e)),!p&&Di||(K&&p&&sa(_e,K),ve[l]&&sa(_e,ve[l]),ne&&(1===A?_e.kill(!1,1):ve[l]=0),p||ve[l=1===A?1:3]&&sa(_e,ve[l])),se&&!a&&Math.abs(_e.getVelocity())>(na(se)?se:2500)&&(oa(_e.callbackAnimation),R?R.progress(1):oa(n,!A,1))):le&&q&&!gi&&q(_e)}if(C){var F=oe?w/oe.duration()*(oe._caScrollDist||0):w;S(F+(f._isFlipped?1:0)),C(F)}U&&U(-w/oe.duration()*(oe._caScrollDist||0))}},_e.enable=function(t,n){_e.enabled||(_e.enabled=!0,Ta(he,"resize",Ua),Ta(de?ci:he,"scroll",Fa),ke&&Ta(e,"refreshInit",ke),!1!==t&&(_e.progress=L=0,o=s=xe=Te()),!1!==n&&_e.refresh())},_e.getTween=function(e){return e&&r?r.tween:R},_e.setPositions=function(e,t){X&&(x+=e-u,I+=t-e-v),_e.start=u=e,_e.end=c=t,v=t-e,_e.update()},_e.disable=function(t,n){if(_e.enabled&&(!1!==t&&_e.revert(),_e.enabled=_e.isActive=!1,n||R&&R.pause(),F=0,i&&(i.uncache=1),ke&&Ea(e,"refreshInit",ke),M&&(M.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!de)){for(var a=Oa.length;a--;)if(Oa[a].scroller===he&&Oa[a]!==_e)return;Ea(he,"resize",Ua),Ea(he,"scroll",Fa)}},_e.kill=function(e,r){_e.disable(e,r),R&&!r&&R.kill(),G&&delete Ma[G];var a=Oa.indexOf(_e);a>=0&&Oa.splice(a,1),a===wi&&$a>0&&wi--,a=0,Oa.forEach((function(e){return e.scroller===_e.scroller&&(a=1)})),a||(_e.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.render(-1),r||n.kill()),l&&[l,h,f,d].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),ji===_e&&(ji=0),X&&(i&&(i.uncache=1),a=0,Oa.forEach((function(e){return e.pin===X&&a++})),a||(i.spacer=0)),t.onKill&&t.onKill(_e)},_e.enable(!1,!1),V&&V(_e),n&&n.add&&!v?oi.delayedCall(.01,(function(){return u||c||_e.refresh()}))&&(v=.01)&&(u=c=0):_e.refresh()}else this.update=this.refresh=this.kill=Ki},e.register=function(t){return si||(oi=t||Yi(),Qi()&&window.document&&e.enable(),si=qi),si},e.defaults=function(e){if(e)for(var t in e)Aa[t]=e[t];return Aa},e.disable=function(e,t){qi=0,Oa.forEach((function(n){return n[t?"kill":"disable"](e)})),Ea(ui,"wheel",Fa),Ea(ci,"scroll",Fa),clearInterval(yi),Ea(ci,"touchcancel",Ki),Ea(hi,"touchstart",Ki),Ia(Ea,ci,"pointerdown,touchstart,mousedown",Wi),Ia(Ea,ci,"pointerup,touchend,mouseup",Gi),di.kill(),$i(Ea);for(var n=0;n<jr.length;n+=3)Sa(Ea,jr[n],jr[n+1]),Sa(Ea,jr[n],jr[n+2])},e.enable=function(){if(ui=window,ci=document,li=ci.documentElement,hi=ci.body,oi&&(pi=oi.utils.toArray,vi=oi.utils.clamp,Ei=oi.core.suppressOverwrites||Ki,oi.core.globals("ScrollTrigger",e),hi)){qi=1,ai.register(oi),e.isTouch=ai.isTouch,Ri=ai.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ta(ui,"wheel",Fa),fi=[ui,ci,li,hi],e.matchMedia({"(orientation: portrait)":function(){return ja(),ja}}),Ta(ci,"scroll",Fa);var t,n,r=hi.style,i=r.borderTopStyle;for(r.borderTopStyle="solid",t=ka(hi),Jr.m=Math.round(t.top+Jr.sc())||0,Xr.m=Math.round(t.left+Xr.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),yi=setInterval(La,250),oi.delayedCall(.5,(function(){return Ui=0})),Ta(ci,"touchcancel",Ki),Ta(hi,"touchstart",Ki),Ia(Ta,ci,"pointerdown,touchstart,mousedown",Wi),Ia(Ta,ci,"pointerup,touchend,mouseup",Gi),ki=oi.utils.checkPrefix("transform"),no.push(ki),si=Vi(),di=oi.delayedCall(.2,Ja).pause(),Ii=[ci,"visibilitychange",function(){var e=ui.innerWidth,t=ui.innerHeight;ci.hidden?(bi=e,xi=t):bi===e&&xi===t||Ua()},ci,"DOMContentLoaded",Ja,ui,"load",Ja,ui,"resize",Ua],$i(Ta),Oa.forEach((function(e){return e.enable(0,1)})),n=0;n<jr.length;n+=3)Sa(Ea,jr[n],jr[n+1]),Sa(Ea,jr[n],jr[n+2])}},e.config=function(t){"limitCallbacks"in t&&(Di=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(yi)||(yi=n)&&setInterval(La,n),"ignoreMobileResize"in t&&(Ai=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&($i(Ea)||$i(Ta,t.autoRefreshEvents||"none"),Si=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=Zr(e),r=jr.indexOf(n),i=Xi(n);~r&&jr.splice(r,i?6:2),t&&(i?Ur.unshift(ui,t,hi,t,li,t):Ur.unshift(n,t))},e.matchMedia=function(e){var t,n,r,i,a;for(n in e)r=za.indexOf(n),i=e[n],Mi=n,"all"===n?i():(t=ui.matchMedia(n))&&(t.matches&&(a=i()),~r?(za[r+1]=aa(za[r+1],i),za[r+2]=aa(za[r+2],a)):(r=za.length,za.push(n,i,a),t.addListener?t.addListener(qa):t.addEventListener("change",qa)),za[r+3]=t.matches),Mi=0;return za},e.clearMatchMedia=function(e){e||(za.length=0),(e=za.indexOf(e))>=0&&za.splice(e,4)},e.isInViewport=function(e,t,n){var r=(ea(e)?Zr(e):e).getBoundingClientRect(),i=r[n?fa:da]*t||0;return n?r.right-i>0&&r.left+i<ui.innerWidth:r.bottom-i>0&&r.top+i<ui.innerHeight},e.positionInViewport=function(e,t,n){ea(e)&&(e=Zr(e));var r=e.getBoundingClientRect(),i=r[n?fa:da],a=null==t?i/2:t in Na?Na[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+a)/ui.innerWidth:(r.top+a)/ui.innerHeight},e}();fo.version="3.10.4",fo.saveStyles=function(e){return e?pi(e).forEach((function(e){if(e&&e.style){var t=Ka.indexOf(e);t>=0&&Ka.splice(t,5),Ka.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),oi.core.getCache(e),Mi)}})):Ka},fo.revert=function(e,t){return Qa(!e,t)},fo.create=function(e,t){return new fo(e,t)},fo.refresh=function(e){return e?Ua():(si||fo.register())&&Ja(!0)},fo.update=eo,fo.clearScrollMemory=Ya,fo.maxScroll=function(e,t){return Zi(e,t?Xr:Jr)},fo.getScrollFunc=function(e,t){return $r(Zr(e),t?Xr:Jr)},fo.getById=function(e){return Ma[e]},fo.getAll=function(){return Oa.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},fo.isScrolling=function(){return!!zi},fo.snapDirectional=xa,fo.addEventListener=function(e,t){var n=Va[e]||(Va[e]=[]);~n.indexOf(t)||n.push(t)},fo.removeEventListener=function(e,t){var n=Va[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},fo.batch=function(e,t){var n,r=[],i={},a=t.interval||.016,o=t.batchMax||1e9,s=function(e,t){var n=[],r=[],i=oi.delayedCall(a,(function(){t(n,r),n=[],r=[]})).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&ta(t[n])&&"onRefreshInit"!==n?s(0,t[n]):t[n];return ta(o)&&(o=o(),Ta(fo,"refresh",(function(){return o=t.batchMax()}))),pi(e).forEach((function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(fo.create(t))})),r};var po,vo=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},mo=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(ai.isTouch?" pinch-zoom":""):"none",t===li&&e(hi,n)},yo={auto:1,scroll:1},go=function(e){var t,n=e.event,r=e.target,i=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,o=a._gsap||oi.core.getCache(a),s=Vi();if(!o._isScrollT||s-o._isScrollT>2e3){for(;a&&a.scrollHeight<=a.clientHeight;)a=a.parentNode;o._isScroll=a&&!Xi(a)&&a!==r&&(yo[(t=ga(a)).overflowY]||yo[t.overflowX]),o._isScrollT=s}(o._isScroll||"x"===i)&&(n._gsapAllow=!0)},_o=function(e,t,n,r){return ai.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&go,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&Ta(ci,ai.eventTypes[0],wo,!1,!0)},onDisable:function(){return Ea(ci,ai.eventTypes[0],wo,!0)}})},ko=/(input|label|select|textarea)/i,wo=function(e){var t=ko.test(e.target.tagName);(t||po)&&(e._gsapAllow=!0,po=t)},bo=function(e){ra(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,a,o,s,u,c=e,l=c.normalizeScrollX,h=c.momentum,f=c.allowNestedScroll,d=Zr(e.target)||li,p=oi.core.globals().ScrollSmoother,v=Ri&&(e.content&&Zr(e.content)||p&&p.get()&&p.get().content()),m=$r(d,Jr),y=$r(d,Xr),g=1,_=(ai.isTouch&&ui.visualViewport?ui.visualViewport.scale*ui.visualViewport.width:ui.outerWidth)/ui.innerWidth,k=0,w=ta(h)?function(){return h(t)}:function(){return h||2.8},b=_o(d,e.type,!0,f),x=function(){return r=!1},I=Ki,T=Ki,E=function(){n=Zi(d,Jr),T=vi(Ri?1:0,n),l&&(I=vi(0,Zi(d,Xr))),i=Xa},S=function(){E(),a.isActive()&&a.vars.scrollY>n&&(m()>n?a.progress(1)&&m(n):a.resetTo("scrollY",n))};return e.ignoreCheck=function(e){return Ri&&"touchmove"===e.type&&function(){if(r){requestAnimationFrame(x);var e=Hi(t.deltaY/2),n=T(m.v-e);return v&&n!==m.v+m.offset&&(m.offset=n-m.v,v.style.transform="translateY("+-m.offset+"px)",v._gsap&&(v._gsap.y=-m.offset+"px"),m.cacheID=jr.cache,eo()),!0}v&&(v.style.transform="translateY(0px)",m.offset=m.cacheID=0,v._gsap&&(v._gsap.y="0px")),r=!0}()||g>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){var e=g;g=Hi((ui.visualViewport&&ui.visualViewport.scale||1)/_),a.pause(),e!==g&&mo(d,g>1.01||!l&&"x"),r=!1,o=y(),s=m(),E(),i=Xa},e.onRelease=e.onGestureStart=function(e,t){if(v&&(v.style.transform="translateY(0px)",m.offset=m.cacheID=0,v._gsap&&(v._gsap.y="0px")),t){jr.cache++;var r,i,o=w();l&&(i=(r=y())+.05*o*-e.velocityX/.227,o*=vo(y,r,i,Zi(d,Xr)),a.vars.scrollX=I(i)),i=(r=m())+.05*o*-e.velocityY/.227,o*=vo(m,r,i,Zi(d,Jr)),a.vars.scrollY=T(i),a.invalidate().duration(o).play(.01),(Ri&&a.vars.scrollY>=n||r>=n-1)&&oi.to({},{onUpdate:S,duration:o})}else u.restart(!0)},e.onWheel=function(){a._ts&&a.pause(),Vi()-k>1e3&&(i=0,k=Vi())},e.onChange=function(e,t,n,r,a){Xa!==i&&E(),t&&l&&y(I(r[2]===t?o+(e.startX-e.x):y()+t-r[1])),n&&m(T(a[2]===n?s+(e.startY-e.y):m()+n-a[1])),eo()},e.onEnable=function(){mo(d,!l&&"x"),Ta(ui,"resize",S),b.enable()},e.onDisable=function(){mo(d,!0),Ea(ui,"resize",S),b.kill()},(t=new ai(e)).iOS=Ri,Ri&&!m()&&m(1),u=t._dc,a=oi.to(t,{ease:"power4",paused:!0,scrollX:l?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:u.vars.onComplete}),t};fo.sort=function(e){return Oa.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},fo.observe=function(e){return new ai(e)},fo.normalizeScroll=function(e){if("undefined"===typeof e)return Ci;if(!0===e&&Ci)return Ci.enable();if(!1===e)return Ci&&Ci.kill();var t=e instanceof ai?e:bo(e);return Ci&&Ci.target===t.target&&Ci.kill(),Xi(t.target)&&(Ci=t),t},fo.core={_getVelocityProp:ei,_inputObserver:_o,_scrollers:jr,_proxies:Ur,bridge:{ss:function(){zi||Ga("scrollStart"),zi=Vi()},ref:function(){return gi}}},Yi()&&oi.registerPlugin(fo);var xo="Kv_kv__5JmeM",Io="Kv_kv__img__zfEeN",To="Kv_kv__img-wrap__wZ+Jl",Eo="Kv_kv__cont__-V1z-",So="Kv_kv__tit__8iPl2",Co="Kv_kv__tit-and__ryNhW",Ao="Kv_kv__tit-sub__3cRdu",No="Kv_cont__Zf5-T",Po="Kv_cont__thin__V0rtX",Ro="Kv_cont-wrap__78-7p",Do="Kv_cont--place__HxWFA",Oo=n(184);wr.registerPlugin(fo);var Mo=function(e){var r=(0,t.useRef)(""),i=(0,t.useRef)("");return(0,t.useEffect)((function(){var e=wr.timeline({scrollTrigger:{trigger:r.current,start:"top top",end:"bottom top",scrub:!0}});return e.fromTo(i.current,{scale:1,y:"0%"},{scale:1.2,y:"40%"}),function(){e.scrollTrigger.kill()}}),[]),(0,Oo.jsxs)("section",{id:"kv",children:[(0,Oo.jsxs)("div",{className:xo,children:[(0,Oo.jsx)("div",{ref:r,className:To,children:(0,Oo.jsx)("img",{ref:i,src:n(108),alt:"kv",className:Io})}),(0,Oo.jsxs)("div",{className:Eo,children:[(0,Oo.jsxs)("div",{className:So,children:["\uc724\uc5ec\uc6c5 ",(0,Oo.jsx)("span",{className:Co,children:"&"})," \uc720\uc740\uc194"]}),(0,Oo.jsx)("div",{className:Ao,children:"2022.00.00 Sat 12:00"})]})]}),(0,Oo.jsx)("div",{"data-gsap":"opacity",className:"section-flower",children:"\ud83d\udc90"}),(0,Oo.jsxs)("div",{className:Ro,children:[(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:No,children:["\uc11c\ub85c\uac00 \ub9c8\uc8fc\ubcf4\uba70 \ub2e4\uc838\uc628 \uc0ac\ub791\uc744",(0,Oo.jsx)("br",{}),"\uc774\uc81c \ud568\uaed8 \ud55c \uacf3\uc744 \ubc14\ub77c\ubcf4\uba70",(0,Oo.jsx)("br",{}),"\uac78\uc5b4\uac08 \uc218 \uc788\ub294 \ud070 \uc0ac\ub791\uc73c\ub85c \ud0a4\uc6b0\uace0\uc790 \ud569\ub2c8\ub2e4.",(0,Oo.jsx)("br",{}),"\uc800\ud76c \ub450 \uc0ac\ub78c\uc774 \uc0ac\ub791\uc758 \uc774\ub984\uc73c\ub85c",(0,Oo.jsx)("br",{}),"\uc9c0\ucf1c\ub098\uac08 \uc218 \uc788\uac8c \uc55e\ub0a0\uc744",(0,Oo.jsx)("br",{}),"\ucd95\ubcf5\ud574 \uc8fc\uc2dc\uba74 \uac10\uc0ac\ud558\uaca0\uc2b5\ub2c8\ub2e4.",(0,Oo.jsx)("br",{})]}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:No,children:[(0,Oo.jsxs)("div",{children:["\uc724\uc5ec\uc6c5 \uff65 \uc720\uc740\uc194",(0,Oo.jsx)("span",{className:Po,children:"\uc758 \uc7a5\ub0a8"})," \uc5ec\uc6c5"]}),(0,Oo.jsxs)("div",{children:["\uc724\uc5ec\uc6c5 \uff65 \uc720\uc740\uc194",(0,Oo.jsx)("span",{className:Po,children:"\uc758 \uc7a5\ub140"})," \uc740\uc194"]})]}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:"".concat(No," ").concat(Do),children:[(0,Oo.jsx)("div",{children:"2022.12.12 \ud1a0\uc694\uc77c \uc624\ud6c4 12\uc2dc 00\ubd84"}),(0,Oo.jsx)("div",{children:"\uc0c1\ub85d\uc544\ud2b8\ud640 \uadf8\ub79c\ub4dc\ubcfc\ub8f8\ud640"})]})]})]})};function Lo(e){if(Array.isArray(e))return e}function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t){if(e){if("string"===typeof e)return Fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fo(e,t):void 0}}function Uo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vo(e,t){return Lo(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||jo(e,t)||Uo()}var Bo=n(164),zo={backdrop:"Modal_backdrop__1HSqd",modal:"Modal_modal__lLcOT",modal__btn:"Modal_modal__btn__jN-O2"},qo=function(e){return(0,Oo.jsx)("div",{className:zo.backdrop,onClick:e.onClose})},Wo=function(e){return(0,Oo.jsxs)("div",{className:zo.modal,children:[(0,Oo.jsx)("button",{onClick:e.onClose,className:zo.modal__btn,children:"\xd7"}),(0,Oo.jsx)("div",{className:zo.content,children:e.children})]})},Go=document.getElementById("overlays"),Ko=function(e){return(0,Oo.jsxs)(t.Fragment,{children:[Bo.createPortal((0,Oo.jsx)(qo,{onClose:e.onClose}),Go),Bo.createPortal((0,Oo.jsx)(Wo,{onClose:e.onClose,children:e.children}),Go)]})};function Ho(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Qo(e){return function(e){if(Array.isArray(e))return Fo(e)}(e)||Ho(e)||jo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jo(e,t,n){return t&&Xo(e.prototype,t),n&&Xo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zo(e,t){return Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zo(e,t)}function $o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},es(e)}function ts(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function rs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function is(e,t){if(t&&("object"===ns(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rs(e)}function as(e){var t=ts();return function(){var n,r=es(e);if(t){var i=es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return is(this,n)}}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){os(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ls=["children","className"],hs=["className","tag","hasTrack","children"],fs=["children","className"];function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ps="(prefers-reduced-motion: reduce)",vs={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};function ms(e){e.length=0}function ys(e,t,n){return Array.prototype.slice.call(e,t,n)}function gs(e){return e.bind.apply(e,[null].concat(ys(arguments,1)))}var _s=setTimeout,ks=function(){};function ws(e){return requestAnimationFrame(e)}function bs(e,t){return typeof t===e}function xs(e){return!Cs(e)&&bs("object",e)}var Is=Array.isArray,Ts=gs(bs,"function"),Es=gs(bs,"string"),Ss=gs(bs,"undefined");function Cs(e){return null===e}function As(e){return e instanceof HTMLElement}function Ns(e){return Is(e)?e:[e]}function Ps(e,t){Ns(e).forEach(t)}function Rs(e,t){return e.indexOf(t)>-1}function Ds(e,t){return e.push.apply(e,Ns(t)),e}function Os(e,t,n){e&&Ps(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function Ms(e,t){Os(e,Es(t)?t.split(" "):t,!0)}function Ls(e,t){Ps(t,e.appendChild.bind(e))}function Fs(e,t){Ps(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function js(e,t){return As(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function Us(e,t){var n=e?ys(e.children):[];return t?n.filter((function(e){return js(e,t)})):n}function Vs(e,t){return t?Us(e,t)[0]:e.firstElementChild}var Bs=Object.keys;function zs(e,t,n){if(e){var r=Bs(e);r=n?r.reverse():r;for(var i=0;i<r.length;i++){var a=r[i];if("__proto__"!==a&&!1===t(e[a],a))break}}return e}function qs(e){return ys(arguments,1).forEach((function(t){zs(t,(function(n,r){e[r]=t[r]}))})),e}function Ws(e){return ys(arguments,1).forEach((function(t){zs(t,(function(t,n){Is(t)?e[n]=t.slice():xs(t)?e[n]=Ws({},xs(e[n])?e[n]:{},t):e[n]=t}))})),e}function Gs(e,t){Ns(t||Bs(e)).forEach((function(t){delete e[t]}))}function Ks(e,t){Ps(e,(function(e){Ps(t,(function(t){e&&e.removeAttribute(t)}))}))}function Hs(e,t,n){xs(t)?zs(t,(function(t,n){Hs(e,n,t)})):Ps(e,(function(e){Cs(n)||""===n?Ks(e,t):e.setAttribute(t,String(n))}))}function Qs(e,t,n){var r=document.createElement(e);return t&&(Es(t)?Ms(r,t):Hs(r,t)),n&&Ls(n,r),r}function Ys(e,t,n){if(Ss(n))return getComputedStyle(e)[t];Cs(n)||(e.style[t]=""+n)}function Xs(e,t){Ys(e,"display",t)}function Js(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function Zs(e,t){return e.getAttribute(t)}function $s(e,t){return e&&e.classList.contains(t)}function eu(e){return e.getBoundingClientRect()}function tu(e){Ps(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function nu(e){return Vs((new DOMParser).parseFromString(e,"text/html").body)}function ru(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function iu(e,t){return e&&e.querySelector(t)}function au(e,t){return t?ys(e.querySelectorAll(t)):[]}function ou(e,t){Os(e,t,!1)}function su(e){return e.timeStamp}function uu(e){return Es(e)?e:e?e+"px":""}var cu="splide",lu="data-splide";function hu(e,t){if(!e)throw new Error("[splide] "+(t||""))}var fu=Math.min,du=Math.max,pu=Math.floor,vu=Math.ceil,mu=Math.abs;function yu(e,t,n){return mu(e-t)<n}function gu(e,t,n,r){var i=fu(t,n),a=du(t,n);return r?i<e&&e<a:i<=e&&e<=a}function _u(e,t,n){var r=fu(t,n),i=du(t,n);return fu(du(r,e),i)}function ku(e){return+(e>0)-+(e<0)}function wu(e,t){return Ps(t,(function(t){e=e.replace("%s",""+t)})),e}function bu(e){return e<10?"0"+e:""+e}var xu={};function Iu(){var e=[];function t(e,t,n){Ps(e,(function(e){e&&Ps(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");n(e,r[0],r[1])}))}))}))}return{bind:function(n,r,i,a){t(n,r,(function(t,n,r){var o="addEventListener"in t,s=o?t.removeEventListener.bind(t,n,i,a):t.removeListener.bind(t,i);o?t.addEventListener(n,i,a):t.addListener(i),e.push([t,n,r,i,s])}))},unbind:function(n,r,i){t(n,r,(function(t,n,r){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==r||i&&e[3]!==i)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var r;return"function"===typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(r),r},destroy:function(){e.forEach((function(e){e[4]()})),ms(e)}}}var Tu="mounted",Eu="ready",Su="move",Cu="moved",Au="shifted",Nu="click",Pu="active",Ru="inactive",Du="visible",Ou="hidden",Mu="slide:keydown",Lu="refresh",Fu="updated",ju="resize",Uu="resized",Vu="drag",Bu="dragging",zu="dragged",qu="scroll",Wu="scrolled",Gu="destroy",Ku="arrows:mounted",Hu="arrows:updated",Qu="pagination:mounted",Yu="pagination:updated",Xu="navigation:mounted",Ju="autoplay:play",Zu="autoplay:playing",$u="autoplay:pause",ec="lazyload:loaded";function tc(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Iu();return e&&e.event.on(Gu,n.destroy),qs(n,{bus:t,on:function(e,r){n.bind(t,Ns(e).join(" "),(function(e){r.apply(r,Is(e.detail)?e.detail:[])}))},off:gs(n.unbind,t),emit:function(e){n.dispatch(t,e,ys(arguments,1))}})}function nc(e,t,n,r){var i,a,o=Date.now,s=0,u=!0,c=0;function l(){if(!u){if(s=e?fu((o()-i)/e,1):1,n&&n(s),s>=1&&(t(),i=o(),r&&++c>=r))return h();ws(l)}}function h(){u=!0}function f(){a&&cancelAnimationFrame(a),s=0,a=0,u=!0}return{start:function(t){!t&&f(),i=o()-(t?s*e:0),u=!1,ws(l)},rewind:function(){i=o(),s=0,n&&n(s)},pause:h,cancel:f,set:function(t){e=t},isPaused:function(){return u}}}var rc="ArrowLeft",ic="ArrowRight",ac="ArrowUp",oc="ArrowDown",sc="ttb",uc={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[ac,ic],ArrowRight:[oc,rc]};var cc="role",lc="tabindex",hc="aria-controls",fc="aria-current",dc="aria-selected",pc="aria-label",vc="aria-labelledby",mc="aria-hidden",yc="aria-orientation",gc="aria-roledescription",_c="aria-live",kc="aria-relevant",wc=[cc,lc,"disabled",hc,fc,pc,vc,mc,yc,gc],bc=cu,xc="splide__track",Ic="splide__list",Tc="splide__slide",Ec=Tc+"--clone",Sc="splide__arrows",Cc="splide__arrow",Ac=Cc+"--prev",Nc=Cc+"--next",Pc="splide__pagination",Rc=Pc+"__page",Dc="splide__progress__bar",Oc="splide__toggle",Mc="is-active",Lc="is-prev",Fc="is-next",jc="is-visible",Uc="is-loading",Vc="is-focus-in",Bc=[Mc,jc,Lc,Fc,Uc,Vc],zc={slide:Tc,clone:Ec,arrows:Sc,arrow:Cc,prev:Ac,next:Nc,pagination:Pc,page:Rc,spinner:"splide__spinner"};var qc="touchstart mousedown",Wc="touchmove mousemove",Gc="touchend touchcancel mouseup";var Kc="slide",Hc="loop",Qc="fade";function Yc(e,t,n,r){var i,a=tc(e),o=a.on,s=a.emit,u=a.bind,c=e.Components,l=e.root,h=e.options,f=h.isNavigation,d=h.updateOnMove,p=h.i18n,v=h.pagination,m=h.slideFocus,y=c.Direction.resolve,g=Zs(r,"style"),_=Zs(r,pc),k=n>-1,w=Vs(r,".splide__slide__container"),b=au(r,h.focusableNodes||"");function x(){var i=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");Hs(r,pc,wu(p.slideX,(k?n:t)+1)),Hs(r,hc,i),Hs(r,cc,m?"button":""),m&&Ks(r,gc)}function I(){i||T()}function T(){if(!i){var n=e.index;!function(){var e=E();e!==$s(r,Mc)&&(Os(r,Mc,e),Hs(r,fc,f&&e||""),s(e?Pu:Ru,S))}(),function(){var t=function(){if(e.is(Qc))return E();var t=eu(c.Elements.track),n=eu(r),i=y("left"),a=y("right");return pu(t[i])<=vu(n[i])&&pu(n[a])<=vu(t[a])}(),n=!t&&(!E()||k);e.state.is([4,5])||Hs(r,mc,n||"");Hs(b,lc,n?-1:""),m&&Hs(r,lc,n?-1:0);t!==$s(r,jc)&&(Os(r,jc,t),s(t?Du:Ou,S));if(!t&&document.activeElement===r){var i=c.Slides.getAt(e.index);i&&Js(i.slide)}}(),Os(r,Lc,t===n-1),Os(r,Fc,t===n+1)}}function E(){var r=e.index;return r===t||h.cloneStatus&&r===n}var S={index:t,slideIndex:n,slide:r,container:w,isClone:k,mount:function(){k||(r.id=l.id+"-slide"+bu(t+1),Hs(r,cc,v?"tabpanel":"group"),Hs(r,gc,p.slide),Hs(r,pc,_||wu(p.slideLabel,[t+1,e.length]))),u(r,"click",gs(s,Nu,S)),u(r,"keydown",gs(s,Mu,S)),o([Cu,Au,Wu],T),o(Xu,x),d&&o(Su,I)},destroy:function(){i=!0,a.destroy(),ou(r,Bc),Ks(r,wc),Hs(r,"style",g),Hs(r,pc,_||"")},update:T,style:function(e,t,n){Ys(n&&w||r,e,t)},isWithin:function(n,r){var i=mu(n-t);return k||!h.rewind&&!e.is(Hc)||(i=fu(i,e.length-i)),i<=r}};return S}var Xc={passive:!1,capture:!0};var Jc={Spacebar:" ",Right:ic,Left:rc,Up:ac,Down:oc};function Zc(e){return e=Es(e)?e:e.key,Jc[e]||e}var $c="keydown";var el="data-splide-lazy",tl="data-splide-lazy-srcset";var nl=[" ","Enter"];var rl=Object.freeze({__proto__:null,Media:function(e,t,n){var r=e.state,i=n.breakpoints||{},a=n.reducedMotion||{},o=Iu(),s=[];function u(e){e&&o.destroy()}function c(e,t){var n=matchMedia(t);o.bind(n,"change",l),s.push([e,n])}function l(){var t=r.is(7),i=n.direction,a=s.reduce((function(e,t){return Ws(e,t[1].matches?t[0]:{})}),{});Gs(n),h(a),n.destroy?e.destroy("completely"===n.destroy):t?(u(!0),e.mount()):i!==n.direction&&e.refresh()}function h(t,i){Ws(n,t),i&&Ws(Object.getPrototypeOf(n),t),r.is(1)||e.emit(Fu,n)}return{setup:function(){var e="min"===n.mediaQuery;Bs(i).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){c(i[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),c(a,ps),l()},destroy:u,reduce:function(e){matchMedia(ps).matches&&(e?Ws(n,a):Gs(n,Bs(a)))},set:h}},Direction:function(e,t,n){return{resolve:function(e,t,r){var i="rtl"!==(r=r||n.direction)||t?r===sc?0:-1:1;return uc[e]&&uc[e][i]||e.replace(/width|left|right/i,(function(e,t){var n=uc[e.toLowerCase()][i]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var r,i,a,o=tc(e),s=o.on,u=o.bind,c=e.root,l=n.i18n,h={},f=[],d=[],p=[];function v(){r=g("."+xc),i=Vs(r,"."+Ic),hu(r&&i,"A track/list element is missing."),Ds(f,Us(i,".splide__slide:not(."+Ec+")")),zs({arrows:Sc,pagination:Pc,prev:Ac,next:Nc,bar:Dc,toggle:Oc},(function(e,t){h[t]=g("."+e)})),qs(h,{root:c,track:r,list:i,slides:f}),function(){var e=c.id||(a=cu,""+a+bu(xu[a]=(xu[a]||0)+1)),t=n.role;var a;c.id=e,r.id=r.id||e+"-track",i.id=i.id||e+"-list",!Zs(c,cc)&&"SECTION"!==c.tagName&&t&&Hs(c,cc,t);Hs(c,gc,l.carousel),Hs(i,cc,"presentation")}(),y()}function m(e){var t=wc.concat("style");ms(f),ou(c,d),ou(r,p),Ks([r,i],t),Ks(c,e?t:["style",gc])}function y(){ou(c,d),ou(r,p),d=_(bc),p=_(xc),Ms(c,d),Ms(r,p),Hs(c,pc,n.label),Hs(c,vc,n.labelledby)}function g(e){var t=iu(c,e);return t&&function(e,t){if(Ts(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!js(n,t);)n=n.parentElement;return n}(t,".splide")===c?t:void 0}function _(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===bc&&Mc]}return qs(h,{setup:v,mount:function(){s(Lu,m),s(Lu,v),s(Fu,y),u(document,"touchstart mousedown keydown",(function(e){a="keydown"===e.type}),{capture:!0}),u(c,"focusin",(function(){Os(c,Vc,!!a)}))},destroy:m})},Slides:function(e,t,n){var r=tc(e),i=r.on,a=r.emit,o=r.bind,s=t.Elements,u=s.slides,c=s.list,l=[];function h(){u.forEach((function(e,t){d(e,t,-1)}))}function f(){v((function(e){e.destroy()})),ms(l)}function d(t,n,r){var i=Yc(e,n,r,t);i.mount(),l.push(i)}function p(e){return e?m((function(e){return!e.isClone})):l}function v(e,t){p(t).forEach(e)}function m(e){return l.filter(Ts(e)?e:function(t){return Es(e)?js(t.slide,e):Rs(Ns(e),t.index)})}return{mount:function(){h(),i(Lu,f),i(Lu,h),i([Tu,Lu],(function(){l.sort((function(e,t){return e.index-t.index}))}))},destroy:f,update:function(){v((function(e){e.update()}))},register:d,get:p,getIn:function(e){var r=t.Controller,i=r.toIndex(e),a=r.hasFocus()?1:n.perPage;return m((function(e){return gu(e.index,i,i+a-1)}))},getAt:function(e){return m(e)[0]},add:function(e,t){Ps(e,(function(e){if(Es(e)&&(e=nu(e)),As(e)){var r=u[t];r?Fs(e,r):Ls(c,e),Ms(e,n.classes.slide),function(e,t){var n=au(e,"img"),r=n.length;r?n.forEach((function(e){o(e,"load error",(function(){--r||t()}))})):t()}(e,gs(a,ju))}})),a(Lu)},remove:function(e){tu(m(e).map((function(e){return e.slide}))),a(Lu)},forEach:v,filter:m,style:function(e,t,n){v((function(r){r.style(e,t,n)}))},getLength:function(e){return e?u.length:l.length},isEnough:function(){return l.length>n.perPage}}},Layout:function(e,t,n){var r,i,a=tc(e),o=a.on,s=a.bind,u=a.emit,c=t.Slides,l=t.Direction.resolve,h=t.Elements,f=h.root,d=h.track,p=h.list,v=c.getAt,m=c.style;function y(){i=null,r=n.direction===sc,Ys(f,"maxWidth",uu(n.width)),Ys(d,l("paddingLeft"),_(!1)),Ys(d,l("paddingRight"),_(!0)),g()}function g(){var e=eu(f);i&&i.width===e.width&&i.height===e.height||(Ys(d,"height",function(){var e="";r&&(hu(e=k(),"height or heightRatio is missing."),e="calc("+e+" - "+_(!1)+" - "+_(!0)+")");return e}()),m(l("marginRight"),uu(n.gap)),m("width",n.autoWidth?null:uu(n.fixedWidth)||(r?"":w())),m("height",uu(n.fixedHeight)||(r?n.autoHeight?null:w():k()),!0),i=e,u(Uu))}function _(e){var t=n.padding,r=l(e?"right":"left");return t&&uu(t[r]||(xs(t)?0:t))||"0px"}function k(){return uu(n.height||eu(p).width*n.heightRatio)}function w(){var e=uu(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function b(e,t){var n=v(e);if(n){var r=eu(n.slide)[l("right")],i=eu(p)[l("left")];return mu(r-i)+(t?0:x())}return 0}function x(){var e=v(0);return e&&parseFloat(Ys(e.slide,l("marginRight")))||0}return{mount:function(){y(),s(window,"resize load",function(e,t){var n;return function(){n||(n=nc(t||0,(function(){e(),n=null}),null,1)).start()}}(gs(u,ju))),o([Fu,Lu],y),o(ju,g)},listSize:function(){return eu(p)[l("width")]},slideSize:function(e,t){var n=v(e||0);return n?eu(n.slide)[l("width")]+(t?0:x()):0},sliderSize:function(){return b(e.length-1,!0)-b(-1,!0)},totalSize:b,getPadding:function(e){return parseFloat(Ys(d,l("padding"+(e?"Right":"Left"))))||0}}},Clones:function(e,t,n){var r,i=tc(e),a=i.on,o=i.emit,s=t.Elements,u=t.Slides,c=t.Direction.resolve,l=[];function h(){(r=p())&&(!function(t){var r=u.get().slice(),i=r.length;if(i){for(;r.length<t;)Ds(r,r);Ds(r.slice(-t),r.slice(0,t)).forEach((function(a,o){var c=o<t,h=function(t,r){var i=t.cloneNode(!0);return Ms(i,n.classes.clone),i.id=e.root.id+"-clone"+bu(r+1),i}(a.slide,o);c?Fs(h,r[0].slide):Ls(s.list,h),Ds(l,h),u.register(h,o-t+(c?0:i),a.index)}))}}(r),o(ju))}function f(){tu(l),ms(l)}function d(){r<p()&&o(Lu)}function p(){var r=n.clones;if(e.is(Hc)){if(!r){var i=n[c("fixedWidth")]&&t.Layout.slideSize(0);r=i&&vu(eu(s.track)[c("width")]/i)||n[c("autoWidth")]&&e.length||2*n.perPage}}else r=0;return r}return{mount:function(){h(),a(Lu,f),a(Lu,h),a([Fu,ju],d)},destroy:f}},Move:function(e,t,n){var r,i=tc(e),a=i.on,o=i.emit,s=e.state.set,u=t.Layout,c=u.slideSize,l=u.getPadding,h=u.totalSize,f=u.listSize,d=u.sliderSize,p=t.Direction,v=p.resolve,m=p.orient,y=t.Elements,g=y.list,_=y.track;function k(){t.Controller.isBusy()||(t.Scroll.cancel(),w(e.index),t.Slides.update())}function w(e){b(T(e,!0))}function b(t,n){if(!e.is(Qc)){var r=n?t:function(t){if(e.is(Hc)){var n=m(t-E()),r=C(!1,t)&&n<0,i=C(!0,t)&&n>0;(r||i)&&(t=x(t,i))}return t}(t);Ys(g,"transform","translate"+v("X")+"("+r+"px)"),t!==r&&o(Au)}}function x(e,t){var n=e-S(t),r=d();return e-=m(r*(vu(mu(n)/r)||1))*(t?1:-1)}function I(){b(E()),r.cancel()}function T(t,r){var i=m(h(t-1)-function(e){var t=n.focus;return"center"===t?(f()-c(e,!0))/2:+t*c(e)||0}(t));return r?function(t){n.trimSpace&&e.is(Kc)&&(t=_u(t,0,m(d()-f())));return t}(i):i}function E(){var e=v("left");return eu(g)[e]-eu(_)[e]+m(l(!1))}function S(e){return T(e?t.Controller.getEnd():0,!!n.trimSpace)}function C(e,t){t=Ss(t)?E():t;var n=!0!==e&&m(t)<m(S(!1)),r=!1!==e&&m(t)>m(S(!0));return n||r}return{mount:function(){r=t.Transition,a([Tu,Uu,Fu,Lu],k)},move:function(e,t,n,i){var a=E();e!==t&&function(e){var t=m(x(E(),e));return e?t>=0:t<=g["scroll"+v("Width")]-eu(_)[v("width")]}(e>t)&&(I(),b(x(a,e>t),!0)),s(4),o(Su,t,n,e),r.start(t,(function(){s(3),o(Cu,t,n,e),i&&i()}))},jump:w,translate:b,shift:x,cancel:I,toIndex:function(e){for(var n=t.Slides.get(),r=0,i=1/0,a=0;a<n.length;a++){var o=n[a].index,s=mu(T(o,!0)-e);if(!(s<=i))break;i=s,r=o}return r},toPosition:T,getPosition:E,getLimit:S,exceededLimit:C,reposition:k}},Controller:function(e,t,n){var r,i,a,o=tc(e).on,s=t.Move,u=s.getPosition,c=s.getLimit,l=s.toPosition,h=t.Slides,f=h.isEnough,d=h.getLength,p=e.is(Hc),v=e.is(Kc),m=gs(w,!1),y=gs(w,!0),g=n.start||0,_=g;function k(){r=d(!0),i=n.perMove,a=n.perPage;var e=_u(g,0,r-1);e!==g&&(g=e,s.reposition())}function w(e,t){var n=i||(C()?1:a),r=b(g+n*(e?-1:1),g,!(i||C()));return-1===r&&v&&!yu(u(),c(!e),1)?e?0:I():t?r:x(r)}function b(t,i,o){if(f()){var s=I(),c=function(t){if(v&&"move"===n.trimSpace&&t!==g)for(var r=u();r===l(t,!0)&&gu(t,0,e.length-1,!n.rewind);)t<g?--t:++t;return t}(t);c!==t&&(i=t,t=c,o=!1),t<0||t>s?t=gu(0,t,i,!0)||gu(s,i,t,!0)?T(E(t)):p?o?t<0?-(r%a||a):r:t:n.rewind?t<0?s:0:-1:o&&t!==i&&(t=T(E(i)+(t<i?-1:1)))}else t=-1;return t}function x(e){return p?(e+r)%r||0:e}function I(){return du(r-(C()||p&&i?1:a),0)}function T(e){return _u(C()?e:a*e,0,I())}function E(e){return C()?e:pu((e>=I()?r-1:e)/a)}function S(e){e!==g&&(_=g,g=e)}function C(){return!Ss(n.focus)||n.isNavigation}function A(){return e.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){k(),o([Fu,Lu],k)},go:function(e,t,n){if(!A()){var r=function(e){var t=g;if(Es(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],r=n[1],i=n[2];"+"===r||"-"===r?t=b(g+ +(""+r+(+i||1)),g):">"===r?t=i?T(+i):m(!0):"<"===r&&(t=y(!0))}else t=p?e:_u(e,0,I());return t}(e),i=x(r);i>-1&&(t||i!==g)&&(S(i),s.move(r,i,_,n))}},scroll:function(e,n,r,i){t.Scroll.scroll(e,n,r,(function(){S(x(s.toIndex(s.getPosition()))),i&&i()}))},getNext:m,getPrev:y,getAdjacent:w,getEnd:I,setIndex:S,getIndex:function(e){return e?_:g},toIndex:T,toPage:E,toDest:function(e){var t=s.toIndex(e);return v?_u(t,0,I()):t},hasFocus:C,isBusy:A}},Arrows:function(e,t,n){var r,i,a=tc(e),o=a.on,s=a.bind,u=a.emit,c=n.classes,l=n.i18n,h=t.Elements,f=t.Controller,d=h.arrows,p=h.track,v=d,m=h.prev,y=h.next,g={};function _(){!function(){var e=n.arrows;!e||m&&y||(v=d||Qs("div",c.arrows),m=x(!0),y=x(!1),r=!0,Ls(v,[m,y]),!d&&Fs(v,p));m&&y&&(qs(g,{prev:m,next:y}),Xs(v,e?"":"none"),Ms(v,i=Sc+"--"+n.direction),e&&(o([Cu,Lu,Wu],I),s(y,"click",gs(b,">")),s(m,"click",gs(b,"<")),I(),Hs([m,y],hc,p.id),u(Ku,m,y)))}(),o(Fu,k)}function k(){w(),_()}function w(){a.destroy(),ou(v,i),r?(tu(d?[m,y]:v),m=y=null):Ks([m,y],wc)}function b(e){f.go(e,!0)}function x(e){return nu('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function I(){var t=e.index,n=f.getPrev(),r=f.getNext(),i=n>-1&&t<n?l.last:l.prev,a=r>-1&&t>r?l.first:l.next;m.disabled=n<0,y.disabled=r<0,Hs(m,pc,i),Hs(y,pc,a),u(Hu,m,y,n,r)}return{arrows:g,mount:_,destroy:w}},Autoplay:function(e,t,n){var r,i,a=tc(e),o=a.on,s=a.bind,u=a.emit,c=nc(n.interval,e.go.bind(e,">"),(function(e){var t=h.bar;t&&Ys(t,"width",100*e+"%"),u(Zu,e)})),l=c.isPaused,h=t.Elements,f=t.Elements,d=f.root,p=f.toggle,v=n.autoplay,m="pause"===v;function y(){l()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),i=r=m=!1,k(),u(Ju))}function g(e){void 0===e&&(e=!0),m=!!e,k(),l()||(c.pause(),u($u))}function _(){m||(r||i?g(!1):y())}function k(){p&&(Os(p,Mc,!m),Hs(p,pc,n.i18n[m?"play":"pause"]))}function w(e){var r=t.Slides.getAt(e);c.set(r&&+Zs(r.slide,"data-splide-interval")||n.interval)}return{mount:function(){v&&(!function(){n.pauseOnHover&&s(d,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,_()}));n.pauseOnFocus&&s(d,"focusin focusout",(function(e){i="focusin"===e.type,_()}));p&&s(p,"click",(function(){m?y():g(!0)}));o([Su,qu,Lu],c.rewind),o(Su,w)}(),p&&Hs(p,hc,h.track.id),m||y(),k())},destroy:c.cancel,play:y,pause:g,isPaused:l}},Cover:function(e,t,n){var r=tc(e).on;function i(e){t.Slides.forEach((function(t){var n=Vs(t.container||t.slide,"img");n&&n.src&&a(e,n,t)}))}function a(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),Xs(t,e?"none":"")}return{mount:function(){n.cover&&(r(ec,gs(a,!0)),r([Tu,Fu,Lu],gs(i,!0)))},destroy:gs(i,!1)}},Scroll:function(e,t,n){var r,i,a=tc(e),o=a.on,s=a.emit,u=e.state.set,c=t.Move,l=c.getPosition,h=c.getLimit,f=c.exceededLimit,d=c.translate,p=1;function v(e,n,a,o,h){var f=l();if(g(),a){var d=t.Layout.sliderSize(),v=ku(e)*d*pu(mu(e)/d)||0;e=c.toPosition(t.Controller.toDest(e%d))+v}var _=yu(f,e,1);p=1,n=_?0:n||du(mu(e-f)/1.5,800),i=o,r=nc(n,m,gs(y,f,e,h),1),u(5),s(qu),r.start()}function m(){u(3),i&&i(),s(Wu)}function y(t,r,i,a){var o=l(),s=t+(r-t)*function(e){var t=n.easingFunc;return t?t(e):1-Math.pow(1-e,4)}(a),u=(s-o)*p;d(o+u),e.is(Kc)&&!i&&f()&&(p*=.6,mu(u)<10&&v(h(f(!0)),600,!1,void 0,!0))}function g(){r&&r.cancel()}function _(){r&&!r.isPaused()&&(g(),m())}return{mount:function(){o(Su,g),o([Fu,Lu],_)},destroy:g,scroll:v,cancel:_}},Drag:function(e,t,n){var r,i,a,o,s,u,c,l,h=tc(e),f=h.on,d=h.emit,p=h.bind,v=h.unbind,m=e.state,y=t.Move,g=t.Scroll,_=t.Controller,k=t.Elements.track,w=t.Media.reduce,b=t.Direction,x=b.resolve,I=b.orient,T=y.getPosition,E=y.exceededLimit,S=!1;function C(){var e=n.drag;U(!e),o="free"===e}function A(e){if(u=!1,!c){var t=j(e);!function(e){var t=n.noDrag;return!js(e,".splide__pagination__page, ."+Cc)&&(!t||!js(e,t))}(e.target)||!t&&e.button||(_.isBusy()?ru(e,!0):(l=t?k:window,s=m.is([4,5]),a=null,p(l,Wc,N,Xc),p(l,Gc,P,Xc),y.cancel(),g.cancel(),D(e)))}}function N(t){if(m.is(6)||(m.set(6),d(Vu)),t.cancelable)if(s){y.translate(r+O(t)/(S&&e.is(Kc)?5:1));var i=M(t)>200,a=S!==(S=E());(i||a)&&D(t),u=!0,d(Bu),ru(t)}else(function(e){return mu(O(e))>mu(O(e,!0))})(t)&&(s=function(e){var t=n.dragMinThreshold,r=xs(t),i=r&&t.mouse||0,a=(r?t.touch:+t)||10;return mu(O(e))>(j(e)?a:i)}(t),ru(t))}function P(r){m.is(6)&&(m.set(3),d(zu)),s&&(!function(r){var i=function(t){if(e.is(Hc)||!S){var n=M(t);if(n&&n<200)return O(t)/n}return 0}(r),a=function(e){return T()+ku(e)*fu(mu(e)*(n.flickPower||600),o?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(i),s=n.rewind&&n.rewindByDrag;w(!1),o?_.scroll(a,0,n.snap):e.is(Qc)?_.go(I(ku(i))<0?s?"<":"-":s?">":"+"):e.is(Kc)&&S&&s?_.go(E(!0)?">":"<"):_.go(_.toDest(a),!0);w(!0)}(r),ru(r)),v(l,Wc,N),v(l,Gc,P),s=!1}function R(e){!c&&u&&ru(e,!0)}function D(e){a=i,i=e,r=T()}function O(e,t){return F(e,t)-F(L(e),t)}function M(e){return su(e)-su(L(e))}function L(e){return i===e&&a||i}function F(e,t){return(j(e)?e.changedTouches[0]:e)["page"+x(t?"Y":"X")]}function j(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}function U(e){c=e}return{mount:function(){p(k,Wc,ks,Xc),p(k,Gc,ks,Xc),p(k,qc,A,Xc),p(k,"click",R,{capture:!0}),p(k,"dragstart",ru),f([Tu,Fu],C)},disable:U,isDragging:function(){return s}}},Keyboard:function(e,t,n){var r,i,a=tc(e),o=a.on,s=a.bind,u=a.unbind,c=e.root,l=t.Direction.resolve;function h(){var e=n.keyboard;e&&(r="global"===e?window:c,s(r,$c,p))}function f(){u(r,$c)}function d(){var e=i;i=!0,_s((function(){i=e}))}function p(t){if(!i){var n=Zc(t);n===l(rc)?e.go("<"):n===l(ic)&&e.go(">")}}return{mount:function(){h(),o(Fu,f),o(Fu,h),o(Su,d)},destroy:f,disable:function(e){i=e}}},LazyLoad:function(e,t,n){var r=tc(e),i=r.on,a=r.off,o=r.bind,s=r.emit,u="sequential"===n.lazyLoad,c=[Tu,Lu,Cu,Wu],l=[];function h(){ms(l),t.Slides.forEach((function(e){au(e.slide,"[data-splide-lazy], [data-splide-lazy-srcset]").forEach((function(t){var r=Zs(t,el),i=Zs(t,tl);if(r!==t.src||i!==t.srcset){var a=n.classes.spinner,o=t.parentElement,s=Vs(o,"."+a)||Qs("span",a,o);l.push([t,e,s]),t.src||Xs(t,"none")}}))})),u&&v()}function f(){(l=l.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,r)||d(t)}))).length||a(c)}function d(e){var t=e[0];Ms(e[1].slide,Uc),o(t,"load error",gs(p,e)),Hs(t,"src",Zs(t,el)),Hs(t,"srcset",Zs(t,tl)),Ks(t,el),Ks(t,tl)}function p(e,t){var n=e[0],r=e[1];ou(r.slide,Uc),"error"!==t.type&&(tu(e[2]),Xs(n,""),s(ec,n,r),s(ju)),u&&v()}function v(){l.length&&d(l.shift())}return{mount:function(){n.lazyLoad&&(h(),i(Lu,h),u||i(c,f))},destroy:gs(ms,l)}},Pagination:function(e,t,n){var r,i,a=tc(e),o=a.on,s=a.emit,u=a.bind,c=t.Slides,l=t.Elements,h=t.Controller,f=h.hasFocus,d=h.getIndex,p=h.go,v=t.Direction.resolve,m=[];function y(){r&&(tu(l.pagination?ys(r.children):r),ou(r,i),ms(m),r=null),a.destroy()}function g(e){p(">"+e,!0)}function _(e,t){var n=m.length,r=Zc(t),i=k(),a=-1;r===v(ic,!1,i)?a=++e%n:r===v(rc,!1,i)?a=(--e+n)%n:"Home"===r?a=0:"End"===r&&(a=n-1);var o=m[a];o&&(Js(o.button),p(">"+a),ru(t,!0))}function k(){return n.paginationDirection||n.direction}function w(e){return m[h.toPage(e)]}function b(){var e=w(d(!0)),t=w(d());if(e){var n=e.button;ou(n,Mc),Ks(n,dc),Hs(n,lc,-1)}if(t){var i=t.button;Ms(i,Mc),Hs(i,dc,!0),Hs(i,lc,"")}s(Yu,{list:r,items:m},e,t)}return{items:m,mount:function t(){y(),o([Fu,Lu],t),n.pagination&&c.isEnough()&&(o([Su,qu,Wu],b),function(){var t=e.length,a=n.classes,o=n.i18n,s=n.perPage,h=f()?t:vu(t/s);Ms(r=l.pagination||Qs("ul",a.pagination,l.track.parentElement),i=Pc+"--"+k()),Hs(r,cc,"tablist"),Hs(r,pc,o.select),Hs(r,yc,k()===sc?"vertical":"");for(var d=0;d<h;d++){var p=Qs("li",null,r),v=Qs("button",{class:a.page,type:"button"},p),y=c.getIn(d).map((function(e){return e.slide.id})),w=!f()&&s>1?o.pageX:o.slideX;u(v,"click",gs(g,d)),n.paginationKeyboard&&u(v,"keydown",gs(_,d)),Hs(p,cc,"presentation"),Hs(v,cc,"tab"),Hs(v,hc,y.join(" ")),Hs(v,pc,wu(w,d+1)),Hs(v,lc,-1),m.push({li:p,button:v,page:d})}}(),b(),s(Qu,{list:r,items:m},w(e.index)))},destroy:y,getAt:w,update:b}},Sync:function(e,t,n){var r=n.isNavigation,i=n.slideFocus,a=[];function o(){e.splides.forEach((function(t){t.isParent||(u(e,t.splide),u(t.splide,e))})),r&&function(){var t=tc(e),n=t.on;n(Nu,l),n(Mu,h),n([Tu,Fu],c),a.push(t),t.emit(Xu,e.splides)}()}function s(){a.forEach((function(e){e.destroy()})),ms(a)}function u(e,t){var n=tc(e);n.on(Su,(function(e,n,r){t.go(t.is(Hc)?r:e)})),a.push(n)}function c(){Hs(t.Elements.list,yc,n.direction===sc?"vertical":"")}function l(t){e.go(t.index)}function h(e,t){Rs(nl,Zc(t))&&(l(e),ru(t))}return{setup:function(){e.options={slideFocus:Ss(i)?r:i}},mount:o,destroy:s,remount:function(){s(),o()}}},Wheel:function(e,t,n){var r=tc(e).bind,i=0;function a(r){if(r.cancelable){var a=r.deltaY,o=a<0,s=su(r),u=n.wheelMinThreshold||0,c=n.wheelSleep||0;mu(a)>u&&s-i>c&&(e.go(o?"<":">"),i=s),function(r){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(r)}(o)&&ru(r)}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",a,Xc)}}},Live:function(e,t,n){var r=tc(e).on,i=t.Elements.track,a=n.live&&!n.isNavigation,o=Qs("span","splide__sr");function s(e){a&&Hs(i,_c,e?"off":"polite")}return{mount:function(){a&&(s(!t.Autoplay.isPaused()),Hs(i,kc,"additions"),o.textContent="\u2026",r(Ju,gs(s,!0)),r($u,gs(s,!1)),r([Cu,Wu],gs(Ls,i,o)))},disable:s,destroy:function(){Ks(i,[_c,kc]),tu(o)}}}}),il={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:zc,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function al(e,t,n){var r=tc(e).on;return{mount:function(){r([Tu,Lu],(function(){_s((function(){t.Slides.style("transition","opacity "+n.speed+"ms "+n.easing)}))}))},start:function(e,n){var r=t.Elements.track;Ys(r,"height",uu(eu(r).height)),_s((function(){n(),Ys(r,"height","")}))},cancel:ks}}function ol(e,t,n){var r,i=tc(e).bind,a=t.Move,o=t.Controller,s=t.Scroll,u=t.Elements.list,c=gs(Ys,u,"transition");function l(){c(""),s.cancel()}return{mount:function(){i(u,"transitionend",(function(e){e.target===u&&r&&(l(),r())}))},start:function(t,i){var u=a.toPosition(t,!0),l=a.getPosition(),h=function(t){var r=n.rewindSpeed;if(e.is(Kc)&&r){var i=o.getIndex(!0),a=o.getEnd();if(0===i&&t>=a||i>=a&&0===t)return r}return n.speed}(t);mu(u-l)>=1&&h>=1?n.useScroll?s.scroll(u,h,!1,i):(c("transform "+h+"ms "+n.easing),a.translate(u,!0),r=i):(a.jump(t),i())},cancel:l}}var sl=function(){function e(t,n){this.event=tc(),this.Components={},this.state=function(e){var t=e;return{set:function(e){t=e},is:function(e){return Rs(Ns(e),t)}}}(1),this.splides=[],this._o={},this._E={};var r=Es(t)?iu(document,t):t;hu(r,r+" is invalid."),this.root=r,n=Ws({label:Zs(r,pc)||"",labelledby:Zs(r,vc)||""},il,e.defaults,n||{});try{Ws(n,JSON.parse(Zs(r,lu)))}catch(i){hu(!1,"Invalid JSON")}this._o=Object.create(Ws({},n))}var t,n,r,i=e.prototype;return i.mount=function(e,t){var n=this,r=this.state,i=this.Components;return hu(r.is([1,7]),"Already mounted!"),r.set(1),this._C=i,this._T=t||this._T||(this.is(Qc)?al:ol),this._E=e||this._E,zs(qs({},rl,this._E,{Transition:this._T}),(function(e,t){var r=e(n,i,n._o);i[t]=r,r.setup&&r.setup()})),zs(i,(function(e){e.mount&&e.mount()})),this.emit(Tu),Ms(this.root,"is-initialized"),r.set(3),this.emit(Eu),this},i.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},i.go=function(e){return this._C.Controller.go(e),this},i.on=function(e,t){return this.event.on(e,t),this},i.off=function(e){return this.event.off(e),this},i.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(ys(arguments,1))),this},i.add=function(e,t){return this._C.Slides.add(e,t),this},i.remove=function(e){return this._C.Slides.remove(e),this},i.is=function(e){return this._o.type===e},i.refresh=function(){return this.emit(Lu),this},i.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?tc(this).on(Eu,this.destroy.bind(this,e)):(zs(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Gu),t.destroy(),e&&ms(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&ds(t.prototype,n),r&&ds(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ul=sl;ul.defaults={},ul.STATES=vs;var cl=[[Tu,"onMounted"],[Eu,"onReady"],[Su,"onMove"],[Cu,"onMoved"],[Nu,"onClick"],[Pu,"onActive"],[Ru,"onInactive"],[Du,"onVisible"],[Ou,"onHidden"],[Lu,"onRefresh"],[Fu,"onUpdated"],[ju,"onResize"],[Uu,"onResized"],[Vu,"onDrag"],[Bu,"onDragging"],[zu,"onDragged"],[qu,"onScroll"],[Wu,"onScrolled"],[Gu,"onDestroy"],[Ku,"onArrowsMounted"],[Hu,"onArrowsUpdated"],[Qu,"onPaginationMounted"],[Yu,"onPaginationUpdated"],[Xu,"onNavigationMounted"],[Ju,"onAutoplayPlay"],[Zu,"onAutoplayPlaying"],[$u,"onAutoplayPause"],[ec,"onLazyLoadLoaded"]];function ll(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function hl(e){return null!==e&&"object"===typeof e}function fl(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&!e.some((function(e,n){return!fl(e,t[n])}));if(hl(e)&&hl(t)){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&!n.some((function(n){return!Object.prototype.hasOwnProperty.call(t,n)||!fl(e[n],t[n])}))}return e===t}function dl(e,t){var n=e;return function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if("__proto__"!==i&&!1===t(e[i],i))break}}(t,(function(e,t){Array.isArray(e)?n[t]=e.slice():hl(e)?n[t]=dl(hl(n[t])?n[t]:{},e):n[t]=e})),n}var pl=function(e){var n=e.children,r=e.className,i=cs(e,ls);return t.createElement("div",us({className:ll("splide__track",r)},i),t.createElement("ul",{className:"splide__list"},n))},vl=function(e){$o(r,e);var n=as(r);function r(){var e;return Yo(this,r),(e=n.apply(this,arguments)).splideRef=t.createRef(),e.slides=[],e}return Jo(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.extensions,r=e.transition,i=this.splideRef.current;i&&(this.splide=new ul(i,t),this.bind(this.splide),this.splide.mount(n,r),this.options=dl({},t||{}),this.slides=this.getSlides())}},{key:"componentWillUnmount",value:function(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}},{key:"componentDidUpdate",value:function(){if(this.splide){var e=this.props.options;e&&!fl(this.options,e)&&(this.splide.options=e,this.options=dl({},e));var t,n,r=this.getSlides();t=this.slides,n=r,(t.length!==n.length||t.some((function(e,t){return e!==n[t]})))&&(this.splide.refresh(),this.slides=r)}}},{key:"sync",value:function(e){var t;null==(t=this.splide)||t.sync(e)}},{key:"go",value:function(e){var t;null==(t=this.splide)||t.go(e)}},{key:"getSlides",value:function(){var e;if(this.splide){var t=null==(e=this.splide.Components.Elements)?void 0:e.list.children;return t&&Array.prototype.slice.call(t)||[]}return[]}},{key:"bind",value:function(e){var t=this;cl.forEach((function(n){var r=Vo(n,2),i=r[0],a=r[1],o=t.props[a];"function"===typeof o&&e.on(i,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(void 0,[e].concat(n))}))}))}},{key:"omit",value:function(e,t){return t.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]})),e}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.tag,i=void 0===r?"div":r,a=e.hasTrack,o=void 0===a||a,s=e.children,u=cs(e,hs);return t.createElement(i,us({className:ll("splide",n),ref:this.splideRef},this.omit(u,["options"].concat(Qo(cl.map((function(e){return e[1]})))))),o?t.createElement(pl,null,s):s)}}]),r}(t.Component),ml=function(e){var n=e.children,r=e.className,i=cs(e,fs);return t.createElement("li",us({className:ll("splide__slide",r)},i),n)},yl=function(e){return(0,Oo.jsx)(vl,{hasTrack:e.hasTrack,"data-splide":e.dataSplide,children:e.children})},gl={slider:"ImageSlider_slider__LSHgM",slider__slide:"ImageSlider_slider__slide__tpini",slider__arrow:"ImageSlider_slider__arrow__d-kOy","slider__arrow--prev":"ImageSlider_slider__arrow--prev__lyv7o","slider__arrow--next":"ImageSlider_slider__arrow--next__G8MHU",slider__num:"ImageSlider_slider__num__V77qq"},_l=function(e){var r=Vo((0,t.useState)(e.currentImage),2),i=r[0],a=r[1],o=e.info.map((function(e){return(0,Oo.jsx)(ml,{className:gl.slider__slide,children:(0,Oo.jsx)("img",{src:n(990)("./".concat(e.imgPath)),alt:"slide ".concat(e.id)})},e.id)})),s=function(t){switch(t){case"prev":a(i-1<1?e.info.length:i-1);break;case"next":a(i+1>e.info.length?1:i+1);break;default:a(i)}};return(0,Oo.jsx)(Ko,{onClose:e.onClose,children:(0,Oo.jsx)("div",{className:gl.slider,children:(0,Oo.jsxs)(yl,{hasTrack:!1,dataSplide:'{"type":"loop", "pagination": false, "start": '.concat(e.currentImage-1,"}"),children:[(0,Oo.jsx)(pl,{children:o}),(0,Oo.jsxs)("div",{className:"splide__arrows",children:[(0,Oo.jsx)("button",{onClick:function(){s("prev")},className:"splide__arrow splide__arrow--prev ".concat(gl.slider__arrow," ").concat(gl["slider__arrow--prev"]),children:(0,Oo.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",width:"40",height:"40",focusable:"false",children:(0,Oo.jsx)("path",{d:"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z"})})}),(0,Oo.jsxs)("div",{className:gl.slider__num,children:[(0,Oo.jsx)("span",{className:gl["slider__num-cur"],children:i})," / ",(0,Oo.jsx)("span",{children:e.info.length})]}),(0,Oo.jsx)("button",{onClick:function(){s("next")},className:"splide__arrow splide__arrow--next ".concat(gl.slider__arrow," ").concat(gl["slider__arrow--next"]),children:(0,Oo.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",width:"40",height:"40",focusable:"false",children:(0,Oo.jsx)("path",{d:"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z"})})})]})]})})})},kl="Gallery_image__lQ6OQ",wl="Gallery_image-wrap__xFSlZ",bl="Gallery_image-inr__cBLWU",xl="Gallery_image-row__kch1u",Il="Gallery_image__btn__AulPr",Tl="Gallery_image__btn--down__XUSfP",El="Gallery_image__btn--top__UnfNY",Sl="Gallery_image__btn-wrap__i8ba5",Cl=[{id:1,imgPath:"dummy-1.jpg"},{id:2,imgPath:"dummy-2.jpg"},{id:3,imgPath:"dummy-3.jpg"},{id:4,imgPath:"dummy-1.jpg"},{id:5,imgPath:"dummy-2.jpg"},{id:6,imgPath:"dummy-3.jpg"},{id:7,imgPath:"dummy-1.jpg"},{id:8,imgPath:"dummy-2.jpg"},{id:9,imgPath:"dummy-3.jpg"},{id:10,imgPath:"dummy-1.jpg"}],Al=function(e){var r=Vo((0,t.useState)(!1),2),i=r[0],a=r[1],o=Vo((0,t.useState)(!1),2),s=o[0],u=o[1],c=Vo((0,t.useState)(null),2),l=c[0],h=c[1],f=Cl.filter((function(e){return e.id%2===1})).map((function(e){return(0,Oo.jsx)("button",{onClick:function(){p(e.id)},className:kl,children:(0,Oo.jsx)("img",{src:n(990)("./".concat(e.imgPath)),alt:"slide ".concat(e.id)})},e.id)})),d=Cl.filter((function(e){return e.id%2===0})).map((function(e){return(0,Oo.jsx)("button",{onClick:function(){p(e.id)},className:kl,children:(0,Oo.jsx)("img",{src:n(990)("./".concat(e.imgPath)),alt:"slide ".concat(e.id)})},e.id)})),p=function(e){h(e),u(!0)};return(0,Oo.jsxs)("section",{id:"gallery",children:[(0,Oo.jsx)("div",{"data-gsap":"opacity",className:"section-flower",children:"\ud83c\udf3b"}),(0,Oo.jsx)("div",{"data-gsap":"show-up",id:"image-wrap",className:wl,children:(0,Oo.jsxs)("div",{className:bl,children:[(0,Oo.jsx)("div",{className:xl,children:f}),(0,Oo.jsx)("div",{className:xl,children:d})]})}),(0,Oo.jsxs)("button",{onClick:function(){var e=document.querySelector("section#gallery #image-wrap"),t=document.querySelectorAll("section#gallery #image-wrap div div"),n=t[0].clientHeight>t[1].clientHeight?t[0].clientHeight:t[1].clientHeight;i?(a(!1),e.style.height="550px"):(a(!0),e.style.height="".concat(n,"px"))},className:Sl,children:[(0,Oo.jsxs)("svg",{className:"".concat(i?El:Tl," ").concat(Il),width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Oo.jsx)("path",{d:"M13.7893 0.393823C14.295 -0.131274 15.115 -0.131274 15.6207 0.393823C16.1264 0.91892 16.1264 1.77027 15.6207 2.29537L10.1264 8L15.6207 13.7046C16.1264 14.2297 16.1264 15.0811 15.6207 15.6062C15.115 16.1313 14.295 16.1313 13.7893 15.6062L7.3793 8.95077C6.87357 8.42567 6.87357 7.57432 7.3793 7.04923L13.7893 0.393823Z",fill:"#7c7f7f"}),(0,Oo.jsx)("path",{d:"M6.78928 0.393823C7.29501 -0.131274 8.11497 -0.131274 8.6207 0.393823C9.12643 0.91892 9.12643 1.77027 8.6207 2.29537L3.12643 8L8.6207 13.7046C9.12643 14.2297 9.12643 15.0811 8.6207 15.6062C8.11497 16.1313 7.29501 16.1313 6.78928 15.6062L0.3793 8.95077C-0.126432 8.42567 -0.126434 7.57432 0.3793 7.04923L6.78928 0.393823Z",fill:"#7c7f7f"})]}),(0,Oo.jsx)("div",{children:i?"\uc811\uae30":"\ub354 \ubcf4\uae30"})]}),s&&(0,Oo.jsx)(_l,{onClose:function(){u(!1)},info:Cl,currentImage:l})]})},Nl={date__day:"Calendar_date__day__wMqpW",date__time:"Calendar_date__time__RO7rt",calendar:"Calendar_calendar__8Ud7E",calendar__head:"Calendar_calendar__head__it2NI",calendar__item:"Calendar_calendar__item__utYf2","calendar__item-wrap":"Calendar_calendar__item-wrap__HI+Vb",count:"Calendar_count__Iwsv0",count__heart:"Calendar_count__heart__GqxJi"},Pl=function(e){var t="";return function(){var e=new Date,n=new Date(2022,11,12).getTime()-e.getTime(),r=Math.ceil(n/864e5);r>0?t="".concat(r,"\uc77c \ub0a8\uc558\uc2b5\ub2c8\ub2e4."):r<0?t="".concat(-r,"\uc77c \uc9c0\ub0ac\uc2b5\ub2c8\ub2e4."):0===r&&(t="\uc624\ub298\uc785\ub2c8\ub2e4.\ud83d\ude0d")}(),(0,Oo.jsxs)("section",{children:[(0,Oo.jsxs)("div",{"data-gsap":"show-up",children:[(0,Oo.jsxs)("div",{className:"".concat(Nl.date),children:[(0,Oo.jsx)("div",{className:"".concat(Nl.date__day),children:"12\uc6d4 12\uc77c"}),(0,Oo.jsx)("div",{className:"".concat(Nl.date__time),children:"\ud1a0\uc694\uc77c \uc624\ud6c4 12\uc2dc 00\ubd84"})]}),(0,Oo.jsxs)("div",{className:"".concat(Nl.calendar),children:[(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"SUN"}),(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"MON"}),(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"TUE"}),(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"WED"}),(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"THU"}),(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"FRI"}),(0,Oo.jsx)("div",{className:"".concat(Nl.calendar__head),children:"SAT"}),(0,Oo.jsx)("div",{}),(0,Oo.jsx)("div",{}),(0,Oo.jsx)("div",{}),(0,Oo.jsx)("div",{}),(0,Oo.jsx)("div",{children:"1"}),(0,Oo.jsx)("div",{children:"2"}),(0,Oo.jsx)("div",{children:"3"}),(0,Oo.jsx)("div",{children:"4"}),(0,Oo.jsx)("div",{children:"5"}),(0,Oo.jsx)("div",{children:"6"}),(0,Oo.jsx)("div",{children:"7"}),(0,Oo.jsx)("div",{children:"8"}),(0,Oo.jsx)("div",{children:"9"}),(0,Oo.jsx)("div",{children:"10"}),(0,Oo.jsx)("div",{children:"11"}),(0,Oo.jsx)("div",{className:"".concat(Nl["calendar__item-wrap"]),children:(0,Oo.jsx)("span",{className:"".concat(Nl.calendar__item),children:"12"})}),(0,Oo.jsx)("div",{children:"13"}),(0,Oo.jsx)("div",{children:"14"}),(0,Oo.jsx)("div",{children:"15"}),(0,Oo.jsx)("div",{children:"16"}),(0,Oo.jsx)("div",{children:"17"}),(0,Oo.jsx)("div",{children:"18"}),(0,Oo.jsx)("div",{children:"19"}),(0,Oo.jsx)("div",{children:"20"}),(0,Oo.jsx)("div",{children:"21"}),(0,Oo.jsx)("div",{children:"22"}),(0,Oo.jsx)("div",{children:"23"}),(0,Oo.jsx)("div",{children:"24"}),(0,Oo.jsx)("div",{children:"25"}),(0,Oo.jsx)("div",{children:"26"}),(0,Oo.jsx)("div",{children:"27"}),(0,Oo.jsx)("div",{children:"28"}),(0,Oo.jsx)("div",{children:"29"}),(0,Oo.jsx)("div",{children:"30"}),(0,Oo.jsx)("div",{children:"31"})]})]}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:"".concat(Nl.count),children:["\uc5ec\uc6c5 ",(0,Oo.jsx)("span",{className:"".concat(Nl.count__heart),children:"\u2665\ufe0e"})," \uc740\uc194\uc758 \uacb0\ud63c\uc2dd\uc774 ",t]})]})};function Rl(){Rl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var l={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=h.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==ns(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=d,s(y,"constructor",d),s(d,"constructor",f),f.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Dl(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ud){return void n(ud)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ol(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Dl(a,r,i,o,s,"next",e)}function s(e){Dl(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Ml(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jo(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ll(e,t,n){return Ll=ts()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Zo(i,n.prototype),i},Ll.apply(null,arguments)}function Fl(e){var t="function"===typeof Map?new Map:void 0;return Fl=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ll(e,arguments,es(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zo(n,e)},Fl(e)}var jl=!1,Ul=!1,Vl="${JSCORE_VERSION}",Bl=function(e,t){if(!e)throw zl(t)},zl=function(e){return new Error("Firebase Database ("+Vl+") INTERNAL ASSERT FAILED: "+e)},ql=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Wl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ql(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Gl=function(e){var t=ql(e);return Wl.encodeByteArray(t,!0)},Kl=function(e){return Gl(e).replace(/\./g,"")},Hl=function(e){try{return Wl.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ql(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ql(e[n],t[n]));return e}var Yl=function(){function e(){var t=this;Yo(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Jo(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Xl(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Kl(JSON.stringify({alg:"none",type:"JWT"})),Kl(JSON.stringify(a)),""].join(".")}function Jl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zl(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jl())}function $l(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function eh(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function th(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nh(){var e=Jl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rh(){return!0===jl||!0===Ul}function ih(){return"object"===typeof indexedDB}var ah=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(rs(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(rs(a),oh.prototype.create),a}return Jo(n)}(Fl(Error)),oh=function(){function e(t,n,r){Yo(this,e),this.service=t,this.serviceName=n,this.errors=r}return Jo(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?sh(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ah(n,a,t);return o}}]),e}();function sh(e,t){return e.replace(uh,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var uh=/\{\$([^}]+)}/g;function ch(e){return JSON.parse(e)}function lh(e){return JSON.stringify(e)}var hh=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=ch(Hl(a[0])||""),n=ch(Hl(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function fh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dh(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ph(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vh(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function mh(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(yh(s)&&yh(u)){if(!mh(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function yh(e){return null!==e&&"object"===typeof e}function gh(e){for(var t=[],n=function(){var e=Vo(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _h(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Vo(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function kh(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var wh=function(){function e(){Yo(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Jo(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function bh(e,t){var n=new xh(e,t);return n.subscribe.bind(n)}var xh=function(){function e(t,n){var r=this;Yo(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Jo(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ml(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ih),void 0===r.error&&(r.error=Ih),void 0===r.complete&&(r.complete=Ih);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ih(){}function Th(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Eh=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Sh(e){return e&&e._delegate?e._delegate:e}var Ch=function(){function e(t,n,r){Yo(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Jo(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ah="[DEFAULT]",Nh=function(){function e(t,n){Yo(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Jo(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Yl;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ah})}catch(u){}var t,n=Ml(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Vo(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ah;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Qo(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Qo(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ah;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ah;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ml(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Vo(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ml(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(PU){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ah?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(PU){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ah;return this.component?this.component.multipleInstances?e:Ah:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ph,Rh,Dh=function(){function e(t){Yo(this,e),this.name=t,this.providers=new Map}return Jo(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nh(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Oh=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Rh||(Rh={}));var Mh={debug:Rh.DEBUG,verbose:Rh.VERBOSE,info:Rh.INFO,warn:Rh.WARN,error:Rh.ERROR,silent:Rh.SILENT},Lh=Rh.INFO,Fh=(os(Ph={},Rh.DEBUG,"log"),os(Ph,Rh.VERBOSE,"log"),os(Ph,Rh.INFO,"info"),os(Ph,Rh.WARN,"warn"),os(Ph,Rh.ERROR,"error"),Ph),jh=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Fh[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Uh=function(){function e(t){Yo(this,e),this.name=t,this._logLevel=Lh,this._logHandler=jh,this._userLogHandler=null,Oh.push(this)}return Jo(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Rh))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mh[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rh.DEBUG].concat(t)),this._logHandler.apply(this,[this,Rh.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rh.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Rh.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rh.INFO].concat(t)),this._logHandler.apply(this,[this,Rh.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rh.WARN].concat(t)),this._logHandler.apply(this,[this,Rh.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rh.ERROR].concat(t)),this._logHandler.apply(this,[this,Rh.ERROR].concat(t))}}]),e}();var Vh,Bh;var zh=new WeakMap,qh=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Kh=new WeakMap;var Hh={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wh.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xh(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Qh(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bh||(Bh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jh(this),n),Xh(zh.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xh(e.apply(Jh(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Jh(this),t].concat(r));return Wh.set(a,t.sort?t.sort():[t]),Xh(a)}}function Yh(e){return"function"===typeof e?Qh(e):(e instanceof IDBTransaction&&function(e){if(!qh.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));qh.set(e,t)}}(e),t=e,(Vh||(Vh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Hh):e);var t}function Xh(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Xh(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&zh.set(t,e)})).catch((function(){})),Kh.set(t,e),t}(e);if(Gh.has(e))return Gh.get(e);var t=Yh(e);return t!==e&&(Gh.set(e,t),Kh.set(t,e)),t}var Jh=function(e){return Kh.get(e)};var Zh,$h,ef=["get","getKey","getAll","getAllKeys","count"],tf=["put","add","delete","clear"],nf=new Map;function rf(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(nf.get(t))return nf.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=tf.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ef.includes(n))){var a=function(){var e=Ol(Rl().mark((function e(t){var a,o,s,u,c,l,h=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return nf.set(t,a),a}}}Hh=function(e){return us(us({},e),{},{get:function(t,n,r){return rf(t,n)||e.get(t,n,r)},has:function(t,n){return!!rf(t,n)||e.has(t,n)}})}(Hh);var af=function(){function e(t){Yo(this,e),this.container=t}return Jo(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var of="@firebase/app",sf="0.7.25",uf=new Uh("@firebase/app"),cf="[DEFAULT]",lf=(os(Zh={},of,"fire-core"),os(Zh,"@firebase/app-compat","fire-core-compat"),os(Zh,"@firebase/analytics","fire-analytics"),os(Zh,"@firebase/analytics-compat","fire-analytics-compat"),os(Zh,"@firebase/app-check","fire-app-check"),os(Zh,"@firebase/app-check-compat","fire-app-check-compat"),os(Zh,"@firebase/auth","fire-auth"),os(Zh,"@firebase/auth-compat","fire-auth-compat"),os(Zh,"@firebase/database","fire-rtdb"),os(Zh,"@firebase/database-compat","fire-rtdb-compat"),os(Zh,"@firebase/functions","fire-fn"),os(Zh,"@firebase/functions-compat","fire-fn-compat"),os(Zh,"@firebase/installations","fire-iid"),os(Zh,"@firebase/installations-compat","fire-iid-compat"),os(Zh,"@firebase/messaging","fire-fcm"),os(Zh,"@firebase/messaging-compat","fire-fcm-compat"),os(Zh,"@firebase/performance","fire-perf"),os(Zh,"@firebase/performance-compat","fire-perf-compat"),os(Zh,"@firebase/remote-config","fire-rc"),os(Zh,"@firebase/remote-config-compat","fire-rc-compat"),os(Zh,"@firebase/storage","fire-gcs"),os(Zh,"@firebase/storage-compat","fire-gcs-compat"),os(Zh,"@firebase/firestore","fire-fst"),os(Zh,"@firebase/firestore-compat","fire-fst-compat"),os(Zh,"fire-js","fire-js"),os(Zh,"firebase","fire-js-all"),Zh),hf=new Map,ff=new Map;function df(e,t){try{e.container.addComponent(t)}catch(n){uf.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function pf(e,t){e.container.addOrOverwriteComponent(t)}function vf(e){var t=e.name;if(ff.has(t))return uf.debug("There were multiple attempts to register component ".concat(t,".")),!1;ff.set(t,e);var n,r=Ml(hf.values());try{for(r.s();!(n=r.n()).done;){df(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mf(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cf;mf(e,t).clearInstance(n)}function gf(){ff.clear()}var _f=(os($h={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),os($h,"bad-app-name","Illegal App name: '{$appName}"),os($h,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),os($h,"app-deleted","Firebase App named '{$appName}' already deleted"),os($h,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),os($h,"invalid-log-argument","First argument to `onLog` must be null or a function."),os($h,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),os($h,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),os($h,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),os($h,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),$h),kf=new oh("app","Firebase",_f),wf=function(){function e(t,n,r){var i=this;Yo(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ch("app",(function(){return i}),"PUBLIC"))}return Jo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw kf.create("app-deleted",{appName:this._name})}}]),e}(),bf="9.8.2";function xf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:cf,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kf.create("bad-app-name",{appName:String(i)});var a=hf.get(i);if(a){if(mh(e,a.options)&&mh(r,a.config))return a;throw kf.create("duplicate-app",{appName:i})}var o,s=new Dh(i),u=Ml(ff.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new wf(e,r,s);return hf.set(i,l),l}function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cf,t=hf.get(e);if(!t)throw kf.create("no-app",{appName:e});return t}function Tf(){return Array.from(hf.values())}function Ef(e){return Sf.apply(this,arguments)}function Sf(){return(Sf=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hf.has(n)){e.next=6;break}return hf.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t,n){var r,i=null!==(r=lf[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void uf.warn(s.join(" "))}vf(new Ch("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Af(e,t){if(null!==e&&"function"!==typeof e)throw kf.create("invalid-log-argument");!function(e,t){var n,r=Ml(Oh);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Mh[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Rh[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Nf(e){var t;t=e,Oh.forEach((function(e){e.setLogLevel(t)}))}var Pf="firebase-heartbeat-store",Rf=null;function Df(){return Rf||(Rf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Xh(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Xh(s.result),e.oldVersion,e.newVersion,Xh(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Pf)}}).catch((function(e){throw kf.create("storage-open",{originalErrorMessage:e.message})}))),Rf}function Of(e){return Mf.apply(this,arguments)}function Mf(){return Mf=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Df();case 3:return n=e.sent,e.abrupt("return",n.transaction(Pf).objectStore(Pf).get(jf(t)));case 7:throw e.prev=7,e.t0=e.catch(0),kf.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Mf.apply(this,arguments)}function Lf(e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Df();case 3:return r=e.sent,i=r.transaction(Pf,"readwrite"),a=i.objectStore(Pf),e.next=8,a.put(n,jf(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),kf.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ff.apply(this,arguments)}function jf(e){return"".concat(e.name,"!").concat(e.options.appId)}var Uf=function(){function e(t){var n=this;Yo(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new qf(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Jo(e,[{key:"triggerHeartbeat",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Vf(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Vf(),n=Bf(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Kl(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vf(){return(new Date).toISOString().substring(0,10)}function Bf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ml(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wf(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wf(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var zf,qf=function(){function e(t){Yo(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Jo(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ih()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ud){t(ud)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Of(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Qo(r.heartbeats),Qo(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wf(e){return Kl(JSON.stringify({version:2,heartbeats:e})).length}zf="",vf(new Ch("platform-logger",(function(e){return new af(e)}),"PRIVATE")),vf(new Ch("heartbeat",(function(e){return new Uf(e)}),"PRIVATE")),Cf(of,sf,zf),Cf(of,sf,"esm2017"),Cf("fire-js","");var Gf="@firebase/database",Kf="0.13.0",Hf="";var Qf=function(){function e(t){Yo(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Jo(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lh(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ch(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Yf=function(){function e(){Yo(this,e),this.cache_={},this.isInMemoryStorage=!0}return Jo(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return fh(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Xf=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qf(t)}}catch(n){}return new Yf},Jf=Xf("localStorage"),Zf=Xf("sessionStorage"),$f=new Uh("@firebase/database"),ed=function(){var e=1;return function(){return e++}}(),td=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Bl(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new wh;n.update(t);var r=n.digest();return Wl.encodeByteArray(r)},nd=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?lh(r):r,t+=" "}return t},rd=null,id=!0,ad=function(e,t){Bl(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?($f.logLevel=Rh.VERBOSE,rd=$f.log.bind($f),t&&Zf.set("logging_enabled",!0)):"function"===typeof e?rd=e:(rd=null,Zf.remove("logging_enabled"))},od=function(){if(!0===id&&(id=!1,null===rd&&!0===Zf.get("logging_enabled")&&ad(!0)),rd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=nd.apply(null,t);rd(r)}},sd=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];od.apply(void 0,[e].concat(n))}},ud=function(){var e="FIREBASE INTERNAL ERROR: "+nd.apply(void 0,arguments);$f.error(e)},cd=function(){var e="FIREBASE FATAL ERROR: ".concat(nd.apply(void 0,arguments));throw $f.error(e),new Error(e)},ld=function(){var e="FIREBASE WARNING: "+nd.apply(void 0,arguments);$f.warn(e)},hd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fd="[MIN_NAME]",dd="[MAX_NAME]",pd=function(e,t){if(e===t)return 0;if(e===fd||t===dd)return-1;if(t===fd||e===dd)return 1;var n=Id(e),r=Id(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},vd=function(e,t){return e===t?0:e<t?-1:1},md=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+lh(t))},yd=function e(t){if("object"!==typeof t||null===t)return lh(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=lh(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},gd=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function _d(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var kd=function(e){Bl(!hd(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var wd=new RegExp("^-?(0*)\\d{1,10}$"),bd=-2147483648,xd=2147483647,Id=function(e){if(wd.test(e)){var t=Number(e);if(t>=bd&&t<=xd)return t}return null},Td=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw ld("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ed=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Sd=function(){function e(t,n){var r=this;Yo(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Jo(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){ld('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Cd=function(){function e(t,n,r){var i=this;Yo(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Jo(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(od("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ld(e)}}]),e}(),Ad=function(){function e(t){Yo(this,e),this.accessToken=t}return Jo(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Ad.OWNER="owner";var Nd="5",Pd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rd="websocket",Dd="long_polling",Od=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Yo(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jf.get("host:"+t)||this._host}return Jo(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jf.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Md(e,t,n){var r;if(Bl("string"===typeof t,"typeof type must == string"),Bl("object"===typeof n,"typeof params must == object"),t===Rd)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Dd)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return _d(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Ld=function(){function e(){Yo(this,e),this.counters_={}}return Jo(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;fh(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ql(void 0,this.counters_)}}]),e}(),Fd={},jd={};function Ud(e){var t=e.toString();return Fd[t]||(Fd[t]=new Ld),Fd[t]}var Vd=function(){function e(t){Yo(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Jo(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Td((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Bd="start",zd="close",qd=function(){function e(t,n,r,i,a,o,s){var u=this;Yo(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sd(t),this.stats_=Ud(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),Md(n,Dd,e)}}return Jo(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Vd(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(rh()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Wd((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Bd)n.id=a,n.password=o;else{if(i!==zd)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Nd,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Pd.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=lh(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Gl(t),r=gd(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!rh()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=lh(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!rh()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Wd=function(){function e(t,n,r,i){if(Yo(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,rh())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ed(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){od("frame writing exception"),s.stack&&od(s.stack),od(s)}}}return Jo(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;rh()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){od("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||od("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Gd=null;"undefined"!==typeof MozWebSocket?Gd=MozWebSocket:"undefined"!==typeof WebSocket&&(Gd=WebSocket);var Kd=function(){function e(t,n,r,i,a,o,s){Yo(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sd(this.connId),this.stats_=Ud(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Jo(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jf.set("previous_websocket_failure",!0);try{if(rh()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(Nd,"/").concat(Hf,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/yes-wedding",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAO_APPKEY:"3dc1d032c1b57d7534b09b562373275d",REACT_APP_FIREBASE_APIKEY:"AIzaSyCmdbkjtH47HqFKrnnCg0nmuSch9bmoXp0",REACT_APP_FIREBASE_AUTHDOMAIN:"yes-wedding-29451.firebaseapp.com",REACT_APP_FIREBASE_DATABASEURL:"https://yes-wedding-29451-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECTID:"yes-wedding-29451",REACT_APP_FIREBASE_STORAGEBUCKET:"yes-wedding-29451.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"1010300792442",REACT_APP_FIREBASE_APPID:"1:1010300792442:web:d6858688466e8b838955c3"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o})}this.mySock=new Gd(this.connURL,[],undefined)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Jf.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ch(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Bl(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=lh(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=gd(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Nd,!rh()&&"undefined"!==typeof location&&location.hostname&&Pd.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),Md(e,Rd,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Gd&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Jf.isInMemoryStorage||!0===Jf.get("previous_websocket_failure")}}]),e}();Kd.responsesRequiredToBeHealthy=2,Kd.healthyTimeout=3e4;var Hd=function(){function e(t){Yo(this,e),this.initTransports_(t)}return Jo(e,[{key:"initTransports_",value:function(t){var n=Kd&&Kd.isAvailable(),r=n&&!Kd.previouslyFailed();if(t.webSocketOnly&&(n||ld("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Kd];else{var i,a=this.transports_=[],o=Ml(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[qd,Kd]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Hd.globalTransportInitialized_=!1;var Qd=function(){function e(t,n,r,i,a,o,s,u,c,l){Yo(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sd("c:"+this.id+":"),this.transportManager_=new Hd(n),this.log_("Connection created"),this.start_()}return Jo(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ed((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=md("t",e),n=md("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=md("t",e),n=md("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=md("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ud("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ud("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Nd!==n&&ld("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ed((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ed((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Yd=function(){function e(){Yo(this,e)}return Jo(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Xd=function(){function e(t){Yo(this,e),this.allowedEvents_=t,this.listeners_={},Bl(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Jo(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Qo(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Bl(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Jd=function(e){$o(n,e);var t=as(n);function n(){var e;return Yo(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Zl()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Jo(n,[{key:"getInitialEvent",value:function(e){return Bl("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Xd),Zd=function(){function e(t,n){if(Yo(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Jo(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function $d(){return new Zd("")}function ep(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function tp(e){return e.pieces_.length-e.pieceNum_}function np(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Zd(e.pieces_,t)}function rp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ip(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ap(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Zd(t,0)}function op(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Zd)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Zd(n,0)}function sp(e){return e.pieceNum_>=e.pieces_.length}function up(e,t){var n=ep(e),r=ep(t);if(null===n)return t;if(n===r)return up(np(e),np(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cp(e,t){if(tp(e)!==tp(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function lp(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(tp(e)>tp(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var hp=Jo((function e(t,n){Yo(this,e),this.errorPrefix_=n,this.parts_=ip(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Eh(this.parts_[r]);fp(this)}));function fp(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+dp(e))}function dp(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var pp=function(e){$o(n,e);var t=as(n);function n(){var e,r,i;return Yo(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Jo(n,[{key:"getInitialEvent",value:function(e){return Bl("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Xd),vp=1e3,mp=function(e){$o(n,e);var t=as(n);function n(e,r,i,a,o,s,u,c){var l;if(Yo(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=sd("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=vp,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!rh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return pp.getInstance().on("visible",l.onVisible_,rs(l)),-1===e.host.indexOf("fblocal")&&Jd.getInstance().on("online",l.onOnline_,rs(l)),l}return Jo(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(lh(i)),Bl(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Yl,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Bl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Bl(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=hh(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=hh(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Bl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+lh(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ud("Unrecognized action received from server: "+lh(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Bl(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vp),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Ol(Rl().mark((function e(){var t,r,i,a,o,s,u,c,l,h,f,d,p,v,m=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){Bl(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:f=e.sent,d=Vo(f,2),p=d[0],v=d[1],s?od("getToken() completed but was canceled"):(od("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new Qd(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){ld(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&ld(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){od("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){od("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ph(this.interruptReasons_)&&(this.reconnectDelay_=vp,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return yd(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Zd(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){od("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){od("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Ml(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Ml(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";rh()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Hf.replace(/\./g,"-")]=1,Zl()?e["framework.cordova"]=1:th()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Jd.getInstance().currentlyOnline();return ph(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&fh(e,"w")){var n=dh(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();ld("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Yd);mp.nextPersistentConnectionId_=0,mp.nextConnectionId_=0;var yp,gp=function(){function e(t,n){Yo(this,e),this.name=t,this.node=n}return Jo(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),_p=function(){function e(){Yo(this,e)}return Jo(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new gp(fd,e),r=new gp(fd,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return gp.MIN}}]),e}(),kp=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"compare",value:function(e,t){return pd(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw zl("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return gp.MIN}},{key:"maxPost",value:function(){return new gp(dd,yp)}},{key:"makePost",value:function(e,t){return Bl("string"===typeof e,"KeyIndex indexValue must always be a string."),new gp(e,yp)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return yp},set:function(e){yp=e}}]),n}(_p),wp=new kp,bp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Yo(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Jo(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),xp=function(){function e(t,n,r,i,a){Yo(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ep.EMPTY_NODE,this.right=null!=a?a:Ep.EMPTY_NODE}return Jo(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Ep.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ep.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();xp.RED=!0,xp.BLACK=!1;var Ip,Tp=function(){function e(){Yo(this,e)}return Jo(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new xp(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Ep=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Yo(this,e),this.comparator_=t,this.root_=n}return Jo(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xp.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new bp(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new bp(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new bp(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new bp(this.root_,null,this.comparator_,!0,e)}}]),e}();function Sp(e,t){return pd(e.name,t.name)}function Cp(e,t){return pd(e,t)}Ep.EMPTY_NODE=new Tp;var Ap,Np,Pp,Rp=function(e){return"number"===typeof e?"number:"+kd(e):"string:"+e},Dp=function(e){if(e.isLeafNode()){var t=e.val();Bl("string"===typeof t||"number"===typeof t||"object"===typeof t&&fh(t,".sv"),"Priority must be a string or number.")}else Bl(e===Ip||e.isEmpty(),"priority of unexpected type.");Bl(e===Ip||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Op=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Yo(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Bl(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Dp(this.priorityNode_)}return Jo(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return sp(t)?this:".priority"===ep(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=ep(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Bl(".priority"!==r||1===tp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(np(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rp(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?kd(this.value_):this.value_,this.lazyHash_=td(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Bl(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Bl(i>=0,"Unknown leaf type: "+n),Bl(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Ap},set:function(e){Ap=e}}]),e}();Op.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Mp,Lp,Fp=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?pd(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return gp.MIN}},{key:"maxPost",value:function(){return new gp(dd,new Op("[PRIORITY-POST]",Pp))}},{key:"makePost",value:function(e,t){var n=Np(e);return new gp(t,new Op("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(_p),jp=new Fp,Up=Math.log(2),Vp=function(){function e(t){Yo(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Up,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Jo(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Bp=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new xp(o,a.node,xp.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new xp(o,a.node,xp.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new xp(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,xp.BLACK):(s(h,xp.BLACK),s(h,xp.RED))}return a}(new Vp(e.length));return new Ep(r||t,a)},zp={},qp=function(){function e(t,n){Yo(this,e),this.indexes_=t,this.indexSet_=n}return Jo(e,[{key:"get",value:function(e){var t=dh(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ep?t:null}},{key:"hasIndex",value:function(e){return fh(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Bl(t!==wp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(gp.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Bp(i,t.getCompare()):zp;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(vh(this.indexes_,(function(e,i){var a=dh(r.indexSet_,i);if(Bl(a,"Missing index implementation for "+i),e===zp){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(gp.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Bp(o,a.getCompare())}return zp}var c=n.get(t.name),l=e;return c&&(l=l.remove(new gp(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(vh(this.indexes_,(function(e){if(e===zp)return e;var r=n.get(t.name);return r?e.remove(new gp(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Bl(zp&&jp,"ChildrenNode.ts has not been loaded"),Mp=Mp||new e({".priority":zp},{".priority":jp})}}]),e}(),Wp=function(){function e(t,n,r){Yo(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Dp(this.priorityNode_),this.children_.isEmpty()&&Bl(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Jo(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Lp}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Lp:t}},{key:"getChild",value:function(e){var t=ep(e);return null===t?this:this.getImmediateChild(t).getChild(np(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Bl(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new gp(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Lp:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=ep(e);if(null===n)return t;Bl(".priority"!==ep(e)||1===tp(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(np(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(jp,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Rp(this.getPriority().val())+":"),this.forEachChild(jp,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":td(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new gp(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new gp(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new gp(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,gp.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,gp.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gp?-1:0}},{key:"withIndex",value:function(t){if(t===wp||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===wp||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(jp),r=t.getIterator(jp),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===wp?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Lp||(Lp=new e(new Ep(Cp),null,qp.Default))}}]),e}();Wp.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Gp=new(function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.call(this,new Ep(Cp),Wp.EMPTY_NODE,qp.Default)}return Jo(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Wp.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Wp));Object.defineProperties(gp,{MIN:{value:new gp(fd,Wp.EMPTY_NODE)},MAX:{value:new gp(dd,Gp)}}),kp.__EMPTY_NODE=Wp.EMPTY_NODE,Op.__childrenNodeConstructor=Wp,Ip=Gp,function(e){Pp=e}(Gp);function Kp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Wp.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Bl(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Op(n,Kp(t))}if(e instanceof Array){var r=Wp.EMPTY_NODE;return _d(e,(function(t,n){if(fh(e,t)&&"."!==t.substring(0,1)){var i=Kp(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Kp(t))}var i=[],a=!1,o=e;if(_d(o,(function(e,t){if("."!==e.substring(0,1)){var n=Kp(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new gp(e,n)))}})),0===i.length)return Wp.EMPTY_NODE;var s=Bp(i,Sp,(function(e){return e.name}),Cp);if(a){var u=Bp(i,jp.getCompare());return new Wp(s,Kp(t),new qp({".priority":u},{".priority":jp}))}return new Wp(s,Kp(t),qp.Default)}!function(e){Np=e}(Kp);var Hp=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).indexPath_=e,Bl(!sp(e)&&".priority"!==ep(e),"Can't create PathIndex with empty path or .priority key"),r}return Jo(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?pd(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Kp(e),r=Wp.EMPTY_NODE.updateChild(this.indexPath_,n);return new gp(t,r)}},{key:"maxPost",value:function(){var e=Wp.EMPTY_NODE.updateChild(this.indexPath_,Gp);return new gp(dd,e)}},{key:"toString",value:function(){return ip(this.indexPath_,0).join("/")}}]),n}(_p),Qp=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?pd(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return gp.MIN}},{key:"maxPost",value:function(){return gp.MAX}},{key:"makePost",value:function(e,t){var n=Kp(e);return new gp(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(_p),Yp=new Qp,Xp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jp=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Xp.charAt(n%64),n=Math.floor(n/64);Bl(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Xp.charAt(t[r]);return Bl(20===o.length,"nextPushId: Length should be 20."),o}}();function Zp(e){return{type:"value",snapshotNode:e}}function $p(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ev(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var nv=function(){function e(t){Yo(this,e),this.index_=t}return Jo(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Bl(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ev(t,o)):Bl(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange($p(t,n)):a.trackChildChange(tv(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(jp,(function(e,r){t.hasChild(e)||n.trackChildChange(ev(e,r))})),t.isLeafNode()||t.forEachChild(jp,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(tv(t,r,i))}else n.trackChildChange($p(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Wp.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),rv=function(){function e(t){Yo(this,e),this.indexedFilter_=new nv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Jo(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new gp(t,n))||(n=Wp.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Wp.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Wp.EMPTY_NODE);var i=this;return t.forEachChild(jp,(function(e,t){i.matches(new gp(e,t))||(r=r.updateImmediateChild(e,Wp.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),iv=function(){function e(t){Yo(this,e),this.rangedFilter_=new rv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Jo(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new gp(t,n))||(n=Wp.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Wp.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Wp.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(Wp.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var f=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&f<this.limit_&&c(p,u)<=0?f++:r=r.updateImmediateChild(p.name,Wp.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Bl(s.numChildren()===this.limit_,"");var u=new gp(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(tv(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(ev(t,h));var p=s.updateImmediateChild(t,Wp.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange($p(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(ev(c.name,c.node)),i.trackChildChange($p(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Wp.EMPTY_NODE)):e}}]),e}(),av=function(){function e(){Yo(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jp}return Jo(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Bl(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Bl(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fd}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Bl(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Bl(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dd}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Bl(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===jp}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function ov(e){var t,n={};return e.isDefault()||(e.index_===jp?t="$priority":e.index_===Yp?t="$value":e.index_===wp?t="$key":(Bl(e.index_ instanceof Hp,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=lh(t),e.startSet_&&(n.startAt=lh(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+lh(e.indexStartName_))),e.endSet_&&(n.endAt=lh(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+lh(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function sv(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==jp&&(t.i=e.index_.toString()),t}var uv=function(e){$o(n,e);var t=as(n);function n(e,r,i,a){var o;return Yo(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=sd("p:rest:"),o.listens_={},o}return Jo(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=ov(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),dh(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=ov(e._queryParams),r=e._path.toString(),i=new Yl;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Vo(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+gh(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=ch(c.responseText)}catch(n){ld("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&ld("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Bl(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Yd),cv=function(){function e(){Yo(this,e),this.rootNode_=Wp.EMPTY_NODE}return Jo(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function lv(){return{value:null,children:new Map}}function hv(e,t,n){if(sp(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ep(t);e.children.has(r)||e.children.set(r,lv()),hv(e.children.get(r),t=np(t),n)}}function fv(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){fv(r,new Zd(t.toString()+"/"+e),n)}))}var dv,pv=function(){function e(t){Yo(this,e),this.collection_=t,this.last_=null}return Jo(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_d(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),vv=function(){function e(t,n){Yo(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new pv(t);var r=1e4+2e4*Math.random();Ed(this.reportStats_.bind(this),Math.floor(r))}return Jo(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;_d(t,(function(t,i){i>0&&fh(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Ed(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function mv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(dv||(dv={}));var yv,gv=function(){function e(t,n,r){Yo(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=dv.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Jo(e,[{key:"operationForChild",value:function(t){if(sp(this.path)){if(null!=this.affectedTree.value)return Bl(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Zd(t));return new e($d(),n,this.revert)}return Bl(ep(this.path)===t,"operationForChild called for unrelated child."),new e(np(this.path),this.affectedTree,this.revert)}}]),e}(),_v=function(){function e(t,n,r){Yo(this,e),this.source=t,this.path=n,this.snap=r,this.type=dv.OVERWRITE}return Jo(e,[{key:"operationForChild",value:function(t){return sp(this.path)?new e(this.source,$d(),this.snap.getImmediateChild(t)):new e(this.source,np(this.path),this.snap)}}]),e}(),kv=function(){function e(t,n,r){Yo(this,e),this.source=t,this.path=n,this.children=r,this.type=dv.MERGE}return Jo(e,[{key:"operationForChild",value:function(t){if(sp(this.path)){var n=this.children.subtree(new Zd(t));return n.isEmpty()?null:n.value?new _v(this.source,$d(),n.value):new e(this.source,$d(),n)}return Bl(ep(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,np(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),wv=function(){function e(t,n,r){Yo(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Jo(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(sp(e))return this.isFullyInitialized()&&!this.filtered_;var t=ep(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),bv=Jo((function e(t){Yo(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function xv(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw zl("Should only compare child_ events.");var r=new gp(t.childName,t.snapshotNode),i=new gp(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Iv(e,t){return{eventCache:e,serverCache:t}}function Tv(e,t,n,r){return Iv(new wv(t,n,r),e.serverCache)}function Ev(e,t,n,r){return Iv(e.eventCache,new wv(t,n,r))}function Sv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cv(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Av=function(){return yv||(yv=new Ep(vd)),yv},Nv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Av();Yo(this,e),this.value=t,this.children=n}return Jo(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:$d(),value:this.value};if(sp(e))return null;var n=ep(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(np(e),t);return null!=i?{path:op(new Zd(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(sp(t))return this;var n=ep(t),r=this.children.get(n);return null!==r?r.subtree(np(t)):new e(null)}},{key:"set",value:function(t,n){if(sp(t))return new e(n,this.children);var r=ep(t),i=(this.children.get(r)||new e(null)).set(np(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(sp(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ep(t),r=this.children.get(n);if(r){var i,a=r.remove(np(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(sp(e))return this.value;var t=ep(e),n=this.children.get(t);return n?n.get(np(e)):null}},{key:"setTree",value:function(t,n){if(sp(t))return n;var r,i=ep(t),a=(this.children.get(i)||new e(null)).setTree(np(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_($d(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(op(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,$d(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(sp(e))return null;var i=ep(e),a=this.children.get(i);return a?a.findOnPath_(np(e),op(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,$d(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(sp(t))return this;this.value&&r(n,this.value);var i=ep(t),a=this.children.get(i);return a?a.foreachOnPath_(np(t),op(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_($d(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(op(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return _d(t,(function(e,t){n=n.set(new Zd(e),t)})),n}}]),e}(),Pv=function(){function e(t){Yo(this,e),this.writeTree_=t}return Jo(e,null,[{key:"empty",value:function(){return new e(new Nv(null))}}]),e}();function Rv(e,t,n){if(sp(t))return new Pv(new Nv(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=up(i,t);return a=a.updateChild(o,n),new Pv(e.writeTree_.set(i,a))}var s=new Nv(n),u=e.writeTree_.setTree(t,s);return new Pv(u)}function Dv(e,t,n){var r=e;return _d(n,(function(e,n){r=Rv(r,op(t,e),n)})),r}function Ov(e,t){if(sp(t))return Pv.empty();var n=e.writeTree_.setTree(t,new Nv(null));return new Pv(n)}function Mv(e,t){return null!=Lv(e,t)}function Lv(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(up(n.path,t)):null}function Fv(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(jp,(function(e,n){t.push(new gp(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new gp(e,n.value))})),t}function jv(e,t){if(sp(t))return e;var n=Lv(e,t);return new Pv(null!=n?new Nv(n):e.writeTree_.subtree(t))}function Uv(e){return e.writeTree_.isEmpty()}function Vv(e,t){return Bv($d(),e.writeTree_,t)}function Bv(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Bl(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Bv(op(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(op(e,".priority"),r)),n}function zv(e,t){return nm(t,e)}function qv(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Wv(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Bl(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Gv(s,r.path)?i=!1:lp(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Hv(e.allWrites,Kv,$d()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Ov(e.visibleWrites,r.path):_d(r.children,(function(t){e.visibleWrites=Ov(e.visibleWrites,op(r.path,t))}));return!0}return!1}function Gv(e,t){if(e.snap)return lp(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&lp(op(e.path,n),t))return!0;return!1}function Kv(e){return e.visible}function Hv(e,t,n){for(var r=Pv.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)lp(n,o)?r=Rv(r,s=up(n,o),a.snap):lp(o,n)&&(s=up(o,n),r=Rv(r,$d(),a.snap.getChild(s)));else{if(!a.children)throw zl("WriteRecord should have .snap or .children");if(lp(n,o))r=Dv(r,s=up(n,o),a.children);else if(lp(o,n))if(sp(s=up(o,n)))r=Dv(r,$d(),a.children);else{var u=dh(a.children,ep(s));if(u){var c=u.getChild(np(s));r=Rv(r,$d(),c)}}}}}return r}function Qv(e,t,n,r,i){if(r||i){var a=jv(e.visibleWrites,t);if(!i&&Uv(a))return n;if(i||null!=n||Mv(a,$d())){return Vv(Hv(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(lp(e.path,t)||lp(t,e.path))}),t),n||Wp.EMPTY_NODE)}return null}var o=Lv(e.visibleWrites,t);if(null!=o)return o;var s=jv(e.visibleWrites,t);return Uv(s)?n:null!=n||Mv(s,$d())?Vv(s,n||Wp.EMPTY_NODE):null}function Yv(e,t,n,r){return Qv(e.writeTree,e.treePath,t,n,r)}function Xv(e,t){return function(e,t,n){var r=Wp.EMPTY_NODE,i=Lv(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(jp,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=jv(e.visibleWrites,t);return n.forEachChild(jp,(function(e,t){var n=Vv(jv(a,new Zd(e)),t);r=r.updateImmediateChild(e,n)})),Fv(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Fv(jv(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Jv(e,t,n,r){return function(e,t,n,r,i){Bl(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=op(t,n);if(Mv(e.visibleWrites,a))return null;var o=jv(e.visibleWrites,a);return Uv(o)?i.getChild(n):Vv(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Zv(e,t){return function(e,t){return Lv(e.visibleWrites,t)}(e.writeTree,op(e.treePath,t))}function $v(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=jv(e.visibleWrites,t),c=Lv(u,$d());if(null!=c)s=c;else{if(null==n)return[];s=Vv(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function em(e,t,n){return function(e,t,n,r){var i=op(t,n),a=Lv(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Vv(jv(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function tm(e,t){return nm(op(e.treePath,t),e.writeTree)}function nm(e,t){return{treePath:e,writeTree:t}}var rm=function(){function e(){Yo(this,e),this.changeMap=new Map}return Jo(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Bl("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Bl(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,tv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ev(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,$p(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw zl("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,tv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),im=new(function(){function e(){Yo(this,e)}return Jo(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),am=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Yo(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Jo(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new wv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return em(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cv(this.viewCache_),i=$v(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function om(e,t,n,r,i){var a,o,s=new rm;if(n.type===dv.OVERWRITE){var u=n;u.source.fromUser?a=cm(e,t,u.path,u.snap,r,i,s):(Bl(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!sp(u.path),a=um(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===dv.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=op(n,r);lm(t,ep(c))&&(s=cm(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=op(n,r);lm(t,ep(c))||(s=cm(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Bl(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=fm(e,t,c.path,c.children,r,i,o,s))}else if(n.type===dv.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Zv(r,n))return t;var s,u=new am(r,t,i),c=t.eventCache.getNode();if(sp(n)||".priority"===ep(n)){var l;if(t.serverCache.isFullyInitialized())l=Yv(r,Cv(t));else{var h=t.serverCache.getNode();Bl(h instanceof Wp,"serverChildren would be complete if leaf node"),l=Xv(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=ep(n),d=em(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,np(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Wp.EMPTY_NODE,np(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Yv(r,Cv(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Zv(r,$d()),Tv(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Zv(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(sp(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return um(e,t,n,u.getNode().getChild(n),i,a,s,o);if(sp(n)){var c=new Nv(null);return u.getNode().forEachChild(wp,(function(e,t){c=c.set(new Zd(e),t)})),fm(e,t,n,c,i,a,s,o)}return t}var l=new Nv(null);return r.foreach((function(e,t){var r=op(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),fm(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==dv.LISTEN_COMPLETE)throw zl("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Ev(t,a.getNode(),a.isFullyInitialized()||sp(n),a.isFiltered());return sm(e,o,n,r,im,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Sv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Zp(Sv(t)))}}(t,a,h),{viewCache:a,changes:h}}function sm(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Zv(r,n))return t;if(sp(n))if(Bl(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Cv(t),l=Xv(r,c instanceof Wp?c:Wp.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=Yv(r,Cv(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=ep(n);if(".priority"===f){Bl(1===tp(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Jv(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=np(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=Jv(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=em(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return Tv(t,o,u.isFullyInitialized()||sp(n),e.filter.filtersNodes())}function um(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(sp(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ep(n);if(!c.isCompleteForPath(n)&&tp(n)>1)return t;var d=np(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,im,null)}var v=Ev(t,u,c.isFullyInitialized()||sp(n),l.filtersNodes());return sm(e,v,n,i,new am(i,v,a),s)}function cm(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new am(i,t,a);if(sp(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Tv(t,u,!0,e.filter.filtersNodes());else{var h=ep(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Tv(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=np(n),p=c.getNode().getImmediateChild(h);if(sp(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===rp(d)&&v.getChild(ap(d)).isEmpty()?v:v.updateChild(d,r):Wp.EMPTY_NODE}if(p.equals(f))s=t;else s=Tv(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function lm(e,t){return e.eventCache.isCompleteForChild(t)}function hm(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function fm(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=sp(n)?r:new Nv(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=hm(0,t.serverCache.getNode().getImmediateChild(n),r);c=um(e,c,new Zd(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=hm(0,t.serverCache.getNode().getImmediateChild(n),r);c=um(e,c,new Zd(n),h,i,a,o,s)}})),c}var dm,pm=function(){function e(t,n){Yo(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new nv(i.getIndex()),o=(r=i).loadsAllData()?new nv(r.getIndex()):r.hasLimit()?new iv(r):new rv(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Wp.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Wp.EMPTY_NODE,u.getNode(),null),h=new wv(c,s.isFullyInitialized(),a.filtersNodes()),f=new wv(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Iv(f,h),this.eventGenerator_=new bv(this.query_)}return Jo(e,[{key:"query",get:function(){return this.query_}}]),e}();function vm(e,t){var n=Cv(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!sp(t)&&!n.getImmediateChild(ep(t)).isEmpty())?n.getChild(t):null}function mm(e,t,n,r){t.type===dv.MERGE&&null!==t.source.queryId&&(Bl(Cv(e.viewCache_),"We should always have a full cache before handling merges"),Bl(Sv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=om(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Bl(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Bl(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Bl(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ym(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ym(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),xv(e,i,"child_removed",t,r,n),xv(e,i,"child_added",t,r,n),xv(e,i,"child_moved",a,r,n),xv(e,i,"child_changed",t,r,n),xv(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var gm,_m=Jo((function e(){Yo(this,e),this.views=new Map}));function km(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Bl(null!=a,"SyncTree gave us an op for an invalid query."),mm(a,t,n,r)}var o,s=[],u=Ml(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(mm(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function wm(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Yv(n,i?r:null),u=!1;s?u=!0:r instanceof Wp?(s=Xv(n,r),u=!1):(s=Wp.EMPTY_NODE,u=!1);var c=Iv(new wv(s,u,!1),new wv(r,i,!1));return new pm(t,c)}return o}function bm(e,t){var n,r=null,i=Ml(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||vm(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var xm=Jo((function e(t){Yo(this,e),this.listenProvider_=t,this.syncPointTree_=new Nv(null),this.pendingWriteTree_={visibleWrites:Pv.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Im(e,t,n,r,i){return function(e,t,n,r,i){Bl(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Rv(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Am(e,new _v({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Tm(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=qv(e.pendingWriteTree_,t),i=Wv(e.pendingWriteTree_,t);if(i){var a=new Nv(null);return null!=r.snap?a=a.set($d(),!0):_d(r.children,(function(e){a=a.set(new Zd(e),!0)})),Am(e,new gv(r.path,a,n))}return[]}function Em(e,t,n){return Am(e,new _v({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Sm(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=bm(n,up(e,t));if(r)return r}));return Qv(r,t,i,n,!0)}function Cm(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=up(e,n);r=r||bm(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||bm(i,$d()):(i=new _m,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new wv(r,!0,!1):null;return function(e){return Sv(e.viewCache_)}(wm(i,t,zv(e.pendingWriteTree_,t._path),a?o.getNode():Wp.EMPTY_NODE,a))}function Am(e,t){return Nm(t,e.syncPointTree_,null,zv(e.pendingWriteTree_,$d()))}function Nm(e,t,n,r){if(sp(e.path))return Pm(e,t,n,r);var i=t.get($d());null==n&&null!=i&&(n=bm(i,$d()));var a=[],o=ep(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=tm(r,o);a=a.concat(Nm(s,u,c,l))}return i&&(a=a.concat(km(i,e,r,n))),a}function Pm(e,t,n,r){var i=t.get($d());null==n&&null!=i&&(n=bm(i,$d()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=tm(r,t),u=e.operationForChild(t);u&&(a=a.concat(Pm(u,i,o,s)))})),i&&(a=a.concat(km(i,e,r,n))),a}function Rm(e,t){return e.tagToQueryMap.get(t)}function Dm(e){var t=e.indexOf("$");return Bl(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Zd(e.substr(0,t))}}function Om(e,t,n){var r=e.syncPointTree_.get(t);return Bl(r,"Missing sync point for query tag that we're tracking"),km(r,n,zv(e.pendingWriteTree_,t),null)}var Mm=function(){function e(t){Yo(this,e),this.node_=t}return Jo(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Lm=function(){function e(t,n){Yo(this,e),this.syncTree_=t,this.path_=n}return Jo(e,[{key:"getImmediateChild",value:function(t){var n=op(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Sm(this.syncTree_,this.path_)}}]),e}(),Fm=function(e,t,n){return e&&"object"===typeof e?(Bl(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?jm(e[".sv"],t,n):"object"===typeof e[".sv"]?Um(e[".sv"],t):void Bl(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},jm=function(e,t,n){if("timestamp"===e)return n.timestamp;Bl(!1,"Unexpected server value: "+e)},Um=function(e,t,n){e.hasOwnProperty("increment")||Bl(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Bl(!1,"Unexpected increment value: "+r);var i=t.node();if(Bl(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Vm=function(e,t,n,r){return zm(t,new Lm(n,e),r)},Bm=function(e,t,n){return zm(e,new Mm(t),n)};function zm(e,t,n){var r,i=e.getPriority().val(),a=Fm(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Fm(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Op(s,Kp(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Op(a))),u.forEachChild(jp,(function(e,i){var a=zm(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var qm=Jo((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Yo(this,e),this.name=t,this.parent=n,this.node=r}));function Wm(e,t){for(var n=t instanceof Zd?t:new Zd(t),r=e,i=ep(n);null!==i;){var a=dh(r.node.children,i)||{children:{},childCount:0};r=new qm(i,r,a),i=ep(n=np(n))}return r}function Gm(e){return e.node.value}function Km(e,t){e.node.value=t,Jm(e)}function Hm(e){return e.node.childCount>0}function Qm(e,t){_d(e.node.children,(function(n,r){t(new qm(n,e,r))}))}function Ym(e,t,n,r){n&&!r&&t(e),Qm(e,(function(e){Ym(e,t,!0,r)})),n&&r&&t(e)}function Xm(e){return new Zd(null===e.parent?e.name:Xm(e.parent)+"/"+e.name)}function Jm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Gm(e)&&!Hm(e)}(n),i=fh(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Jm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Jm(e))}(e.parent,e.name,e)}var Zm=/[\[\].#$\/\u0000-\u001F\u007F]/,$m=/[\[\].#$\u0000-\u001F\u007F]/,ey=10485760,ty=function(e){return"string"===typeof e&&0!==e.length&&!Zm.test(e)},ny=function(e){return"string"===typeof e&&0!==e.length&&!$m.test(e)},ry=function(e,t,n,r){r&&void 0===t||iy(Th(e,"value"),t,n)},iy=function e(t,n,r){var i=r instanceof Zd?new hp(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+dp(i));if("function"===typeof n)throw new Error(t+"contains a function "+dp(i)+" with contents = "+n.toString());if(hd(n))throw new Error(t+"contains "+n.toString()+" "+dp(i));if("string"===typeof n&&n.length>ey/3&&Eh(n)>ey)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+dp(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(_d(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ty(n)))throw new Error(t+" contains an invalid key ("+n+") "+dp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Eh(t),fp(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Eh(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+dp(i)+" in addition to actual children.")}},ay=function(e,t,n,r){if((!r||void 0!==n)&&!ny(n))throw new Error(Th(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oy=function(e,t){if(".info"===ep(t))throw new Error(e+" failed = Can't modify data under /.info/")},sy=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ty(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ny(e)}(n))throw new Error(Th(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},uy=Jo((function e(){Yo(this,e),this.eventLists_=[],this.recursionDepth_=0}));function cy(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||cp(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function ly(e,t,n){cy(e,n),fy(e,(function(e){return cp(e,t)}))}function hy(e,t,n){cy(e,n),fy(e,(function(e){return lp(e,t)||lp(t,e)}))}function fy(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(dy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function dy(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();rd&&od("event: "+n.toString()),Td(r)}}}var py="repo_interrupt",vy=function(){function e(t,n,r,i){Yo(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lv(),this.transactionQueueTree_=new qm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Jo(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function my(e,t,n){if(e.stats_=Ud(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new uv(e.repoInfo_,(function(t,n,r,i){_y(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ky(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lh(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new mp(e.repoInfo_,t,(function(t,n,r,i){_y(e,t,n,r,i)}),(function(t){ky(e,t)}),(function(t){!function(e,t){_d(t,(function(t,n){wy(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return jd[n]||(jd[n]=t()),jd[n]}(e.repoInfo_,(function(){return new vv(e.stats_,e.server_)})),e.infoData_=new cv,e.infoSyncTree_=new xm({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Em(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),wy(e,"connected",!1),e.serverSyncTree_=new xm({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);hy(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function yy(e){var t=e.infoData_.getNode(new Zd(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gy(e){return(t=(t={timestamp:yy(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function _y(e,t,n,r,i){e.dataUpdateCount++;var a=new Zd(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=vh(n,(function(e){return Kp(e)}));o=function(e,t,n,r){var i=Rm(e,r);if(i){var a=Dm(i),o=a.path,s=a.queryId,u=up(o,t),c=Nv.fromObject(n);return Om(e,o,new kv(mv(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Kp(n);o=function(e,t,n,r){var i=Rm(e,r);if(null!=i){var a=Dm(i),o=a.path,s=a.queryId,u=up(o,t);return Om(e,o,new _v(mv(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=vh(n,(function(e){return Kp(e)}));o=function(e,t,n){var r=Nv.fromObject(n);return Am(e,new kv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Kp(n);o=Em(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=Ny(e,a)),hy(e.eventQueue_,h,o)}function ky(e,t){wy(e,"connected",t),!1===t&&function(e){Ty(e,"onDisconnectEvents");var t=gy(e),n=lv();fv(e.onDisconnect_,$d(),(function(r,i){var a=Vm(r,i,e.serverSyncTree_,t);hv(n,r,a)}));var r=[];fv(n,$d(),(function(t,n){r=r.concat(Em(e.serverSyncTree_,t,n));var i=My(e,t);Ny(e,i)})),e.onDisconnect_=lv(),hy(e.eventQueue_,$d(),r)}(e)}function wy(e,t,n){var r=new Zd("/.info/"+t),i=Kp(n);e.infoData_.updateSnapshot(r,i);var a=Em(e.infoSyncTree_,r,i);hy(e.eventQueue_,r,a)}function by(e){return e.nextWriteId_++}function xy(e,t,n,r,i){Ty(e,"set",{path:t.toString(),value:n,priority:r});var a=gy(e),o=Kp(n,r),s=Sm(e.serverSyncTree_,t),u=Bm(o,s,a),c=by(e),l=Im(e.serverSyncTree_,t,u,c,!0);cy(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||ld("set at "+t+" failed: "+n);var o=Tm(e.serverSyncTree_,c,!a);hy(e.eventQueue_,t,o),Ey(e,i,n,r)}));var h=My(e,t);Ny(e,h),hy(e.eventQueue_,h,[])}function Iy(e){e.persistentConnection_&&e.persistentConnection_.interrupt(py)}function Ty(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];od.apply(void 0,[t].concat(r))}function Ey(e,t,n,r){t&&Td((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Sy(e,t,n){return Sm(e.serverSyncTree_,t,n)||Wp.EMPTY_NODE}function Cy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Oy(e,t),Gm(t)){var n=Ry(e,t);Bl(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Ay(e,Xm(t),n)}else Hm(t)&&Qm(t,(function(t){Cy(e,t)}))}function Ay(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Sy(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Bl(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=up(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){Ty(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Tm(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Oy(e,Wm(e.transactionQueueTree_,t)),Cy(e,e.transactionQueueTree_),hy(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Td(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{ld("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Ny(e,t)}}),o)}function Ny(e,t){var n=Py(e,t),r=Xm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=up(n,u.path),l=!1,h=void 0;if(Bl(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(Tm(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(Tm(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Sy(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){iy("transaction failed: Data returned ",d,u.path);var p=Kp(d);"object"===typeof d&&null!=d&&fh(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=gy(e),y=Bm(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=by(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Im(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Tm(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(Tm(e.serverSyncTree_,u.currentWriteId,!0))}hy(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);Oy(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Td(r[c]);Cy(e,e.transactionQueueTree_)}(e,Ry(e,n),r),r}function Py(e,t){var n,r=e.transactionQueueTree_;for(n=ep(t);null!==n&&void 0===Gm(r);)r=Wm(r,n),n=ep(t=np(t));return r}function Ry(e,t){var n=[];return Dy(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Dy(e,t,n){var r=Gm(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Qm(t,(function(t){Dy(e,t,n)}))}function Oy(e,t){var n=Gm(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Km(t,n.length>0?n:void 0)}Qm(t,(function(t){Oy(e,t)}))}function My(e,t){var n=Xm(Py(e,t)),r=Wm(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ly(e,t)})),Ly(e,r),Ym(r,(function(t){Ly(e,t)})),n}function Ly(e,t){var n=Gm(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Bl(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Bl(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tm(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Km(t,void 0):n.length=a+1,hy(e.eventQueue_,Xm(t),i);for(var s=0;s<r.length;s++)Td(r[s])}}var Fy=function(e,t){var n=jy(e),r=n.namespace;"firebase.com"===n.domain&&cd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||cd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ld("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Od(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Zd(n.pathString)}},jy=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Ml(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ld("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Uy=function(){function e(t,n,r,i){Yo(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Jo(e,[{key:"key",get:function(){return sp(this._path)?null:rp(this._path)}},{key:"ref",get:function(){return new Vy(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=sv(this._queryParams),t=yd(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return sv(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Sh(t))instanceof e))return!1;var n=this._repo===t._repo,r=cp(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Vy=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,r,new av,!1)}return Jo(n,[{key:"parent",get:function(){var e=ap(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Uy),By=function(){function e(t,n,r){Yo(this,e),this._node=t,this.ref=n,this._index=r}return Jo(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Zd(t),r=qy(this.ref,t);return new e(this._node.getChild(n),r,jp)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,qy(n.ref,r),jp))}))}},{key:"hasChild",value:function(e){var t=new Zd(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function zy(e,t){return(e=Sh(e))._checkNotDeleted("ref"),void 0!==t?qy(e._root,t):e._root}function qy(e,t){var n,r,i,a;return null===ep((e=Sh(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ay(n,r,i,a)):ay("child","path",t,!1),new Vy(e._repo,op(e._path,t))}function Wy(e,t){e=Sh(e),oy("set",e._path),ry("set",t,e._path,!1);var n=new Yl;return xy(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Gy(e){return function(e,t){var n=Cm(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Kp(n).withIndex(t._queryParams.getIndex()),i=Em(e.serverSyncTree_,t._path,r);return ly(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ty(e,"get for query "+lh(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Sh(e))._repo,e).then((function(t){return new By(t,new Vy(e._repo,e._path),e._queryParams.getIndex())}))}!function(e){Bl(!dm,"__referenceConstructor has already been defined"),dm=e}(Vy),function(e){Bl(!gm,"__referenceConstructor has already been defined"),gm=e}(Vy);var Ky={},Hy=!1;function Qy(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||cd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),od("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Fy(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/yes-wedding",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAO_APPKEY:"3dc1d032c1b57d7534b09b562373275d",REACT_APP_FIREBASE_APIKEY:"AIzaSyCmdbkjtH47HqFKrnnCg0nmuSch9bmoXp0",REACT_APP_FIREBASE_AUTHDOMAIN:"yes-wedding-29451.firebaseapp.com",REACT_APP_FIREBASE_DATABASEURL:"https://yes-wedding-29451-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECTID:"yes-wedding-29451",REACT_APP_FIREBASE_STORAGEBUCKET:"yes-wedding-29451.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"1010300792442",REACT_APP_FIREBASE_APPID:"1:1010300792442:web:d6858688466e8b838955c3"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Fy(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Ad(Ad.OWNER):new Cd(e.name,e.options,t);sy("Invalid Firebase Database URL",s),sp(s.path)||cd("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ky[t.name];i||(i={},Ky[t.name]=i);var a=i[e.toURLString()];a&&cd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new vy(e,Hy,n,r),i[e.toURLString()]=a,a}(u,e,l,new Sd(e.name,n));return new Yy(h,e)}var Yy=function(){function e(t,n){Yo(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Jo(e,[{key:"_repo",get:function(){return this._instanceStarted||(my(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Vy(this._repo,$d())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Ky[t];n&&n[e.key]===e||cd("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Iy(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&cd("Cannot call "+e+" on a deleted database.")}}]),e}();function Xy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:If(),t=arguments.length>1?arguments[1]:void 0;return mf(e,"database").getImmediate({identifier:t})}mp.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},mp.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Hf=e}(bf),vf(new Ch("database",(function(e,t){var n=t.instanceIdentifier;return Qy(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Cf(Gf,Kf,e),Cf(Gf,Kf,"esm2017")}();var Jy,Zy="GuestCard_card__o6u+X",$y="GuestCard_card__cont__P2tmn",eg="GuestCard_card__cont--message__Wpd34",tg="GuestCard_card__cont--time__IjNy6",ng=function(e){var r=e.guestList.map((function(e){return(0,Oo.jsxs)(ml,{className:Zy,children:[(0,Oo.jsx)("img",{src:n(981),alt:"paper card"}),(0,Oo.jsxs)("div",{className:$y,children:[(0,Oo.jsx)("div",{children:e.name}),(0,Oo.jsx)("div",{className:eg,children:e.message}),(0,Oo.jsx)("div",{className:tg,children:e.time})]})]},e.id)}));return(0,Oo.jsx)(t.Fragment,{children:(0,Oo.jsx)(yl,{dataSplide:'{ "type":"loop", "perPage":2, "perMove":2, "padding":"20px", "gap":"10px", "width":"100%", "pagination": false, "arrows": false }',children:r})})},rg="SetGuest_cont__info__76M0Z",ig="SetGuest_cont__name__uNVb7",ag="SetGuest_cont__password__0ayzZ",og="SetGuest_cont__message__nQtvv",sg="SetGuest_cont__btn__m0JK1",ug=function(e){var n=(0,t.useRef)(""),r=(0,t.useRef)(""),i=(0,t.useRef)(""),a=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),i=e.getMinutes();return"".concat(t,"\uc6d4 ").concat(n,"\uc77c ").concat(r,":").concat(i<10?"0".concat(i):i)};return a(),(0,Oo.jsxs)("form",{onSubmit:function(t){t.preventDefault();var o={name:n.current.value,password:r.current.value,message:i.current.value,time:a()};""!==o.name?""!==o.password?""!==o.message?(e.onSetGuest(o),n.current.value="",r.current.value="",i.current.value=""):alert("\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude22"):alert("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude4f"):alert("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude25")},children:[(0,Oo.jsxs)("div",{className:rg,children:[(0,Oo.jsx)("label",{htmlFor:"name"}),(0,Oo.jsx)("input",{type:"text",id:"name",placeholder:"\uc774\ub984",ref:n,className:ig}),(0,Oo.jsx)("label",{htmlFor:"password"}),(0,Oo.jsx)("input",{type:"text",id:"password",placeholder:"\ube44\ubc00\ubc88\ud638",ref:r,className:ag})]}),(0,Oo.jsx)("label",{htmlFor:"message"}),(0,Oo.jsx)("textarea",{type:"text",id:"message",placeholder:"\uba54\uc2dc\uc9c0",ref:i,className:og}),(0,Oo.jsx)("button",{className:sg,children:"\ubc29\uba85\ub85d \uc791\uc131"})]})},cg="GuestForm_cont-wrap__ZtOSV",lg=function(e){return(0,Oo.jsx)(Ko,{onClose:e.onHideForm,children:(0,Oo.jsx)("div",{className:cg,children:(0,Oo.jsx)(ug,{onSetGuest:e.onSetGuest})})})},hg="EnterPassword_form__athi8",fg="EnterPassword_form__password__CMVEA",dg="EnterPassword_form__btn__ihM8y",pg="EnterPassword_set-guest__wf6NK",vg=function(e){var n=Vo((0,t.useState)(!1),2),r=n[0],i=n[1],a=(0,t.useRef)(""),o=e.currentGuest,s=Xy(),u=function(){!function(e){oy("remove",e._path),Wy(e,null)}(zy(s,"guest/"+o.id)),e.onFetchGuestHandler(),alert("\uc0ad\uc81c \uc131\uacf5\ud83e\udd1f"),e.onSetPassModal()},c=(0,Oo.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o.password===a.current.value?"update"===e.type?i(!0):"delete"===e.type&&u():(alert("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub9bd\ub2c8\ub2e4\ud83e\udd72"),a.current.value="")},className:hg,children:[(0,Oo.jsx)("label",{htmlFor:"password"}),(0,Oo.jsx)("input",{type:"text",id:"password",placeholder:"\ube44\ubc00\ubc88\ud638",ref:a,className:fg}),(0,Oo.jsx)("button",{className:dg,children:"\ud655\uc778"})]});return(0,Oo.jsx)(Ko,{onClose:e.onSetPassModal,children:r?(0,Oo.jsx)("div",{className:pg,children:(0,Oo.jsx)(ug,{onSetGuest:function(t){Wy(zy(s,"guest/"+o.id),t),e.onFetchGuestHandler(),e.onSetPassModal()}})}):c})},mg="GuestList_list__name__h+3IB",yg="GuestList_list__message__LlFSO",gg="GuestList_list__time__XbIy4",_g="GuestList_list-wrap__dwOP1",kg="GuestList_btn__5Xj0u",wg="GuestList_btn-wrap__DEUC+",bg=function(e){var r=Vo((0,t.useState)({openState:!1,type:null}),2),i=r[0],a=r[1],o=Vo((0,t.useState)({}),2),s=o[0],u=o[1],c=e.guestList.map((function(e){return(0,Oo.jsxs)("div",{className:_g,children:[(0,Oo.jsx)("div",{className:mg,children:e.name}),(0,Oo.jsx)("div",{className:yg,children:e.message}),(0,Oo.jsx)("div",{className:gg,children:e.time}),(0,Oo.jsxs)("div",{className:wg,children:[(0,Oo.jsx)("button",{onClick:function(){l(!0,"update"),u(e)},className:kg,children:(0,Oo.jsx)("img",{src:n(804),alt:"paper card"})}),(0,Oo.jsx)("button",{onClick:function(){l(!0,"delete"),u(e)},className:kg,children:(0,Oo.jsx)("svg",{width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29289 2.29289C7.48043 2.10536 7.73478 2 8 2H12C12.2652 2 12.5196 2.10536 12.7071 2.29289C12.8946 2.48043 13 2.73478 13 3V4L7 4V3C7 2.73478 7.10536 2.48043 7.29289 2.29289ZM15 3V4L19 4C19.5523 4 20 4.44772 20 5C20 5.55229 19.5523 6 19 6H18V19C18 19.7956 17.6839 20.5587 17.1213 21.1213C16.5587 21.6839 15.7957 22 15 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7956 2 19L2 6H1C0.447715 6 0 5.55228 0 5C0 4.44772 0.447715 4 1 4H5V3C5 2.20435 5.31607 1.44129 5.87868 0.87868C6.44129 0.31607 7.20435 0 8 0H12C12.7956 0 13.5587 0.316071 14.1213 0.87868C14.6839 1.44129 15 2.20435 15 3ZM9 10C9 9.44771 8.55228 9 8 9C7.44771 9 7 9.44771 7 10V16C7 16.5523 7.44771 17 8 17C8.55228 17 9 16.5523 9 16V10ZM12 9C11.4477 9 11 9.44771 11 10V16C11 16.5523 11.4477 17 12 17C12.5523 17 13 16.5523 13 16V10C13 9.44771 12.5523 9 12 9Z",fill:"#222"})})})]})]},e.id)})),l=function(e,t){a({openState:e,type:t})};return(0,Oo.jsx)(Ko,{onClose:e.onHideList,children:i.openState?(0,Oo.jsx)(vg,{onSetPassModal:function(){l(!1,null)},onFetchGuestHandler:e.onFetchGuestHandler,type:i.type,currentGuest:s}):c})},xg={btn:"Guest_btn__Pk7jO"},Ig=function(e){var n=Vo((0,t.useState)([]),2),r=n[0],i=n[1],a=Vo((0,t.useState)(null),2),o=a[0],s=a[1],u=Vo((0,t.useState)(!1),2),c=u[0],l=u[1],h=Vo((0,t.useState)(!1),2),f=h[0],d=h[1],p=Xy(),v=(0,t.useCallback)((function(){s(null),Gy(qy(zy(p),"guest/")).then((function(e){if(e.exists()){var t=e.val(),n=[];for(var r in t)n.push({id:r,name:t[r].name,password:t[r].password,message:t[r].message,time:t[r].time});i(n)}else s("No data available")})).catch((function(e){s(e.message)}))}),[p]);(0,t.useEffect)((function(){v()}),[v]);return(0,Oo.jsxs)("section",{id:"guest",children:[(0,Oo.jsx)("div",{"data-gsap":"opacity",className:"section-flower",children:"\ud83c\udf37"}),(0,Oo.jsx)("h2",{"data-gsap":"show-up",children:"\ubc29\uba85\ub85d"}),(0,Oo.jsx)("div",{"data-gsap":"show-up",className:xg.cards,children:o?(0,Oo.jsx)("p",{children:o}):(0,Oo.jsx)(ng,{guestList:r})}),(0,Oo.jsxs)("div",{className:xg.btn,children:[(0,Oo.jsx)("button",{onClick:function(){l(!0)},children:"\uc804\uccb4\ubcf4\uae30"}),(0,Oo.jsx)("button",{onClick:function(){d(!0)},children:"\ubc29\uba85\ub85d \uc791\uc131"})]}),c&&(0,Oo.jsx)(bg,{onHideList:function(){l(!1)},guestList:r,onFetchGuestHandler:v}),f&&(0,Oo.jsx)(lg,{onHideForm:function(){d(!1)},onSetGuest:function(e){Wy(function(e,t){e=Sh(e),oy("push",e._path),ry("push",t,e._path,!0);var n,r=yy(e._repo),i=Jp(r),a=qy(e,i),o=qy(e,i);return n=null!=t?Wy(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(zy(p,"guest")),e),v(),d(!1)}})]})},Tg="Map_place__g-ONj",Eg="Map_cont__zixBW",Sg="Map_btn__6Vi9c",Cg="Map_btn-wrap__o6n-Q",Ag="Map_info__zQGoT",Ng="Map_info__tit__LeJoy",Pg="Map_info__cont__B4VPU",Rg=window.kakao,Dg=function(e){return(0,t.useEffect)((function(){var e=document.getElementById("map-cont"),t=new Rg.maps.LatLng(33.450701,126.570667),n={center:t,level:3},r=new Rg.maps.Marker({position:t}),i=new Rg.maps.Map(e,n);r.setMap(i)}),[]),(0,Oo.jsxs)("section",{id:"map",children:[(0,Oo.jsx)("div",{"data-gsap":"opacity",className:"section-flower",children:"\ud83c\udf3a"}),(0,Oo.jsx)("h2",{"data-gsap":"show-up",children:"\uc624\uc2dc\ub294 \uae38"}),(0,Oo.jsxs)("h3",{"data-gsap":"show-up",className:Tg,children:["\uc0c1\ub85d\uc544\ud2b8\ud640 L\uce35 \uadf8\ub79c\ub4dc\ubcfc\ub8f8\ud640",(0,Oo.jsx)("br",{}),"\uc11c\uc6b8 \uac15\ub0a8\uad6c \uc5b8\uc8fc\ub85c 508"]}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",children:[(0,Oo.jsx)("div",{id:"map-cont",className:Eg}),(0,Oo.jsxs)("div",{className:Cg,children:[(0,Oo.jsxs)("a",{href:"//map.kakao.com/link/map/18577297",className:Sg,children:[(0,Oo.jsx)("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.45026 0C4.27749 0 0 3.4 0 7.7C0 10.4 1.79058 12.8 4.37696 14.2L3.48168 17.6C3.48168 17.7 3.48168 17.8 3.58115 17.9C3.58115 17.9 3.68063 18 3.7801 18C3.87958 18 3.87958 18 3.97906 18L7.85864 15.3C8.4555 15.4 8.95288 15.4 9.54974 15.4C14.7225 15.4 19 11.9 19 7.7C18.9005 3.4 14.7225 0 9.45026 0Z",fill:"#fae100"})}),(0,Oo.jsx)("span",{children:"\uce74\uce74\uc624 \uc9c0\ub3c4"})]}),(0,Oo.jsxs)("a",{href:"http://naver.me/5Z0vUHi3",className:Sg,children:[(0,Oo.jsx)("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{d:"M11.9 0V8.6L6.2 0H0V17H6.1V8.4L11.8 17H18V0H11.9Z",fill:"#5ECC69"})}),(0,Oo.jsx)("span",{children:"\ub124\uc774\ubc84 \uc9c0\ub3c4"})]})]})]}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:Ag,children:[(0,Oo.jsx)("div",{className:Ng,children:"\uc790\uac00\uc6a9"}),(0,Oo.jsxs)("p",{className:Pg,children:["\u2022 \ub124\ube44\uac8c\uc774\uc158 \uc774\uc6a9\uc2dc : \u201c\uc11c\uc6b8\uc0c1\ub85d\ud68c\uad00\u201d \ub610\ub294 \u201c\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \uc5b8\uc8fc\ub85c 508\u201d \uc785\ub825",(0,Oo.jsx)("br",{}),"\u2022 \uacbd\ubd80\uace0\uc18d\ub3c4\ub85c : \uc591\uc7acIC \uc9c4\uc785\ud558\uc2dc\uc5b4 \uc591\uc7ac\ub300\ub85c\uc5d0\uc11c \ub9e4\ubd09\ud130\ub110, \uac15\ub0a8 \uc138\ube0c\ub780\uc2a4 \ubcd1\uc6d0 \ubc29\uba74\uc73c\ub85c \uc9c4\uc785\ud558\uc5ec \uc9c1\uc9c4",(0,Oo.jsx)("br",{}),"\u2714\ufe0f\uc8fc\ucc28\uc7a5 : \uc0c1\ub85d\uc544\ud2b8\ud640 \uc9c0\uc0c1/\uc9c0\ud558 \uc8fc\ucc28\uc7a5 \uc774\uc6a9(1\uc2dc\uac04 30\ubd84 \ubb34\ub8cc)",(0,Oo.jsx)("br",{})]}),(0,Oo.jsx)("div",{className:Ng,children:"\uc9c0\ud558\ucca0"}),(0,Oo.jsxs)("p",{className:Pg,children:["2\ud638\uc120/\ubd84\ub2f9\uc120 \u201c\uc120\ub989\uc5ed\u201d 5\ubc88\ucd9c\uad6c \ub3c4\ubcf45\ubd84",(0,Oo.jsx)("br",{}),"\u2714\ufe0f\uc154\ud2c0\ubc84\uc2a4 \uc218\uc2dc\uc6b4\ud589 : \uc120\ub989\uc5ed 5\ubc88\ucd9c\uad6c",(0,Oo.jsx)("br",{})]}),(0,Oo.jsx)("div",{className:Ng,children:"\ubc84\uc2a4"}),(0,Oo.jsxs)("p",{className:Pg,children:["(KT\uac15\ub0a8\uc9c0\uc0ac \ud558\ucc28) \uac04\uc120 141, \uc9c0\uc120 3422",(0,Oo.jsx)("br",{}),"(\uc11c\uc6b8\uc0c1\ub85d\ud68c\uad00, \ud55c\uad6d\uae30\uc220\uc13c\ud130 \ud558\ucc28)",(0,Oo.jsx)("br",{}),"\uac04\uc120 146, 360, 740",(0,Oo.jsx)("br",{})]})]})]})},Og=n(29),Mg="Account_account__WEioe",Lg="Account_account__num__tqT91",Fg="Account_account__btn__Tb-dX",jg="Account_account__btn-wrap__PaeWG",Ug="Account_account__inr__lNYnk",Vg=function(e){var t=e.account,r=(0,Oo.jsx)("a",{href:t.kakao,className:Fg,children:(0,Oo.jsx)("img",{src:n(322),alt:"kakaopay"})}),i=(0,Oo.jsxs)("div",{className:Mg,children:[(0,Oo.jsxs)("div",{className:Lg,children:[(0,Oo.jsx)("div",{children:t["account-num"]}),(0,Oo.jsxs)("div",{className:Ug,children:[(0,Oo.jsxs)("div",{children:[t["account-bank"],"\uc740\ud589\xa0/\xa0"]}),(0,Oo.jsx)("div",{children:t["account-name"]})]})]}),(0,Oo.jsxs)("div",{className:jg,children:[(0,Oo.jsx)(Og.CopyToClipboard,{className:Fg,text:"".concat(t["account-bank"]," ").concat(t["account-num"]," ").concat(t["account-name"]),children:(0,Oo.jsx)("button",{onClick:function(){alert("\ubcf5\uc0ac \uc644\ub8cc!!")},children:"\ubcf5\uc0ac\ud558\uae30"})}),t.kakao&&r]})]});return(0,Oo.jsx)(Ko,{onClose:e.onClose,children:i})},Bg="ContactItem_contact__name__JpUD-",zg="ContactItem_contact__btn__8TV8M",qg="ContactItem_contact__btn-wrap__9Qb++",Wg=function(e){var n=e.contactItem,r=Vo((0,t.useState)(!1),2),i=r[0],a=r[1];return(0,Oo.jsxs)("div",{children:[(0,Oo.jsx)("div",{className:"".concat(Bg),children:n.name}),(0,Oo.jsxs)("div",{className:"".concat(qg),children:[(0,Oo.jsx)("a",{href:"tel:".concat(n.telephone),className:"".concat(zg),children:(0,Oo.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{d:"M17.206 13.372L14.2221 11.2742C13.128 10.4751 12.3323 10.9745 11.835 11.474C11.4372 11.7737 10.9398 12.5728 10.3431 12.1732C9.05004 11.3741 7.45864 9.77581 6.46401 8.5771C5.96669 8.07764 5.17099 7.27849 5.6683 6.77903C6.26508 6.07978 7.45864 5.28063 6.86186 4.18181C6.7624 3.78224 5.17099 1.48471 4.57421 0.685563C3.18173 -1.01262 0.894082 0.785456 0.297304 2.38374C-0.995715 6.37946 2.1871 10.2753 4.8726 13.0723C7.85649 15.9692 13.2275 20.2646 17.0071 16.5685C17.6039 15.8693 18.7974 14.4708 17.206 13.372Z",fill:"#7c7f7f"})})}),(0,Oo.jsx)("a",{href:"sms:".concat(n.telephone),className:"".concat(zg),children:(0,Oo.jsx)("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4974 0.3L10.5527 7.5C10.2512 7.8 9.8492 7.8 9.54769 7.5L0.602989 0.3C0.803994 0.1 1.206 0 1.50751 0H18.5929C18.8944 0 19.2964 0.1 19.4974 0.3ZM20 12.8L14.3719 6.40005L20 1.80005V12.5V12.8ZM0 1.80005V12.5V12.8L5.62813 6.40005L0 1.80005ZM10.0502 9.30005C10.6532 9.30005 11.1558 9.10005 11.5578 8.70005L13.1658 7.30005L18.9949 13.9C18.8944 14 18.7939 14 18.5929 14H1.50753H1.00502L6.83415 7.40005L8.54269 8.70005C8.9447 9.10005 9.54772 9.30005 10.0502 9.30005Z",fill:"#7c7f7f"})})}),(0,Oo.jsx)("button",{onClick:function(){a(!0)},className:"".concat(zg),children:(0,Oo.jsx)("svg",{width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{d:"M1.03248 8.06051C-0.34416 6.68772 -0.34416 4.4618 1.03248 3.08901L3.09873 1.0296C4.47537 -0.343199 6.70864 -0.343199 8.08528 1.0296L10 2.93827L11.9147 1.0296C13.2914 -0.343199 15.5246 -0.343199 16.9013 1.0296L18.9675 3.08901C20.3442 4.4618 20.3442 6.68772 18.9675 8.06051L14.5862 12.4279L14.5595 12.4548L10 17L5.44048 12.4548L5.41379 12.4279L1.03248 8.06051Z",fill:"#7c7f7f"})})}),i&&(0,Oo.jsx)(Vg,{onClose:function(){a(!1)},account:n})]})]})},Gg="Contact_contact__self__t0QIu",Kg="Contact_contact__parent__QW2f2",Hg="Contact_contact__parent-wrap__m91YM",Qg="Contact_parent__xWnKO",Yg="Contact_parent__cat__RV2EI",Xg=function(e){var t={groom:{self:{name:"\uc2e0\ub791 \uc724\uc5ec\uc6c5",telephone:"010-1234-5678","account-num":"1234567890123","account-bank":"\ub18d\ud611","account-name":"\uc720\ub2e4\uc194",kakao:"http://kko.to/T7HuzTh80"},father:{name:"\uc544\ubc84\uc9c0 \uc724\uc5ec\uc6c5",telephone:"010-1234-5678","account-num":"1234567890123","account-bank":"\ub18d\ud611","account-name":"\uc720\ub2e4\uc194"},mother:{name:"\uc5b4\uba38\ub2c8 \uc724\uc5ec\uc6c5",telephone:"010-1234-5678","account-num":"1234567890123","account-bank":"\ub18d\ud611","account-name":"\uc720\ub2e4\uc194"}},bride:{self:{name:"\uc2e0\ubd80 \uc720\uc740\uc194",telephone:"010-1234-5678","account-num":"1234567890123","account-bank":"\ub18d\ud611","account-name":"\uc720\ub2e4\uc194",kakao:"http://kko.to/T7HuzTh80"},father:{name:"\uc544\ubc84\uc9c0 \uc720\uc740\uc194",telephone:"010-1234-5678","account-num":"1234567890123","account-bank":"\ub18d\ud611","account-name":"\uc720\ub2e4\uc194"},mother:{name:"\uc5b4\uba38\ub2c8 \uc720\uc740\uc194",telephone:"010-1234-5678","account-num":"1234567890123","account-bank":"\ub18d\ud611","account-name":"\uc720\ub2e4\uc194"}}};return(0,Oo.jsxs)("section",{id:"contact",children:[(0,Oo.jsx)("div",{"data-gsap":"opacity",className:"section-flower",children:"\ud83c\udf39"}),(0,Oo.jsx)("h2",{"data-gsap":"show-up",children:"\ub9c8\uc74c \uc804\ud558\uae30"}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:"".concat(Gg),children:[(0,Oo.jsx)(Wg,{contactItem:t.groom.self}),(0,Oo.jsx)(Wg,{contactItem:t.bride.self})]}),(0,Oo.jsx)("h2",{"data-gsap":"show-up",className:"".concat(Kg),children:"\ud63c\uc8fc\uc5d0\uac8c \uc804\ud558\uae30"}),(0,Oo.jsxs)("div",{"data-gsap":"show-up",className:"".concat(Hg),children:[(0,Oo.jsxs)("div",{className:"".concat(Qg),children:[(0,Oo.jsx)("span",{className:"".concat(Yg),children:"\uc2e0\ub791\uce21 \ud63c\uc8fc"}),(0,Oo.jsx)(Wg,{contactItem:t.groom.father}),(0,Oo.jsx)(Wg,{contactItem:t.groom.mother})]}),(0,Oo.jsxs)("div",{className:"".concat(Qg),children:[(0,Oo.jsx)("span",{className:"".concat(Yg),children:"\uc2e0\ubd80\uce21 \ud63c\uc8fc"}),(0,Oo.jsx)(Wg,{contactItem:t.bride.father}),(0,Oo.jsx)(Wg,{contactItem:t.bride.mother})]})]})]})},Jg=function(){function e(t,n){var r=this;Yo(this,e),this._delegate=t,this.firebase=n,df(t,new Ch("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Jo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ef(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cf;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cf;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){df(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){pf(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zg=(os(Jy={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),os(Jy,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Jy),$g=new oh("app-compat","Firebase",Zg);var e_=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=xf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(fh(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Cf,setLogLevel:Nf,onLog:Af,apps:null,SDK_VERSION:bf,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(vf(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw $g.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ql(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fh(n,e=e||cf))throw $g.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Jg);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ql(n,e)},createSubscribe:bh,ErrorFactory:oh,deepExtend:Ql}),n}(),t_=new Uh("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){t_.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var n_=self.firebase.SDK_VERSION;n_&&n_.indexOf("LITE")>=0&&t_.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var r_=e_;!function(e){Cf("@firebase/app-compat","0.1.26",e)}();function i_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=es(e)););return e}function a_(){return a_="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a_.apply(this,arguments)}r_.registerVersion("firebase","9.8.2","app-compat");function o_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var s_;Object.create;var u_="facebook.com",c_="github.com",l_="google.com",h_="password",f_="twitter.com",d_="EMAIL_SIGNIN",p_="PASSWORD_RESET",v_="RECOVER_EMAIL",m_="REVERT_SECOND_FACTOR_ADDITION",y_="VERIFY_AND_CHANGE_EMAIL",g_="VERIFY_EMAIL";function __(){return os({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var k_=function(){var e;return os(e={},"admin-restricted-operation","This operation is restricted to administrators only."),os(e,"argument-error",""),os(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),os(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),os(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),os(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),os(e,"cordova-not-ready","Cordova framework is not ready."),os(e,"cors-unsupported","This browser is not supported."),os(e,"credential-already-in-use","This credential is already associated with a different user account."),os(e,"custom-token-mismatch","The custom token corresponds to a different audience."),os(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),os(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),os(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),os(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),os(e,"email-already-in-use","The email address is already in use by another account."),os(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),os(e,"expired-action-code","The action code has expired."),os(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),os(e,"internal-error","An internal AuthError has occurred."),os(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),os(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),os(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),os(e,"invalid-auth-event","An internal AuthError has occurred."),os(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),os(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),os(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),os(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),os(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),os(e,"invalid-email","The email address is badly formatted."),os(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),os(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),os(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),os(e,"invalid-credential","The supplied auth credential is malformed or has expired."),os(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),os(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),os(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),os(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),os(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),os(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),os(e,"wrong-password","The password is invalid or the user does not have a password."),os(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),os(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),os(e,"invalid-provider-id","The specified provider ID is invalid."),os(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),os(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),os(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),os(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),os(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),os(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),os(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),os(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),os(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),os(e,"missing-continue-uri","A continue URL must be provided in the request."),os(e,"missing-iframe-start","An internal AuthError has occurred."),os(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),os(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),os(e,"missing-multi-factor-info","No second factor identifier is provided."),os(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),os(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),os(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),os(e,"app-deleted","This instance of FirebaseApp has been deleted."),os(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),os(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),os(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),os(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),os(e,"no-auth-event","An internal AuthError has occurred."),os(e,"no-such-provider","User was not linked to an account with the given provider."),os(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),os(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),os(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),os(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),os(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),os(e,"provider-already-linked","User can only be linked to one identity for the given provider."),os(e,"quota-exceeded","The project's quota for this operation has been exceeded."),os(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),os(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),os(e,"rejected-credential","The request contains malformed or mismatching credentials."),os(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),os(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),os(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),os(e,"timeout","The operation has timed out."),os(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),os(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),os(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),os(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),os(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),os(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),os(e,"unverified-email","The operation requires a verified email."),os(e,"user-cancelled","The user did not grant your application the permissions it requested."),os(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),os(e,"user-disabled","The user account has been disabled by an administrator."),os(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),os(e,"user-signed-out",""),os(e,"weak-password","The password must be 6 characters long or more."),os(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),os(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},w_=__,b_=new oh("auth","Firebase",__()),x_=new Uh("@firebase/auth");function I_(e){if(x_.logLevel<=Rh.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];x_.error.apply(x_,["Auth (".concat(bf,"): ").concat(e)].concat(n))}}function T_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw A_.apply(void 0,[e].concat(n))}function E_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return A_.apply(void 0,[e].concat(n))}function S_(e,t,n){var r=Object.assign(Object.assign({},w_()),os({},t,n));return new oh("auth","Firebase",r).create(t,{appName:e.name})}function C_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&T_(e,"argument-error"),S_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function A_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Qo(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Qo(o)))}return b_.create.apply(b_,[e].concat(n))}function N_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw A_.apply(void 0,[t].concat(r))}}function P_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw I_(t),new Error(t)}function R_(e,t){e||P_(t)}var D_=new Map;function O_(e){R_(e instanceof Function,"Expected a class definition");var t=D_.get(e);return t?(R_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,D_.set(e,t),t)}function M_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function L_(){return"http:"===F_()||"https:"===F_()}function F_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var j_=function(){function e(t,n){Yo(this,e),this.shortDelay=t,this.longDelay=n,R_(n>t,"Short delay should be less than long delay!"),this.isMobile=Zl()||th()}return Jo(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(L_()||eh()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function U_(e,t){R_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var V_=function(){function e(){Yo(this,e)}return Jo(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void P_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void P_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void P_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),B_=(os(s_={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),os(s_,"MISSING_CUSTOM_TOKEN","internal-error"),os(s_,"INVALID_IDENTIFIER","invalid-email"),os(s_,"MISSING_CONTINUE_URI","internal-error"),os(s_,"INVALID_PASSWORD","wrong-password"),os(s_,"MISSING_PASSWORD","internal-error"),os(s_,"EMAIL_EXISTS","email-already-in-use"),os(s_,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),os(s_,"INVALID_IDP_RESPONSE","invalid-credential"),os(s_,"INVALID_PENDING_TOKEN","invalid-credential"),os(s_,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),os(s_,"MISSING_REQ_TYPE","internal-error"),os(s_,"EMAIL_NOT_FOUND","user-not-found"),os(s_,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),os(s_,"EXPIRED_OOB_CODE","expired-action-code"),os(s_,"INVALID_OOB_CODE","invalid-action-code"),os(s_,"MISSING_OOB_CODE","internal-error"),os(s_,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),os(s_,"INVALID_ID_TOKEN","invalid-user-token"),os(s_,"TOKEN_EXPIRED","user-token-expired"),os(s_,"USER_NOT_FOUND","user-token-expired"),os(s_,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),os(s_,"INVALID_CODE","invalid-verification-code"),os(s_,"INVALID_SESSION_INFO","invalid-verification-id"),os(s_,"INVALID_TEMPORARY_PROOF","invalid-credential"),os(s_,"MISSING_SESSION_INFO","missing-verification-id"),os(s_,"SESSION_EXPIRED","code-expired"),os(s_,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),os(s_,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),os(s_,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),os(s_,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),os(s_,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),os(s_,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),os(s_,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),os(s_,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),os(s_,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),os(s_,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),os(s_,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),s_),z_=new j_(3e4,6e4);function q_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function W_(e,t,n,r){return G_.apply(this,arguments)}function G_(){return G_=Ol(Rl().mark((function e(t,n,r,i){var a,o=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",K_(t,a,Ol(Rl().mark((function e(){var a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=gh(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",V_.fetch()(X_(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function K_(e,t,n){return H_.apply(this,arguments)}function H_(){return(H_=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},B_),n),e.prev=2,a=new J_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Z_(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Vo(c,2),h=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Z_(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Z_(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Z_(t,"user-disabled",s);case 29:if(d=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw S_(t,d,f);case 34:T_(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ah)){e.next=41;break}throw e.t0;case 41:T_(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Q_(e,t,n,r){return Y_.apply(this,arguments)}function Y_(){return Y_=Ol(Rl().mark((function e(t,n,r,i){var a,o,s=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,W_(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&T_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function X_(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?U_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var J_=function(){function e(t){var n=this;Yo(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(E_(n.auth,"network-request-failed"))}),z_.get())}))}return Jo(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Z_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=E_(e,t,r);return i.customData._tokenResponse=n,i}function $_(e,t){return ek.apply(this,arguments)}function ek(){return(ek=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tk(e,t){return nk.apply(this,arguments)}function nk(){return(nk=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return(ik=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ak(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ok(){return ok=Ol(Rl().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Sh(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,N_((a=uk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ak(sk(a.auth_time)),issuedAtTime:ak(sk(a.iat)),expirationTime:ak(sk(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function sk(e){return 1e3*Number(e)}function uk(e){var t=Vo(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return I_("JWT malformed, contained fewer than 3 sections"),null;try{var a=Hl(r);return a?JSON.parse(a):(I_("Failed to decode base64 JWT payload"),null)}catch(o){return I_("Caught error parsing JWT payload as JSON",o),null}}function ck(e,t){return lk.apply(this,arguments)}function lk(){return lk=Ol(Rl().mark((function e(t,n){var r=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ah&&hk(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),lk.apply(this,arguments)}function hk(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fk=function(){function e(t){Yo(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Jo(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),dk=function(){function e(t,n){Yo(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Jo(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ak(this.lastLoginAt),this.creationTime=ak(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function pk(e){return vk.apply(this,arguments)}function vk(){return vk=Ol(Rl().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ck(t,rk(r,{idToken:i}));case 6:N_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?gk(o.providerUserInfo):[],u=yk(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dk(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(){return(mk=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sh(t),e.next=3,pk(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yk(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Qo(n),Qo(t))}function gk(e){return e.map((function(e){var t=e.providerId,n=o_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function _k(e,t){return kk.apply(this,arguments)}function kk(){return(kk=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K_(t,{},Ol(Rl().mark((function e(){var r,i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gh({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=X_(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",V_.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wk=function(){function e(){Yo(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Jo(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){N_(e.idToken,"internal-error"),N_("undefined"!==typeof e.idToken,"internal-error"),N_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=uk(e);return N_(t,"internal-error"),N_("undefined"!==typeof t.exp,"internal-error"),N_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ol(Rl().mark((function e(t){var n,r=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],N_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_k(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return P_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(N_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(N_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(N_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function bk(e,t){N_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var xk=function(){function e(t){Yo(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=o_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Qo(a.providerData):[],this.metadata=new dk(a.createdAt||void 0,a.lastLoginAt||void 0)}return Jo(e,[{key:"getIdToken",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ck(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(N_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ok.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return mk.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(N_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){N_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ol(Rl().mark((function e(t){var n,r,i=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,pk(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ck(this,$_(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,_=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,x=n.stsTokenManager;N_(_&&x,t,"internal-error");var I=wk.fromJSON(this.name,x);N_("string"===typeof _,t,"internal-error"),bk(h,t.name),bk(f,t.name),N_("boolean"===typeof k,t,"internal-error"),N_("boolean"===typeof w,t,"internal-error"),bk(d,t.name),bk(p,t.name),bk(v,t.name),bk(m,t.name),bk(y,t.name),bk(g,t.name);var T=new e({uid:_,auth:t,email:f,emailVerified:k,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return b&&Array.isArray(b)&&(T.providerData=b.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=Ol(Rl().mark((function t(n,r){var i,a,o,s=arguments;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new wk).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,pk(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ik=function(){function e(){Yo(this,e),this.type="NONE",this.storage={}}return Jo(e,[{key:"_isAvailable",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ik.type="NONE";var Tk=Ik;function Ek(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sk=function(){function e(t,n,r){Yo(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ek(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ek("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Jo(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?xk._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ol(Rl().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(O_(Tk),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||O_(Tk),s=Ek(i,n.config.apiKey,n.name),u=null,c=Ml(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=xk._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ck(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ak(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ok(t))return"Blackberry";if(Mk(t))return"Webos";if(Nk(t))return"Safari";if((t.includes("chrome/")||Pk(t))&&!t.includes("edge/"))return"Chrome";if(Dk(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ak(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/firefox\//i.test(e)}function Nk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/crios\//i.test(e)}function Rk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/iemobile/i.test(e)}function Dk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/android/i.test(e)}function Ok(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/blackberry/i.test(e)}function Mk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/webos/i.test(e)}function Lk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/iphone|ipad|ipod/i.test(e)}function Fk(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return Lk(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function jk(){return nh()&&10===document.documentMode}function Uk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return Lk(e)||Dk(e)||Mk(e)||Ok(e)||/windows phone/i.test(e)||Rk(e)}function Vk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ck(Jl());break;case"Worker":t="".concat(Ck(Jl()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bf,"/").concat(r)}var Bk=function(){function e(t){Yo(this,e),this.auth=t,this.queue=[]}return Jo(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ol(Rl().mark((function e(t){var n,r,i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Ml(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Ml(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zk=function(){function e(t,n,r){Yo(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wk(this),this.idTokenSubscription=new Wk(this),this.beforeStateQueue=new Bk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Jo(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=O_(t)),this._initializationPromise=this.queue(Ol(Rl().mark((function r(){var i,a;return Rl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sk.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ol(Rl().mark((function e(t){var n,r,i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return N_(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pk(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Sh(t):null)&&N_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ol(Rl().mark((function e(t){var n,r=this,i=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&N_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ol(Rl().mark((function n(){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(O_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new oh("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return N_(n=t&&O_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sk.create(this,[O_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ol(Rl().mark((function e(t){var n=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return N_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vk(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=os({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qk(e){return Sh(e)}var Wk=function(){function e(t){var n=this;Yo(this,e),this.auth=t,this.observer=null,this.addObserver=bh((function(e){return n.observer=e}))}return Jo(e,[{key:"next",get:function(){return N_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Gk(e,t,n){var r=qk(e);N_(r._canInitEmulator,r,"emulator-config-failed"),N_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Kk(t),o=function(e){var t=Kk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Hk(r.substr(a.length+1))}}var o=Vo(r.split(":"),2);return{host:o[0],port:Hk(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Kk(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Hk(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Qk=function(){function e(t,n){Yo(this,e),this.providerId=t,this.signInMethod=n}return Jo(e,[{key:"toJSON",value:function(){return P_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return P_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return P_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return P_("not implemented")}}]),e}();function Yk(e,t){return Xk.apply(this,arguments)}function Xk(){return(Xk=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:resetPassword",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jk(e,t){return Zk.apply(this,arguments)}function Zk(){return(Zk=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $k(e,t){return ew.apply(this,arguments)}function ew(){return(ew=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:update",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return(nw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithPassword",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return(iw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:sendOobCode",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return(ow=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sw(e,t){return uw.apply(this,arguments)}function uw(){return(uw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cw(e,t){return lw.apply(this,arguments)}function lw(){return(lw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hw(e,t){return fw.apply(this,arguments)}function fw(){return(fw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rw(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return(pw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithEmailLink",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return(mw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithEmailLink",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yw=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Yo(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Jo(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dw(t,{email:this._email,oobCode:this._password}));case 5:T_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Jk(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:T_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Qk);function gw(e,t){return _w.apply(this,arguments)}function _w(){return(_w=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithIdp",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kw=function(e){$o(n,e);var t=as(n);function n(){var e;return Yo(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Jo(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return gw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gw(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gh(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):T_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=o_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Qk);function ww(e,t){return bw.apply(this,arguments)}function bw(){return(bw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:sendVerificationCode",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xw(){return(xw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithPhoneNumber",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iw(){return(Iw=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q_(t,"POST","/v1/accounts:signInWithPhoneNumber",q_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Z_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tw=os({},"USER_NOT_FOUND","user-not-found");function Ew(){return(Ew=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithPhoneNumber",q_(t,r),Tw));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sw=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Jo(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return xw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Iw.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ew.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Qk);var Cw=function(){function e(t){var n,r,i,a,o,s;Yo(this,e);var u=_h(kh(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);N_(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Jo(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_h(kh(e)).link,n=t?_h(kh(t)).deep_link_id:null,r=_h(kh(e)).deep_link_id;return(r?_h(kh(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(PU){return null}}}]),e}();var Aw=function(){function e(){Yo(this,e),this.providerId=e.PROVIDER_ID}return Jo(e,null,[{key:"credential",value:function(e,t){return yw._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Cw.parseLink(t);return N_(n,"argument-error"),yw._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Aw.PROVIDER_ID="password",Aw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Aw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Nw=function(){function e(t){Yo(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Jo(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Pw=function(e){$o(n,e);var t=as(n);function n(){var e;return Yo(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Jo(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Qo(this.scopes)}}]),n}(Nw),Rw=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return N_(e.idToken||e.accessToken,"argument-error"),kw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return N_("providerId"in t&&"signInMethod"in t,"argument-error"),kw._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Pw),Dw=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.call(this,"facebook.com")}return Jo(n,null,[{key:"credential",value:function(e){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PU){return null}}}]),n}(Pw);Dw.FACEBOOK_SIGN_IN_METHOD="facebook.com",Dw.PROVIDER_ID="facebook.com";var Ow=function(e){$o(n,e);var t=as(n);function n(){var e;return Yo(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Jo(n,null,[{key:"credential",value:function(e,t){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(PU){return null}}}]),n}(Pw);Ow.GOOGLE_SIGN_IN_METHOD="google.com",Ow.PROVIDER_ID="google.com";var Mw=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.call(this,"github.com")}return Jo(n,null,[{key:"credential",value:function(e){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PU){return null}}}]),n}(Pw);Mw.GITHUB_SIGN_IN_METHOD="github.com",Mw.PROVIDER_ID="github.com";var Lw=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Jo(n,[{key:"_getIdTokenResponse",value:function(e){return gw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gw(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Qk),Fw=function(e){$o(n,e);var t=as(n);function n(e){return Yo(this,n),N_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Jo(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Lw.fromJSON(e);return N_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Lw._create(r,n)}catch(i){return null}}}]),n}(Nw),jw=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.call(this,"twitter.com")}return Jo(n,null,[{key:"credential",value:function(e,t){return kw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(PU){return null}}}]),n}(Pw);function Uw(e,t){return Vw.apply(this,arguments)}function Vw(){return(Vw=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signUp",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}jw.TWITTER_SIGN_IN_METHOD="twitter.com",jw.PROVIDER_ID="twitter.com";var Bw=function(){function e(t){Yo(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Jo(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ol(Rl().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,xk._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=zw(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ol(Rl().mark((function t(n,r,i){var a;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zw(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function qw(){return qw=Ol(Rl().mark((function e(t){var n,r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qk(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Bw({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Uw(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Bw._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}var Ww=function(e){$o(n,e);var t=as(n);function n(e,r,i,a){var o,s;return Yo(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(rs(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Jo(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ah);function Gw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ww._fromErrorAndOperation(e,n,t,r);throw n}))}function Kw(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Hw(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sh(t),e.next=3,Jw(!0,r,n);case 3:return e.t0=tk,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Kw(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Yw(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=Ol(Rl().mark((function e(t,n){var r,i,a=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ck,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Bw._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t,n){return Zw.apply(this,arguments)}function Zw(){return(Zw=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pk(n);case 2:i=Kw(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",N_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $w(e,t){return eb.apply(this,arguments)}function eb(){return eb=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ck(t,Gw(i,a,n,t),r);case 6:return N_((o=e.sent).idToken,i,"internal-error"),N_(s=uk(o.idToken),i,"internal-error"),u=s.sub,N_(t.uid===u,i,"user-mismatch"),e.abrupt("return",Bw._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&T_(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),eb.apply(this,arguments)}function tb(e,t){return nb.apply(this,arguments)}function nb(){return nb=Ol(Rl().mark((function e(t,n){var r,i,a,o,s=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Gw(t,i,n);case 4:return a=e.sent,e.next=7,Bw._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return ib.apply(this,arguments)}function ib(){return(ib=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tb(qk(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return(ob=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sh(t),e.next=3,Jw(!1,r,n.providerId);case 3:return e.abrupt("return",Yw(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sb(e,t){return ub.apply(this,arguments)}function ub(){return(ub=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$w(Sh(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cb(e,t){return lb.apply(this,arguments)}function lb(){return(lb=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q_(t,"POST","/v1/accounts:signInWithCustomToken",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hb(){return(hb=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qk(t),e.next=3,cb(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Bw._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fb=function(){function e(t,n){Yo(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Jo(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?db._fromServerResponse(e,t):T_(e,"internal-error")}}]),e}(),db=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Jo(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(fb);function pb(e,t,n){var r;N_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),N_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(N_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(N_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vb(){return(vb=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sh(t),a={requestType:"PASSWORD_RESET",email:n},r&&pb(i,a,r),e.next=5,sw(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mb(){return(mb=Ol(Rl().mark((function e(t,n,r){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yk(Sh(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yb(){return(yb=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$k(Sh(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gb(e,t){return _b.apply(this,arguments)}function _b(){return(_b=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sh(t),e.next=3,Yk(r,{oobCode:n});case 3:i=e.sent,N_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return N_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:N_(i.mfaInfo,r,"internal-error");case 13:N_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=fb._fromServerResponse(qk(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kb(){return(kb=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gb(Sh(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wb(e,t,n){return bb.apply(this,arguments)}function bb(){return(bb=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qk(t),e.next=3,Uw(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Bw._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xb(){return(xb=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sh(t),a={requestType:"EMAIL_SIGNIN",email:n},N_(r.handleCodeInApp,i,"argument-error"),r&&pb(i,a,r),e.next=6,cw(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ib(){return(Ib=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sh(t),N_((a=Aw.credentialWithLink(n,r||M_()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",rb(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tb(e,t){return Eb.apply(this,arguments)}function Eb(){return(Eb=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:createAuthUri",q_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sb(){return(Sb=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L_()?M_():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Tb(Sh(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cb(){return(Cb=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sh(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&pb(r.auth,a,n),e.next=8,aw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ab(){return(Ab=Ol(Rl().mark((function e(t,n,r){var i,a,o,s;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sh(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&pb(i.auth,o,r),e.next=8,hw(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nb(e,t){return Pb.apply(this,arguments)}function Pb(){return(Pb=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rb(){return(Rb=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u,c;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Sh(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ck(a,Nb(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Db(e,t,n){return Ob.apply(this,arguments)}function Ob(){return(Ob=Ol(Rl().mark((function e(t,n,r){var i,a,o,s;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ck(t,Jk(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mb=Jo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yo(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Lb=function(e){$o(n,e);var t=as(n);function n(e,r,i,a){var o;return Yo(this,n),(o=t.call(this,e,r,i)).username=a,o}return Jo(n)}(Mb),Fb=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"facebook.com",r)}return Jo(n)}(Mb),jb=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Jo(n)}(Lb),Ub=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"google.com",r)}return Jo(n)}(Mb),Vb=function(e){$o(n,e);var t=as(n);function n(e,r,i){return Yo(this,n),t.call(this,e,"twitter.com",r,i)}return Jo(n)}(Lb);function Bb(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=uk(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Mb(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Fb(a,i);case"github.com":return new jb(a,i);case"google.com":return new Ub(a,i);case"twitter.com":return new Vb(a,i,e.screenName||null);case"custom":case"anonymous":return new Mb(a,null);default:return new Mb(a,r,i)}}(n)}var zb=function(){function e(t,n){Yo(this,e),this.type=t,this.credential=n}return Jo(e,[{key:"toJSON",value:function(){return{multiFactorSession:os({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),qb=function(){function e(t,n,r){Yo(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Jo(e,[{key:"resolveSignIn",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=qk(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return fb._fromServerResponse(r,e)}));N_(i.mfaPendingCredential,r,"internal-error");var o=zb._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ol(Rl().mark((function e(t){var a,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Bw._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return N_(n.user,r,"internal-error"),e.abrupt("return",Bw._forOperation(n.user,n.operationType,s));case 17:T_(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Wb(e,t){return W_(e,"POST","/v2/accounts/mfaEnrollment:start",q_(e,t))}var Gb=function(){function e(t){var n=this;Yo(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return fb._fromServerResponse(t.auth,e)})))}))}return Jo(e,[{key:"getSession",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=zb,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ck(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ol(Rl().mark((function e(t){var n,r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ck(this.user,W_(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",q_(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Kb=new WeakMap;var Hb="__sak",Qb=function(){function e(t,n){Yo(this,e),this.storageRetriever=t,this.type=n}return Jo(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Hb,"1"),this.storage.removeItem(Hb),Promise.resolve(!0)):Promise.resolve(!1)}catch(PU){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Yb=function(e){$o(n,e);var t=as(n);function n(){var e;return Yo(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Jl();return Nk(e)||Lk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Uk(),e._shouldAllowMigration=!0,e}return Jo(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);jk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ol(Rl().mark((function e(t,r){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(es(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ol(Rl().mark((function e(t){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(es(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(es(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qb);Yb.type="LOCAL";var Xb=Yb,Jb=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Jo(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Qb);Jb.type="SESSION";var Zb=Jb;function $b(e){return Promise.all(e.map(function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ex=function(){function e(t){Yo(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Jo(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ol(Rl().mark((function e(t){var n,r,i,a,o,s,u,c;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$b(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function tx(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ex.receivers=[];var nx=function(){function e(t){Yo(this,e),this.target=t,this.handlers=new Set}return Jo(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=tx("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function rx(){return window}function ix(){return"undefined"!==typeof rx().WorkerGlobalScope&&"function"===typeof rx().importScripts}function ax(){return ox.apply(this,arguments)}function ox(){return(ox=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function sx(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ux="firebaseLocalStorageDb",cx="firebaseLocalStorage",lx="fbase_key",hx=function(){function e(t){Yo(this,e),this.request=t}return Jo(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function fx(e,t){return e.transaction([cx],t?"readwrite":"readonly").objectStore(cx)}function dx(){var e=indexedDB.deleteDatabase(ux);return new hx(e).toPromise()}function px(){var e=indexedDB.open(ux,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(cx,{keyPath:lx})}catch(r){n(r)}})),e.addEventListener("success",Ol(Rl().mark((function n(){var r;return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(cx)){n.next=12;break}return r.close(),n.next=5,dx();case 5:return n.t0=t,n.next=8,px();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function vx(e,t,n){return mx.apply(this,arguments)}function mx(){return mx=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fx(t,!0).put((os(i={},lx,n),os(i,"value",r),i)),e.abrupt("return",new hx(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t,!1).get(n),e.next=3,new hx(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function _x(e,t){var n=fx(e,!0).delete(t);return new hx(n).toPromise()}var kx=function(){function e(){Yo(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Jo(e,[{key:"_openDb",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,px();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ix()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ol(Rl().mark((function e(){var t=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ex._getInstance(ix()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ol(Rl().mark((function e(n,r){var i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ax();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new nx(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&sx()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,px();case 5:return t=e.sent,e.next=8,vx(t,Hb,"1");case 8:return e.next=10,_x(t,Hb);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ol(Rl().mark((function e(t,n){var r=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return vx(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return yx(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ol(Rl().mark((function e(t){var n=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return _x(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=fx(e,!1).getAll();return new hx(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ml(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();kx.type="LOCAL";var wx=kx;function bx(e,t){return W_(e,"POST","/v2/accounts/mfaSignIn:start",q_(e,t))}function xx(e){return Ix.apply(this,arguments)}function Ix(){return(Ix=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W_(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tx(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=E_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ex(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Sx=1e12,Cx=function(){function e(t){Yo(this,e),this.auth=t,this.counter=Sx,this._widgets=new Map}return Jo(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ax(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Sx;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Sx;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Sx,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ax=function(){function e(t,n,r){var i=this;Yo(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;N_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Jo(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Nx=Ex("rcb"),Px=new j_(3e4,6e4),Rx="https://www.google.com/recaptcha/api.js?",Dx=function(){function e(){Yo(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rx().grecaptcha}return Jo(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return N_(Ox(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(rx().grecaptcha):new Promise((function(r,i){var a=rx().setTimeout((function(){i(E_(e,"network-request-failed"))}),Px.get());rx()[Nx]=function(){rx().clearTimeout(a),delete rx()[Nx];var o=rx().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(E_(e,"internal-error"))},Tx("".concat(Rx,"?").concat(gh({onload:Nx,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(E_(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!rx().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ox(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Mx=function(){function e(){Yo(this,e)}return Jo(e,[{key:"load",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Cx(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Lx="recaptcha",Fx={theme:"light",type:"image"},jx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Fx),r=arguments.length>2?arguments[2]:void 0;Yo(this,e),this.parameters=n,this.type=Lx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qk(r),this.isInvisible="invisible"===this.parameters.size,N_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;N_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mx:new Dx,this.validateStartingState()}return Jo(e,[{key:"verify",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){N_(!this.parameters.sitekey,this.auth,"argument-error"),N_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=rx()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){N_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ol(Rl().mark((function e(){var t,n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N_(L_()&&!ix(),this.auth,"internal-error"),e.next=3,Ux();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,xx(this.auth);case 8:N_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return N_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ux(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Vx=function(){function e(t,n){Yo(this,e),this.verificationId=t,this.onConfirmation=n}return Jo(e,[{key:"confirm",value:function(e){var t=Sw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Bx(){return(Bx=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qk(t),e.next=3,Gx(i,n,Sh(r));case 3:return a=e.sent,e.abrupt("return",new Vx(a,(function(e){return rb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zx(e,t,n){return qx.apply(this,arguments)}function qx(){return(qx=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sh(t),e.next=3,Jw(!1,i,"phone");case 3:return e.next=5,Gx(i.auth,n,Sh(r));case 5:return a=e.sent,e.abrupt("return",new Vx(a,(function(e){return ab(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wx(){return(Wx=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sh(t),e.next=3,Gx(i.auth,n,Sh(r));case 3:return a=e.sent,e.abrupt("return",new Vx(a,(function(e){return sb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,N_("string"===typeof a,t,"argument-error"),N_(r.type===Lx,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return N_("enroll"===s.type,t,"internal-error"),e.next=13,Wb(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return N_("signin"===s.type,t,"internal-error"),N_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bx(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ww(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Kx.apply(this,arguments)}function Hx(){return(Hx=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(Sh(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qx=function(){function e(t){Yo(this,e),this.providerId=e.PROVIDER_ID,this.auth=qk(t)}return Jo(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gx(this.auth,e,Sh(t))}}],[{key:"credential",value:function(e,t){return Sw._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Sw._fromTokenResponse(n,r):null}}]),e}();function Yx(e,t){return t?O_(t):(N_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qx.PROVIDER_ID="phone",Qx.PHONE_SIGN_IN_METHOD="phone";var Xx=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Jo(n,[{key:"_getIdTokenResponse",value:function(e){return gw(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return gw(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return gw(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Qk);function Jx(e){return tb(e.auth,new Xx(e),e.bypassAuthState)}function Zx(e){var t=e.auth,n=e.user;return N_(n,t,"internal-error"),$w(n,new Xx(e),e.bypassAuthState)}function $x(e){return eI.apply(this,arguments)}function eI(){return(eI=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,N_(r=t.user,n,"internal-error"),e.abrupt("return",Yw(r,new Xx(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Yo(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Jo(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ol(Rl().mark((function t(n,r){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ol(Rl().mark((function e(t){var n,r,i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jx;case"linkViaPopup":case"linkViaRedirect":return $x;case"reauthViaPopup":case"reauthViaRedirect":return Zx;default:T_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){R_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){R_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),nI=new j_(2e3,1e4);function rI(e,t,n){return iI.apply(this,arguments)}function iI(){return(iI=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qk(t),C_(t,n,Nw),a=Yx(i,r),o=new uI(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aI(){return(aI=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C_((i=Sh(t)).auth,n,Nw),a=Yx(i.auth,r),o=new uI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oI(e,t,n){return sI.apply(this,arguments)}function sI(){return(sI=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C_((i=Sh(t)).auth,n,Nw),a=Yx(i.auth,r),o=new uI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uI=function(e){$o(n,e);var t=as(n);function n(e,r,i,a,o){var s;return Yo(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=rs(s),s}return Jo(n,[{key:"executeNotNull",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return N_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ol(Rl().mark((function e(){var t,n=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R_(1===this.filter.length,"Popup operations only handle one event"),t=tx(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(E_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(E_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(E_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,nI.get())}()}}]),n}(tI);uI.currentPopupAction=null;var cI=new Map,lI=function(e){$o(n,e);var t=as(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Yo(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Jo(n,[{key:"execute",value:function(){var e=Ol(Rl().mark((function e(){var t,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=cI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,hI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,a_(es(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:cI.set(this.auth._key(),t);case 21:return this.bypassAuthState||cI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ol(Rl().mark((function e(t){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",a_(es(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",a_(es(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(tI);function hI(e,t){return fI.apply(this,arguments)}function fI(){return(fI=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yI(n),i=mI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dI(e,t){return pI.apply(this,arguments)}function pI(){return(pI=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mI(t)._set(yI(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vI(e,t){cI.set(e._key(),t)}function mI(e){return O_(e._redirectPersistence)}function yI(e){return Ek("pendingRedirect",e.config.apiKey,e.name)}function gI(e,t,n){return function(e,t,n){return _I.apply(this,arguments)}(e,t,n)}function _I(){return(_I=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qk(t),C_(t,n,Nw),a=Yx(i,r),e.next=5,dI(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kI(e,t,n){return function(e,t,n){return wI.apply(this,arguments)}(e,t,n)}function wI(){return(wI=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C_((i=Sh(t)).auth,n,Nw),a=Yx(i.auth,r),e.next=5,dI(a,i.auth);case 5:return e.next=7,CI(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bI(e,t,n){return function(e,t,n){return xI.apply(this,arguments)}(e,t,n)}function xI(){return(xI=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C_((i=Sh(t)).auth,n,Nw),a=Yx(i.auth,r),e.next=5,Jw(!1,i,n.providerId);case 5:return e.next=7,dI(a,i.auth);case 7:return e.next=9,CI(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function II(e,t){return TI.apply(this,arguments)}function TI(){return(TI=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qk(t)._initializationPromise;case 2:return e.abrupt("return",EI(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EI(e,t){return SI.apply(this,arguments)}function SI(){return SI=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=qk(t),a=Yx(i,n),o=new lI(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),SI.apply(this,arguments)}function CI(e){return AI.apply(this,arguments)}function AI(){return(AI=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tx("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var NI=function(){function e(t){Yo(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Jo(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!RI(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(E_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PI(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(PI(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function PI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function RI(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function DI(e){return OI.apply(this,arguments)}function OI(){return OI=Ol(Rl().mark((function e(t){var n,r=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",W_(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}var MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LI=/^https?/;function FI(){return(FI=Ol(Rl().mark((function e(t){var n,r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,DI(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ml(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!jI(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:T_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function jI(e){var t=M_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!LI.test(r))return!1;if(MI.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var UI=new j_(3e4,6e4);function VI(){var e=rx().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Qo(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var BI=null;function zI(e){return BI=BI||function(e){return new Promise((function(t,n){var r,i,a;function o(){VI(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){VI(),n(E_(e,"network-request-failed"))},timeout:UI.get()})}if(null===(i=null===(r=rx().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=rx().gapi)||void 0===a?void 0:a.load)){var s=Ex("iframefcb");return rx()[s]=function(){gapi.load?o():n(E_(e,"network-request-failed"))},Tx("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw BI=null,e}))}(e),BI}var qI=new j_(5e3,15e3),WI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KI(e){var t=e.config;N_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?U_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:bf},i=GI.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(gh(r).slice(1))}function HI(e){return QI.apply(this,arguments)}function QI(){return QI=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zI(t);case 2:return n=e.sent,N_(r=rx().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:KI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WI,dontclear:!0},(function(e){return new Promise(function(){var n=Ol(Rl().mark((function n(r,i){var a,o,s;return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){rx().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=E_(t,"network-request-failed"),o=rx().setTimeout((function(){i(a)}),qI.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}var YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XI="_blank",JI="http://localhost",ZI=function(){function e(t){Yo(this,e),this.window=t,this.associatedEvent=null}return Jo(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},YI),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Jl().toLowerCase();n&&(s=Pk(c)?XI:n),Ak(c)&&(t=t||JI,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Vo(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Fk(c)&&"_self"!==s)return eT(t||"",s),new ZI(null);var h=window.open(t||"",s,l);N_(h,e,"popup-blocked");try{h.focus()}catch(f){}return new ZI(h)}function eT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var tT="__/auth/handler",nT="emulator/auth/handler";function rT(e,t,n,r,i,a){N_(e.config.authDomain,e,"auth-domain-config-required"),N_(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bf,eventId:i};if(t instanceof Nw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ph(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Vo(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof Pw){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(tT);return U_(t,nT)}(e),"?").concat(gh(d).slice(1))}var iT="webStorageSupport",aT=function(){function e(){Yo(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=EI,this._overrideRedirectResult=vI}return Jo(e,[{key:"_openPopup",value:function(){var e=Ol(Rl().mark((function e(t,n,r,i){var a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=rT(t,n,r,M_(),i),e.abrupt("return",$I(t,o,tx()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ol(Rl().mark((function e(t,n,r,i){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=rT(t,n,r,M_(),i),rx().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(R_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI(t);case 2:return n=e.sent,r=new NI(t),n.register("authEvent",(function(e){return N_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(iT,{type:iT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),T_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return FI.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Uk()||Nk()||Lk()}}]),e}(),oT=aT,sT=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this,"phone")).credential=e,r}return Jo(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return W_(e,"POST","/v2/accounts/mfaEnrollment:finalize",q_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return W_(e,"POST","/v2/accounts/mfaSignIn:finalize",q_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Yo(this,e),this.factorId=t}return Jo(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return P_("unexpected MultiFactorSessionType")}}}]),e}()),uT=function(){function e(){Yo(this,e)}return Jo(e,null,[{key:"assertion",value:function(e){return sT._fromCredential(e)}}]),e}();uT.FACTOR_ID="phone";var cT,lT="@firebase/auth",hT="0.20.2",fT=function(){function e(t){Yo(this,e),this.auth=t,this.internalListeners=new Map}return Jo(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){N_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function dT(){return window}cT="Browser",vf(new Ch("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){N_(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),N_(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:cT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vk(cT)},i=new zk(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(O_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),vf(new Ch("auth-internal",(function(e){return function(e){return new fT(e)}(qk(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Cf(lT,hT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cT)),Cf(lT,hT,"esm2017");function pT(e,t,n){return vT.apply(this,arguments)}function vT(){return vT=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dT(),o=a.BuildInfo,R_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,wT(n.sessionId);case 4:return s=e.sent,u={},Lk()?u.ibi=o.packageName:Dk()?u.apn=o.packageName:T_(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",rT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(){return(mT=Ol(Rl().mark((function e(t){var n,r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dT(),r=n.BuildInfo,i={},Lk()?i.iosBundleId=r.packageName:Dk()?i.androidPackageName=r.packageName:T_(t,"operation-not-supported-in-this-environment"),e.next=5,DI(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yT(e){var t=dT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gT(e,t,n){return _T.apply(this,arguments)}function _T(){return _T=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(E_(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Dk()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),_T.apply(this,arguments)}function kT(e){var t,n,r,i,a,o,s,u,c,l,h=dT();N_("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N_("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N_("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N_("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N_("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function wT(e){return bT.apply(this,arguments)}function bT(){return(bT=Ol(Rl().mark((function e(t){var n,r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xT(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xT(e){if(R_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var IT=function(e){$o(n,e);var t=as(n);function n(){var e;return Yo(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Jo(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),a_(es(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(NI);function TT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:NT(),postBody:null,tenantId:e.tenantId,error:E_(e,"no-auth-event")}}function ET(e,t){return PT()._set(RT(e),t)}function ST(e){return CT.apply(this,arguments)}function CT(){return(CT=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PT()._get(RT(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,PT()._remove(RT(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t){var n,r,i=function(e){var t=DT(e),n=t.link?decodeURIComponent(t.link):void 0,r=DT(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return DT(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=DT(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?E_(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function NT(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function PT(){return O_(Xb)}function RT(e){return Ek("authEvent",e.config.apiKey,e.name)}function DT(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Lo(t=n)||Ho(t)||jo(t)||Uo();r[0];return _h(r.slice(1).join("?"))}var OT=function(){function e(){Yo(this,e),this._redirectPersistence=Zb,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=EI,this._overrideRedirectResult=vI}return Jo(e,[{key:"_initialize",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new IT(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){T_(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ol(Rl().mark((function e(t,n,r,i){var a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kT(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),cI.clear(),e.next=10,this._originValidation(t);case 10:return o=TT(t,r,i),e.next=13,ET(t,o);case 13:return e.next=15,pT(t,o,n);case 15:return s=e.sent,e.next=18,yT(s);case 18:return u=e.sent,e.abrupt("return",gT(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=dT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ol(Rl().mark((function n(){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ST(e);case 2:t.onEvent(LT());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ol(Rl().mark((function n(r){var i,a;return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ST(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=AT(i,r.url)),t.onEvent(a||LT());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");dT().handleOpenURL=function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),MT=OT;function LT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:E_("no-auth-event")}}function FT(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function jT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return!("file:"!==FT()&&"ionic:"!==FT()&&"capacitor:"!==FT()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function UT(){return nh()&&11===(null===document||void 0===document?void 0:document.documentMode)}function VT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return/Edge\/\d+/.test(e)}function BT(){try{var e=self.localStorage,t=tx();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return UT()||VT(e)}()||ih()}catch(n){return zT()&&ih()}return!1}function zT(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function qT(){return("http:"===FT()||"https:"===FT()||eh()||jT())&&!(th()||$l())&&BT()&&!zT()}function WT(){return jT()&&"undefined"!==typeof document}function GT(){return KT.apply(this,arguments)}function KT(){return(KT=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(WT()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HT={LOCAL:"local",NONE:"none",SESSION:"session"},QT=N_,YT="persistence";function XT(e,t){QT(Object.values(HT).includes(t),e,"invalid-persistence-type"),th()?QT(t!==HT.SESSION,e,"unsupported-persistence-type"):$l()?QT(t===HT.NONE,e,"unsupported-persistence-type"):zT()?QT(t===HT.NONE||t===HT.LOCAL&&ih(),e,"unsupported-persistence-type"):QT(t===HT.NONE||BT(),e,"unsupported-persistence-type")}function JT(e){return ZT.apply(this,arguments)}function ZT(){return(ZT=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=$T(),r=Ek(YT,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var eE=N_,tE=function(){function e(){Yo(this,e),this.browserResolver=O_(oT),this.cordovaResolver=O_(MT),this.underlyingResolver=null,this._redirectPersistence=Zb,this._completeRedirectFn=EI,this._overrideRedirectResult=vI}return Jo(e,[{key:"_initialize",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ol(Rl().mark((function e(t,n,r,i){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ol(Rl().mark((function e(t,n,r,i){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return WT()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return eE(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,GT();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nE(e){return e.unwrap()}function rE(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new uE(e,function(e,t){var n,r=Sh(e),i=t;return N_(t.customData.operationType,r,"argument-error"),N_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qb._fromError(r,i)}(e,t));else if(r){var i=iE(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function iE(e){var t=(e instanceof ah?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ah)&&"temporaryProof"in t&&"phoneNumber"in t)return Qx.credentialFromResult(e);var n,r=t.providerId;if(!r||r===h_)return null;switch(r){case l_:n=Ow;break;case u_:n=Dw;break;case c_:n=Mw;break;case f_:n=jw;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Lw._create(r,s):kw._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Rw(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof ah?n.credentialFromError(e):n.credentialFromResult(e)}function aE(e,t){return t.catch((function(t){throw t instanceof ah&&rE(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,iE(t)),additionalUserInfo:Bb(e),user:cE.getOrCreate(r)}}))}function oE(e,t){return sE.apply(this,arguments)}function sE(){return(sE=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return aE(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uE=function(){function e(t,n){Yo(this,e),this.resolver=n,this.auth=t.wrapped()}return Jo(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return aE(nE(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),cE=function(){function e(t){Yo(this,e),this._delegate=t,this.multiFactor=function(e){var t=Sh(e);return Kb.has(t)||Kb.set(t,Gb._fromUser(t)),Kb.get(t)}(t)}return Jo(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aE(this.auth,ab(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(this.auth,zx(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aE(this.auth,oI(this._delegate,t,tE)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JT(qk(this.auth));case 2:return e.abrupt("return",bI(this._delegate,t,tE));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aE(this.auth,sb(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return oE(this.auth,function(e,t,n){return Wx.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return aE(this.auth,function(e,t,n){return aI.apply(this,arguments)}(this._delegate,e,tE))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JT(qk(this.auth));case 2:return e.abrupt("return",kI(this._delegate,t,tE));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Cb.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hw(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Db(Sh(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Db(Sh(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Hx.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Rb.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ab.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();cE.USER_MAP=new WeakMap;var lE=N_,hE=function(){function e(t,n){if(Yo(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;lE(r,"invalid-api-key",{appName:t.name}),lE(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?tE:void 0;this._delegate=n.initialize({options:{persistence:dE(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(k_),this.linkUnderlyingAuth()}return Jo(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?cE.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Gk(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return yb.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return gb(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return mb.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aE(this._delegate,wb(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Sb.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Cw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lE(qT(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,II(this._delegate,tE);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",aE(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){qk(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=fE(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=fE(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return xb.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vb.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:XT(this._delegate,t),e.t0=t,e.next=e.t0===HT.SESSION?4:e.t0===HT.LOCAL?6:e.t0===HT.NONE?11:13;break;case 4:return n=Zb,e.abrupt("break",14);case 6:return e.next=8,O_(wx)._isAvailable();case 8:return r=e.sent,n=r?wx:Xb,e.abrupt("break",14);case 11:return n=Tk,e.abrupt("break",14);case 13:return e.abrupt("return",T_("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return aE(this._delegate,function(e){return qw.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return aE(this._delegate,rb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return aE(this._delegate,function(e,t){return hb.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return aE(this._delegate,function(e,t,n){return rb(Sh(e),Aw.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return aE(this._delegate,function(e,t,n){return Ib.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return oE(this._delegate,function(e,t,n){return Bx.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lE(qT(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",aE(this._delegate,rI(this._delegate,t,tE)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lE(qT(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,JT(this._delegate);case 3:return e.abrupt("return",gI(this._delegate,t,tE));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return kb.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function fE(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&cE.getOrCreate(e))},error:t,complete:n}}function dE(e,t){var n=function(e,t){var n=$T();if(!n)return[];var r=Ek(YT,e,t);switch(n.getItem(r)){case HT.NONE:return[Tk];case HT.LOCAL:return[wx,Zb];case HT.SESSION:return[Zb];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(wx)||n.push(wx),"undefined"!==typeof window)for(var r=0,i=[Xb,Zb];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Tk)||n.push(Tk),n}hE.Persistence=HT;var pE=function(){function e(){Yo(this,e),this.providerId="phone",this._delegate=new Qx(nE(r_.auth()))}return Jo(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Qx.credential(e,t)}}]),e}();pE.PHONE_SIGN_IN_METHOD=Qx.PHONE_SIGN_IN_METHOD,pE.PROVIDER_ID=Qx.PROVIDER_ID;var vE,mE=N_,yE=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r_.app();Yo(this,e),mE(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new jx(t,n,i.auth()),this.type=this._delegate.type}return Jo(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(vE=r_).INTERNAL.registerComponent(new Ch("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new hE(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:d_,PASSWORD_RESET:p_,RECOVER_EMAIL:v_,REVERT_SECOND_FACTOR_ADDITION:m_,VERIFY_AND_CHANGE_EMAIL:y_,VERIFY_EMAIL:g_}},EmailAuthProvider:Aw,FacebookAuthProvider:Dw,GithubAuthProvider:Mw,GoogleAuthProvider:Ow,OAuthProvider:Rw,SAMLAuthProvider:Fw,PhoneAuthProvider:pE,PhoneMultiFactorGenerator:uT,RecaptchaVerifier:yE,TwitterAuthProvider:jw,Auth:hE,AuthCredential:Qk,Error:ah}).setInstantiationMode("LAZY").setMultipleInstances(!1)),vE.registerVersion("@firebase/auth-compat","0.2.15");var gE,_E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},kE={},wE=wE||{},bE=_E||self;function xE(){}function IE(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function TE(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var EE="closure_uid_"+(1e9*Math.random()>>>0),SE=0;function CE(e,t,n){return e.call.apply(e.bind,arguments)}function AE(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function NE(e,t,n){return(NE=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?CE:AE).apply(null,arguments)}function PE(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function RE(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function DE(){this.s=this.s,this.o=this.o}var OE={};DE.prototype.s=!1,DE.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,EE)&&e[EE]||(e[EE]=++SE)}(this);delete OE[e]}},DE.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ME=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},LE=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function FE(e){return Array.prototype.concat.apply([],arguments)}function jE(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function UE(e){return/^[\s\xa0]*$/.test(e)}var VE,BE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zE(e,t){return-1!=e.indexOf(t)}function qE(e,t){return e<t?-1:e>t?1:0}e:{var WE=bE.navigator;if(WE){var GE=WE.userAgent;if(GE){VE=GE;break e}}VE=""}function KE(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function HE(e){var t={};for(var n in e)t[n]=e[n];return t}var QE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YE(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<QE.length;a++)n=QE[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function XE(e){return XE[" "](e),e}XE[" "]=xE;var JE,ZE=zE(VE,"Opera"),$E=zE(VE,"Trident")||zE(VE,"MSIE"),eS=zE(VE,"Edge"),tS=eS||$E,nS=zE(VE,"Gecko")&&!(zE(VE.toLowerCase(),"webkit")&&!zE(VE,"Edge"))&&!(zE(VE,"Trident")||zE(VE,"MSIE"))&&!zE(VE,"Edge"),rS=zE(VE.toLowerCase(),"webkit")&&!zE(VE,"Edge");function iS(){var e=bE.document;return e?e.documentMode:void 0}e:{var aS="",oS=function(){var e=VE;return nS?/rv:([^\);]+)(\)|;)/.exec(e):eS?/Edge\/([\d\.]+)/.exec(e):$E?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):rS?/WebKit\/(\S+)/.exec(e):ZE?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(oS&&(aS=oS?oS[1]:""),$E){var sS=iS();if(null!=sS&&sS>parseFloat(aS)){JE=String(sS);break e}}JE=aS}var uS,cS={};function lS(){return function(e){var t=cS;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=BE(String(JE)).split("."),n=BE("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=qE(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||qE(0==a[2].length,0==o[2].length)||qE(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(bE.document&&$E){var hS=iS();uS=hS||(parseInt(JE,10)||void 0)}else uS=void 0;var fS=uS,dS=function(){if(!bE.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bE.addEventListener("test",xE,t),bE.removeEventListener("test",xE,t)}catch(n){}return e}();function pS(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vS(e,t){if(pS.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nS){e:{try{XE(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:mS[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vS.Z.h.call(this)}}pS.prototype.h=function(){this.defaultPrevented=!0},RE(vS,pS);var mS={2:"touch",3:"pen",4:"mouse"};vS.prototype.h=function(){vS.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yS="closure_listenable_"+(1e6*Math.random()|0),gS=0;function _S(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++gS,this.ca=this.fa=!1}function kS(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function wS(e){this.src=e,this.g={},this.h=0}function bS(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ME(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(kS(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xS(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}wS.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=xS(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new _S(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var IS="closure_lm_"+(1e6*Math.random()|0),TS={};function ES(e,t,n,r,i){if(r&&r.once)return CS(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ES(e,t[a],n,r,i);return null}return n=MS(n),e&&e[yS]?e.N(t,n,TE(r)?!!r.capture:!!r,i):SS(e,t,n,!1,r,i)}function SS(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=TE(i)?!!i.capture:!!i,s=DS(e);if(s||(e[IS]=s=new wS(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=RS;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dS||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(PS(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function CS(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)CS(e,t[a],n,r,i);return null}return n=MS(n),e&&e[yS]?e.O(t,n,TE(r)?!!r.capture:!!r,i):SS(e,t,n,!0,r,i)}function AS(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)AS(e,t[a],n,r,i);else r=TE(r)?!!r.capture:!!r,n=MS(n),e&&e[yS]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xS(a=e.g[t],n,r,i))&&(kS(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=DS(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xS(t,n,r,i)),(n=-1<e?t[e]:null)&&NS(n))}function NS(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[yS])bS(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(PS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=DS(t))?(bS(n,e),0==n.h&&(n.src=null,t[IS]=null)):kS(e)}}}function PS(e){return e in TS?TS[e]:TS[e]="on"+e}function RS(e,t){if(e.ca)e=!0;else{t=new vS(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&NS(e),e=n.call(r,t)}return e}function DS(e){return(e=e[IS])instanceof wS?e:null}var OS="__closure_events_fn_"+(1e9*Math.random()>>>0);function MS(e){return"function"===typeof e?e:(e[OS]||(e[OS]=function(t){return e.handleEvent(t)}),e[OS])}function LS(){DE.call(this),this.i=new wS(this),this.P=this,this.I=null}function FS(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new pS(t,e);else if(t instanceof pS)t.target=t.target||e;else{var i=t;YE(t=new pS(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jS(o,r,!0,t)&&i}if(i=jS(o=t.g=e,r,!0,t)&&i,i=jS(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jS(o=t.g=n[a],r,!1,t)&&i}function jS(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&bS(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}RE(LS,DE),LS.prototype[yS]=!0,LS.prototype.removeEventListener=function(e,t,n,r){AS(this,e,t,n,r)},LS.prototype.M=function(){if(LS.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kS(n[r]);delete t.g[e],t.h--}}this.I=null},LS.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},LS.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var US=bE.JSON.stringify;function VS(){var e=QS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var BS,zS=function(){function e(){Yo(this,e),this.h=this.g=null}return Jo(e,[{key:"add",value:function(e,t){var n=qS.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qS=new(function(){function e(t,n){Yo(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Jo(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new WS}),(function(e){return e.reset()})),WS=function(){function e(){Yo(this,e),this.next=this.g=this.h=null}return Jo(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function GS(e){bE.setTimeout((function(){throw e}),0)}function KS(e,t){BS||function(){var e=bE.Promise.resolve(void 0);BS=function(){e.then(YS)}}(),HS||(BS(),HS=!0),QS.add(e,t)}var HS=!1,QS=new zS;function YS(){for(var e;e=VS();){try{e.h.call(e.g)}catch(n){GS(n)}var t=qS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}HS=!1}function XS(e,t){LS.call(this),this.h=e||1,this.g=t||bE,this.j=NE(this.kb,this),this.l=Date.now()}function JS(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ZS(e,t,n){if("function"===typeof e)n&&(e=NE(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=NE(e.handleEvent,e)}return 2147483647<Number(t)?-1:bE.setTimeout(e,t||0)}function $S(e){e.g=ZS((function(){e.g=null,e.i&&(e.i=!1,$S(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}RE(XS,LS),(gE=XS.prototype).da=!1,gE.S=null,gE.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),FS(this,"tick"),this.da&&(JS(this),this.start()))}},gE.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gE.M=function(){XS.Z.M.call(this),JS(this),delete this.g};var eC=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Jo(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$S(this)}},{key:"M",value:function(){a_(es(n.prototype),"M",this).call(this),this.g&&(bE.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(DE);function tC(e){DE.call(this),this.h=e,this.g={}}RE(tC,DE);var nC=[];function rC(e,t,n,r){Array.isArray(n)||(n&&(nC[0]=n.toString()),n=nC);for(var i=0;i<n.length;i++){var a=ES(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function iC(e){KE(e.g,(function(e,t){this.g.hasOwnProperty(t)&&NS(e)}),e),e.g={}}function aC(){this.g=!0}function oC(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return US(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}tC.prototype.M=function(){tC.Z.M.call(this),iC(this)},tC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aC.prototype.Aa=function(){this.g=!1},aC.prototype.info=function(){};var sC={},uC=null;function cC(){return uC=uC||new LS}function lC(e){pS.call(this,sC.Ma,e)}function hC(e){var t=cC();FS(t,new lC(t,e))}function fC(e,t){pS.call(this,sC.STAT_EVENT,e),this.stat=t}function dC(e){var t=cC();FS(t,new fC(t,e))}function pC(e,t){pS.call(this,sC.Na,e),this.size=t}function vC(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bE.setTimeout((function(){e()}),t)}sC.Ma="serverreachability",RE(lC,pS),sC.STAT_EVENT="statevent",RE(fC,pS),sC.Na="timingevent",RE(pC,pS);var mC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gC(){}function _C(e){return e.h||(e.h=e.i())}function kC(){}gC.prototype.h=null;var wC,bC={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xC(){pS.call(this,"d")}function IC(){pS.call(this,"c")}function TC(){}function EC(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new tC(this),this.P=CC,e=tS?125:void 0,this.W=new XS(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new SC}function SC(){this.i=null,this.g="",this.h=!1}RE(xC,pS),RE(IC,pS),RE(TC,gC),TC.prototype.g=function(){return new XMLHttpRequest},TC.prototype.i=function(){return{}},wC=new TC;var CC=45e3,AC={},NC={};function PC(e,t,n){e.K=1,e.v=eA(QC(t)),e.s=n,e.U=!0,RC(e,null)}function RC(e,t){e.F=Date.now(),LC(e),e.A=QC(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),dA(n.h,"t",r),e.C=0,n=e.l.H,e.h=new SC,e.g=vN(e.l,n?t:null,!e.s),0<e.O&&(e.L=new eC(NE(e.Ia,e,e.g),e.O)),rC(e.V,e.g,"readystatechange",e.gb),t=e.H?HE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hC(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function DC(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function OC(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=MC(e,n))==NC){4==t&&(e.o=4,dC(14),i=!1),oC(e.j,e.m,null,"[Incomplete Response]");break}if(r==AC){e.o=4,dC(15),oC(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}oC(e.j,e.m,r,null),BC(e,r)}DC(e)&&r!=NC&&r!=AC&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dC(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sN(t),t.L=!0,dC(11))):(oC(e.j,e.m,n,"[Invalid Chunked Response]"),VC(e),UC(e))}function MC(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?NC:(n=Number(t.substring(n,r)),isNaN(n)?AC:(r+=1)+n>t.length?NC:(t=t.substr(r,n),e.C=r+n,t))}function LC(e){e.Y=Date.now()+e.P,FC(e,e.P)}function FC(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vC(NE(e.eb,e),t)}function jC(e){e.B&&(bE.clearTimeout(e.B),e.B=null)}function UC(e){0==e.l.G||e.I||lN(e.l,e)}function VC(e){jC(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,JS(e.W),iC(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function BC(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wA(n.i,e)))if(n.I=e.N,!e.J&&wA(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cN(n),ZA(n)}oN(n),dC(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=vC(NE(n.ab,n),6e3));if(1>=kA(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else fN(n,11)}else if((e.J||n.g==e)&&cN(n),!UE(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(zE(l,"spdy")||zE(l,"quic")||zE(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(bA(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,$C(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=pN(r,r.H?r.la:null,r.W),d.J){xA(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jC(p),LC(p)),r.g=d}else aN(r);0<n.l.length&&tN(n)}else"stop"!=a[0]&&"close"!=a[0]||fN(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?fN(n,7):JA(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}hC(4)}catch(a){}}function zC(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(IE(e)||"string"===typeof e)LE(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(IE(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(IE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function qC(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof qC)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function WC(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];GC(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)GC(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function GC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(gE=EC.prototype).setTimeout=function(e){this.P=e},gE.gb=function(e){e=e.target;var t=this.L;t&&3==KA(e)?t.l():this.Ia(e)},gE.Ia=function(e){try{if(e==this.g)e:{var t=KA(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||tS||this.g&&(this.h.h||this.g.ga()||HA(this.g)))){this.I||4!=t||7==n||hC(8==n||0>=r?3:2),jC(this);var i=this.g.ba();this.N=i;t:if(DC(this)){var a=HA(this.g);e="";var o=a.length,s=4==KA(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){VC(this),UC(this);var u="";break t}this.h.i=new bE.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!UE(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,dC(12),VC(this),UC(this);break e}oC(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,BC(this,i)}this.U?(OC(this,t,u),tS&&this.i&&3==t&&(rC(this.V,this.W,"tick",this.fb),this.W.start())):(oC(this.j,this.m,u,null),BC(this,u)),4==t&&VC(this),this.i&&!this.I&&(4==t?lN(this.l,this):(this.i=!1,LC(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,dC(12)):(this.o=0,dC(13)),VC(this),UC(this)}}}catch(t){}},gE.fb=function(){if(this.g){var e=KA(this.g),t=this.g.ga();this.C<t.length&&(jC(this),OC(this,e,t),this.i&&4!=e&&LC(this))}},gE.cancel=function(){this.I=!0,VC(this)},gE.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hC(3),dC(17)),VC(this),this.o=2,UC(this)):FC(this,this.Y-e)},(gE=qC.prototype).R=function(){WC(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},gE.T=function(){return WC(this),this.g.concat()},gE.get=function(e,t){return GC(this.h,e)?this.h[e]:t},gE.set=function(e,t){GC(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},gE.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var KC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function HC(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof HC){this.g=void 0!==t?t:e.g,YC(this,e.j),this.s=e.s,XC(this,e.i),JC(this,e.m),this.l=e.l,t=e.h;var n=new cA;n.i=t.i,t.g&&(n.g=new qC(t.g),n.h=t.h),ZC(this,n),this.o=e.o}else e&&(n=String(e).match(KC))?(this.g=!!t,YC(this,n[1]||"",!0),this.s=tA(n[2]||""),XC(this,n[3]||"",!0),JC(this,n[4]),this.l=tA(n[5]||"",!0),ZC(this,n[6]||"",!0),this.o=tA(n[7]||"")):(this.g=!!t,this.h=new cA(null,this.g))}function QC(e){return new HC(e)}function YC(e,t,n){e.j=n?tA(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function XC(e,t,n){e.i=n?tA(t,!0):t}function JC(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ZC(e,t,n){t instanceof cA?(e.h=t,function(e,t){t&&!e.j&&(lA(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hA(this,t),dA(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=nA(t,sA)),e.h=new cA(t,e.g))}function $C(e,t,n){e.h.set(t,n)}function eA(e){return $C(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tA(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nA(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,rA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rA(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}HC.prototype.toString=function(){var e=[],t=this.j;t&&e.push(nA(t,iA,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(nA(t,iA,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(nA(n,"/"==n.charAt(0)?oA:aA,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",nA(n,uA)),e.join("")};var iA=/[#\/\?@]/g,aA=/[#\?:]/g,oA=/[#\?]/g,sA=/[#\?@]/g,uA=/#/g;function cA(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lA(e){e.g||(e.g=new qC,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hA(e,t){lA(e),t=pA(e,t),GC(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,GC((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&WC(e)))}function fA(e,t){return lA(e),t=pA(e,t),GC(e.g.h,t)}function dA(e,t,n){hA(e,t),0<n.length&&(e.i=null,e.g.set(pA(e,t),jE(n)),e.h+=n.length)}function pA(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gE=cA.prototype).add=function(e,t){lA(this),this.i=null,e=pA(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gE.forEach=function(e,t){lA(this),this.g.forEach((function(n,r){LE(n,(function(n){e.call(t,n,r,this)}),this)}),this)},gE.T=function(){lA(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gE.R=function(e){lA(this);var t=[];if("string"===typeof e)fA(this,e)&&(t=FE(t,this.g.get(pA(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=FE(t,e[n])}return t},gE.set=function(e,t){return lA(this),this.i=null,fA(this,e=pA(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gE.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},gE.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var vA=Jo((function e(t,n){Yo(this,e),this.h=t,this.g=n}));function mA(e){this.l=e||gA,bE.PerformanceNavigationTiming?e=0<(e=bE.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bE.g&&bE.g.Ea&&bE.g.Ea()&&bE.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yA,gA=10;function _A(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kA(e){return e.h?1:e.g?e.g.size:0}function wA(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bA(e,t){e.g?e.g.add(t):e.h=t}function xA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function IA(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ml(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return jE(e.i)}function TA(){}function EA(){this.g=new TA}function SA(e,t,n){var r=n||"";try{zC(e,(function(e,n){var i=e;TE(e)&&(i=US(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function CA(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function AA(e){this.l=e.$b||null,this.j=e.ib||!1}function NA(e,t){LS.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=PA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mA.prototype.cancel=function(){if(this.i=IA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ml(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},TA.prototype.stringify=function(e){return bE.JSON.stringify(e,void 0)},TA.prototype.parse=function(e){return bE.JSON.parse(e,void 0)},RE(AA,gC),AA.prototype.g=function(){return new NA(this.l,this.j)},AA.prototype.i=(yA={},function(){return yA}),RE(NA,LS);var PA=0;function RA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function DA(e){e.readyState=4,e.l=null,e.j=null,e.A=null,OA(e)}function OA(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gE=NA.prototype).open=function(e,t){if(this.readyState!=PA)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,OA(this)},gE.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||bE).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},gE.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,DA(this)),this.readyState=PA},gE.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,OA(this)),this.g&&(this.readyState=3,OA(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof bE.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},gE.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?DA(this):OA(this),3==this.readyState&&RA(this)}},gE.Ua=function(e){this.g&&(this.response=this.responseText=e,DA(this))},gE.Ta=function(e){this.g&&(this.response=e,DA(this))},gE.ha=function(){this.g&&DA(this)},gE.setRequestHeader=function(e,t){this.v.append(e,t)},gE.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gE.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(NA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var MA=bE.JSON.parse;function LA(e){LS.call(this),this.headers=new qC,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=FA,this.K=this.L=!1}RE(LA,LS);var FA="",jA=/^https?$/i,UA=["POST","PUT"];function VA(e){return"content-type"==e.toLowerCase()}function BA(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zA(e),WA(e)}function zA(e){e.D||(e.D=!0,FS(e,"complete"),FS(e,"error"))}function qA(e){if(e.h&&"undefined"!=typeof wE&&(!e.C[1]||4!=KA(e)||2!=e.ba()))if(e.v&&4==KA(e))ZS(e.Fa,0,e);else if(FS(e,"readystatechange"),4==KA(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(KC)[1]||null;if(!a&&bE.self&&bE.self.location){var o=bE.self.location.protocol;a=o.substr(0,o.length-1)}i=!jA.test(a?a.toLowerCase():"")}t=i}if(t)FS(e,"complete"),FS(e,"success");else{e.m=6;try{var s=2<KA(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",zA(e)}}finally{WA(e)}}}function WA(e,t){if(e.g){GA(e);var n=e.g,r=e.C[0]?xE:null;e.g=null,e.C=null,t||FS(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function GA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(bE.clearTimeout(e.A),e.A=null)}function KA(e){return e.g?e.g.readyState:0}function HA(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case FA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function QA(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return KE(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$C(e,t,n))}function YA(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function XA(e){this.za=0,this.l=[],this.h=new aC,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=YA("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=YA("baseRetryDelayMs",5e3,e),this.$a=YA("retryDelaySeedMs",1e4,e),this.Ya=YA("forwardChannelMaxRetries",2,e),this.ra=YA("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mA(e&&e.concurrentRequestLimit),this.Ca=new EA,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function JA(e){if($A(e),3==e.G){var t=e.V++,n=QC(e.F);$C(n,"SID",e.J),$C(n,"RID",t),$C(n,"TYPE","terminate"),rN(e,n),(t=new EC(e,e.h,t,void 0)).K=2,t.v=eA(QC(n)),n=!1,bE.navigator&&bE.navigator.sendBeacon&&(n=bE.navigator.sendBeacon(t.v.toString(),"")),!n&&bE.Image&&((new Image).src=t.v,n=!0),n||(t.g=vN(t.l,null),t.g.ea(t.v)),t.F=Date.now(),LC(t)}dN(e)}function ZA(e){e.g&&(sN(e),e.g.cancel(),e.g=null)}function $A(e){ZA(e),e.u&&(bE.clearTimeout(e.u),e.u=null),cN(e),e.i.cancel(),e.m&&("number"===typeof e.m&&bE.clearTimeout(e.m),e.m=null)}function eN(e,t){e.l.push(new vA(e.Za++,t)),3==e.G&&tN(e)}function tN(e){_A(e.i)||e.m||(e.m=!0,KS(e.Ha,e),e.C=0)}function nN(e,t){var n;n=t?t.m:e.V++;var r=QC(e.F);$C(r,"SID",e.J),$C(r,"RID",n),$C(r,"AID",e.U),rN(e,r),e.o&&e.s&&QA(r,e.o,e.s),n=new EC(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=iN(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),bA(e.i,n),PC(n,r,t)}function rN(e,t){e.j&&zC({},(function(e,n){$C(t,n,e)}))}function iN(e,t,n){n=Math.min(e.l.length,n);var r=e.j?NE(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{SA(l,o,"req"+c+"_")}catch(qN){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function aN(e){e.g||e.u||(e.Y=1,KS(e.Ga,e),e.A=0)}function oN(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=vC(NE(e.Ga,e),hN(e,e.A)),e.A++,!0)}function sN(e){null!=e.B&&(bE.clearTimeout(e.B),e.B=null)}function uN(e){e.g=new EC(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=QC(e.oa);$C(t,"RID","rpc"),$C(t,"SID",e.J),$C(t,"CI",e.N?"0":"1"),$C(t,"AID",e.U),rN(e,t),$C(t,"TYPE","xmlhttp"),e.o&&e.s&&QA(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=eA(QC(t)),n.s=null,n.U=!0,RC(n,e)}function cN(e){null!=e.v&&(bE.clearTimeout(e.v),e.v=null)}function lN(e,t){var n=null;if(e.g==t){cN(e),sN(e),e.g=null;var r=2}else{if(!wA(e.i,t))return;n=t.D,xA(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;FS(r=cC(),new pC(r,n,t,i)),tN(e)}else aN(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(kA(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=vC(NE(e.Ha,e,t),hN(e,e.C)),e.C++,!0))}(e,t)||2==r&&oN(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:fN(e,5);break;case 4:fN(e,10);break;case 3:fN(e,6);break;default:fN(e,2)}}function hN(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function fN(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=NE(e.jb,e);n||(n=new HC("//www.google.com/images/cleardot.gif"),bE.location&&"http"==bE.location.protocol||YC(n,"https"),eA(n)),function(e,t){var n=new aC;if(bE.Image){var r=new Image;r.onload=PE(CA,n,r,"TestLoadImage: loaded",!0,t),r.onerror=PE(CA,n,r,"TestLoadImage: error",!1,t),r.onabort=PE(CA,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=PE(CA,n,r,"TestLoadImage: timeout",!1,t),bE.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dC(2);e.G=0,e.j&&e.j.va(t),dN(e),$A(e)}function dN(e){e.G=0,e.I=-1,e.j&&(0==IA(e.i).length&&0==e.l.length||(e.i.i.length=0,jE(e.l),e.l.length=0),e.j.ua())}function pN(e,t,n){var r=function(e){return e instanceof HC?QC(e):new HC(e,void 0)}(n);if(""!=r.i)t&&XC(r,t+"."+r.i),JC(r,r.m);else{var i=bE.location;r=function(e,t,n,r){var i=new HC(null,void 0);return e&&YC(i,e),t&&XC(i,t),n&&JC(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&KE(e.aa,(function(e,t){$C(r,t,e)})),t=e.D,n=e.sa,t&&n&&$C(r,t,n),$C(r,"VER",e.ma),rN(e,r),r}function vN(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new LA(new AA({ib:!0})):new LA(e.qa)).L=e.H,t}function mN(){}function yN(){if($E&&!(10<=Number(fS)))throw Error("Environmental error: no available transport.")}function gN(e,t){LS.call(this),this.g=new XA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!UE(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!UE(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wN(this)}function _N(e){xC.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kN(){IC.call(this),this.status=1}function wN(e){this.g=e}(gE=LA.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wC.g(),this.C=this.u?_C(this.u):_C(wC),this.g.onreadystatechange=NE(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void BA(this,a)}e=n||"";var i=new qC(this.headers);r&&zC(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=VA,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=bE.FormData&&e instanceof bE.FormData,!(0<=ME(UA,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GA(this),0<this.B&&((this.K=function(e){return $E&&lS()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=NE(this.pa,this)):this.A=ZS(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){BA(this,a)}},gE.pa=function(){"undefined"!=typeof wE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,FS(this,"timeout"),this.abort(8))},gE.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,FS(this,"complete"),FS(this,"abort"),WA(this))},gE.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),WA(this,!0)),LA.Z.M.call(this)},gE.Fa=function(){this.s||(this.F||this.v||this.l?qA(this):this.cb())},gE.cb=function(){qA(this)},gE.ba=function(){try{return 2<KA(this)?this.g.status:-1}catch(yA){return-1}},gE.ga=function(){try{return this.g?this.g.responseText:""}catch(yA){return""}},gE.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),MA(t)}},gE.Da=function(){return this.m},gE.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(gE=XA.prototype).ma=8,gE.G=1,gE.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},gE.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new EC(this,this.h,e,void 0),n=this.s;if(this.P&&(n?YE(n=HE(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=iN(this,t,r),$C(i=QC(this.F),"RID",e),$C(i,"CVER",22),this.D&&$C(i,"X-HTTP-Session-Id",this.D),rN(this,i),this.o&&n&&QA(i,this.o,n),bA(this.i,t),this.Ra&&$C(i,"TYPE","init"),this.ja?($C(i,"$req",r),$C(i,"SID","null"),t.$=!0,PC(t,i,null)):PC(t,i,r),this.G=2}}else 3==this.G&&(e?nN(this,e):0==this.l.length||_A(this.i)||nN(this))},gE.Ga=function(){if(this.u=null,uN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=vC(NE(this.bb,this),e)}},gE.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dC(10),ZA(this),uN(this))},gE.ab=function(){null!=this.v&&(this.v=null,ZA(this),oN(this),dC(19))},gE.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dC(2)):(this.h.info("Failed to ping google.com"),dC(1))},(gE=mN.prototype).xa=function(){},gE.wa=function(){},gE.va=function(){},gE.ua=function(){},gE.Oa=function(){},yN.prototype.g=function(e,t){return new gN(e,t)},RE(gN,LS),gN.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),KS(NE(e.hb,e,t))),dC(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=pN(e,null,e.W),tN(e)},gN.prototype.close=function(){JA(this.g)},gN.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,eN(this.g,t)}else this.v?((t={}).__data__=US(e),eN(this.g,t)):eN(this.g,e)},gN.prototype.M=function(){this.g.j=null,delete this.j,JA(this.g),delete this.g,gN.Z.M.call(this)},RE(_N,xC),RE(kN,IC),RE(wN,mN),wN.prototype.xa=function(){FS(this.g,"a")},wN.prototype.wa=function(e){FS(this.g,new _N(e))},wN.prototype.va=function(e){FS(this.g,new kN(e))},wN.prototype.ua=function(){FS(this.g,"b")},yN.prototype.createWebChannel=yN.prototype.g,gN.prototype.send=gN.prototype.u,gN.prototype.open=gN.prototype.m,gN.prototype.close=gN.prototype.close,mC.NO_ERROR=0,mC.TIMEOUT=8,mC.HTTP_ERROR=6,yC.COMPLETE="complete",kC.EventType=bC,bC.OPEN="a",bC.CLOSE="b",bC.ERROR="c",bC.MESSAGE="d",LS.prototype.listen=LS.prototype.N,LA.prototype.listenOnce=LA.prototype.O,LA.prototype.getLastError=LA.prototype.La,LA.prototype.getLastErrorCode=LA.prototype.Da,LA.prototype.getStatus=LA.prototype.ba,LA.prototype.getResponseJson=LA.prototype.Qa,LA.prototype.getResponseText=LA.prototype.ga,LA.prototype.send=LA.prototype.ea;var bN=kE.createWebChannelTransport=function(){return new yN},xN=kE.getStatEventTarget=function(){return cC()},IN=kE.ErrorCode=mC,TN=kE.EventType=yC,EN=kE.Event=sC,SN=kE.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},CN=kE.FetchXmlHttpFactory=AA,AN=kE.WebChannel=kC,NN=kE.XhrIo=LA,PN="@firebase/firestore",RN=function(){function e(t){Yo(this,e),this.uid=t}return Jo(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();RN.UNAUTHENTICATED=new RN(null),RN.GOOGLE_CREDENTIALS=new RN("google-credentials-uid"),RN.FIRST_PARTY=new RN("first-party-uid"),RN.MOCK_USER=new RN("mock-user");var DN="9.8.0",ON=new Uh("@firebase/firestore");function MN(){return ON.logLevel}function LN(e){if(ON.logLevel<=Rh.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(UN);ON.debug.apply(ON,["Firestore (".concat(DN,"): ").concat(e)].concat(Qo(i)))}}function FN(e){if(ON.logLevel<=Rh.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(UN);ON.error.apply(ON,["Firestore (".concat(DN,"): ").concat(e)].concat(Qo(i)))}}function jN(e){if(ON.logLevel<=Rh.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(UN);ON.warn.apply(ON,["Firestore (".concat(DN,"): ").concat(e)].concat(Qo(i)))}}function UN(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function VN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(DN,") INTERNAL ASSERTION FAILED: ")+e;throw FN(t),new Error(t)}function BN(e,t){e||VN()}function zN(e,t){return e}var qN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},WN=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Jo(n)}(ah),GN=Jo((function e(){var t=this;Yo(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),KN=Jo((function e(t,n){Yo(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),HN=function(){function e(){Yo(this,e)}return Jo(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(RN.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),QN=function(){function e(t){Yo(this,e),this.token=t,this.changeListener=null}return Jo(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),YN=function(){function e(t){Yo(this,e),this.t=t,this.currentUser=RN.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Jo(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new GN;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new GN,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){LN("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(LN("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new GN)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(LN("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(BN("string"==typeof n.accessToken),new KN(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return BN(null===e||"string"==typeof e),new RN(e)}}]),e}(),XN=Jo((function e(t,n,r){Yo(this,e),this.type="FirstParty",this.user=RN.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),JN=function(){function e(t,n,r){Yo(this,e),this.h=t,this.l=n,this.m=r}return Jo(e,[{key:"getToken",value:function(){return Promise.resolve(new XN(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(RN.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ZN=Jo((function e(t){Yo(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$N=function(){function e(t){Yo(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Jo(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&LN("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,LN("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){LN("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):LN("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(BN("string"==typeof t.token),e.p=t.token,new ZN(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),eP=function(){function e(t,n){var r=this;Yo(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Jo(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function tP(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}eP.A=-1;var nP=function(){function e(){Yo(this,e)}return Jo(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=tP(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function rP(e,t){return e<t?-1:e>t?1:0}function iP(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function aP(e){return e+"\0"}var oP=function(){function e(t,n){if(Yo(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new WN(qN.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new WN(qN.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new WN(qN.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new WN(qN.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Jo(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?rP(this.nanoseconds,e.nanoseconds):rP(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sP=function(){function e(t){Yo(this,e),this.timestamp=t}return Jo(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new oP(0,0))}},{key:"max",value:function(){return new e(new oP(253402300799,999999999))}}]),e}();function uP(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cP(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lP(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var hP=function(){function e(t,n,r){Yo(this,e),void 0===n?n=0:n>t.length&&VN(),void 0===r?r=t.length-n:r>t.length-n&&VN(),this.segments=t,this.offset=n,this.len=r}return Jo(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),fP=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new WN(qN.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Qo(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hP),dP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pP=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return dP.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new WN(qN.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new WN(qN.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new WN(qN.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new WN(qN.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hP),vP=function(){function e(t){Yo(this,e),this.fields=t,t.sort(pP.comparator)}return Jo(e,[{key:"covers",value:function(e){var t,n=Ml(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return iP(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var mP=function(e){function t(e){Yo(this,t),this.binaryString=e}return Jo(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return rP(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();mP.EMPTY_BYTE_STRING=new mP("");var yP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gP(e){if(BN(!!e),"string"==typeof e){var t=0,n=yP.exec(e);if(BN(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_P(e.seconds),nanos:_P(e.nanos)}}function _P(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kP(e){return"string"==typeof e?mP.fromBase64String(e):mP.fromUint8Array(e)}function wP(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bP(e){var t=e.mapValue.fields.__previous_value__;return wP(t)?bP(t):t}function xP(e){var t=gP(e.mapValue.fields.__local_write_time__.timestampValue);return new oP(t.seconds,t.nanos)}var IP=Jo((function e(t,n,r,i,a,o,s,u){Yo(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),TP=function(){function e(t,n){Yo(this,e),this.projectId=t,this.database=n||"(default)"}return Jo(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function EP(e){return null==e}function SP(e){return 0===e&&1/e==-1/0}function CP(e){return"number"==typeof e&&Number.isInteger(e)&&!SP(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var AP=function(){function e(t){Yo(this,e),this.path=t}return Jo(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===fP.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(fP.fromString(t))}},{key:"fromName",value:function(t){return new e(fP.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(fP.emptyPath())}},{key:"comparator",value:function(e,t){return fP.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new fP(t.slice()))}}]),e}(),NP={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},PP={nullValue:"NULL_VALUE"};function RP(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wP(e)?4:KP(e)?9007199254740991:10:VN()}function DP(e,t){if(e===t)return!0;var n=RP(e);if(n!==RP(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xP(e).isEqual(xP(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gP(e.timestampValue),r=gP(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kP(e.bytesValue).isEqual(kP(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _P(e.geoPointValue.latitude)===_P(t.geoPointValue.latitude)&&_P(e.geoPointValue.longitude)===_P(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _P(e.integerValue)===_P(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_P(e.doubleValue),r=_P(t.doubleValue);return n===r?SP(n)===SP(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return iP(e.arrayValue.values||[],t.arrayValue.values||[],DP);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(uP(n)!==uP(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!DP(n[i],r[i])))return!1;return!0}(e,t);default:return VN()}}function OP(e,t){return void 0!==(e.values||[]).find((function(e){return DP(e,t)}))}function MP(e,t){if(e===t)return 0;var n=RP(e),r=RP(t);if(n!==r)return rP(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rP(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_P(e.integerValue||e.doubleValue),r=_P(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return LP(e.timestampValue,t.timestampValue);case 4:return LP(xP(e),xP(t));case 5:return rP(e.stringValue,t.stringValue);case 6:return function(e,t){var n=kP(e),r=kP(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=rP(n[i],r[i]);if(0!==a)return a}return rP(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=rP(_P(e.latitude),_P(t.latitude));return 0!==n?n:rP(_P(e.longitude),_P(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=MP(n[i],r[i]);if(a)return a}return rP(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===NP.mapValue&&t===NP.mapValue)return 0;if(e===NP.mapValue)return 1;if(t===NP.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=rP(r[o],a[o]);if(0!==s)return s;var u=MP(n[r[o]],i[a[o]]);if(0!==u)return u}return rP(r.length,a.length)}(e.mapValue,t.mapValue);default:throw VN()}}function LP(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rP(e,t);var n=gP(e),r=gP(t),i=rP(n.seconds,r.seconds);return 0!==i?i:rP(n.nanos,r.nanos)}function FP(e){return jP(e)}function jP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gP(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?kP(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,AP.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ml(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=jP(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ml(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(jP(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):VN();var t,n}function UP(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function VP(e){return!!e&&"integerValue"in e}function BP(e){return!!e&&"arrayValue"in e}function zP(e){return!!e&&"nullValue"in e}function qP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function WP(e){return!!e&&"mapValue"in e}function GP(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return cP(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=GP(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=GP(e.arrayValue.values[r]);return n}return Object.assign({},e)}function KP(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function HP(e){return"nullValue"in e?PP:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?UP(TP.empty(),AP.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:VN()}function QP(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?UP(TP.empty(),AP.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?NP:VN()}function YP(e,t){var n=MP(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function XP(e,t){var n=MP(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var JP=function(){function e(t){Yo(this,e),this.value=t}return Jo(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!WP(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=GP(t)}},{key:"setAll",value:function(e){var t=this,n=pP.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=GP(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());WP(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return DP(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];WP(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){cP(t,(function(t,n){return e[t]=n}));var r,i=Ml(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(GP(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ZP(e){var t=[];return cP(e.fields,(function(e,n){var r=new pP([e]);if(WP(n)){var i=ZP(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ml(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new vP(t)}var $P=function(){function e(t,n,r,i,a,o){Yo(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Jo(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=JP.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=JP.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sP.min(),sP.min(),JP.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,sP.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sP.min(),JP.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sP.min(),JP.empty(),2)}}]),e}(),eR=Jo((function e(t,n,r,i){Yo(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function tR(e){return e.fields.find((function(e){return 2===e.kind}))}function nR(e){return e.fields.filter((function(e){return 2!==e.kind}))}eR.UNKNOWN_ID=-1;var rR=Jo((function e(t,n){Yo(this,e),this.fieldPath=t,this.kind=n})),iR=function(){function e(t,n){Yo(this,e),this.sequenceNumber=t,this.offset=n}return Jo(e,null,[{key:"empty",value:function(){return new e(0,sR.min())}}]),e}();function aR(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sP.fromTimestamp(1e9===r?new oP(n+1,0):new oP(n,r));return new sR(i,AP.empty(),t)}function oR(e){return new sR(e.readTime,e.key,-1)}var sR=function(){function e(t,n,r){Yo(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Jo(e,null,[{key:"min",value:function(){return new e(sP.min(),AP.empty(),-1)}},{key:"max",value:function(){return new e(sP.max(),AP.empty(),-1)}}]),e}();function uR(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=AP.comparator(e.documentKey,t.documentKey))?n:rP(e.largestBatchId,t.largestBatchId)}var cR=function(){function e(t,n){Yo(this,e),this.comparator=t,this.root=n||hR.EMPTY}return Jo(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hR.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hR.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lR(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lR(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lR(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lR(this.root,e,this.comparator,!0)}}]),e}(),lR=function(){function e(t,n,r,i){Yo(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Jo(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hR=function(){function e(t,n,r,i,a){Yo(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Jo(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw VN();if(this.right.isRed())throw VN();var e=this.left.check();if(e!==this.right.check())throw VN();return e+(this.isRed()?0:1)}}]),e}();hR.EMPTY=null,hR.RED=!0,hR.BLACK=!1,hR.EMPTY=new(function(){function e(){Yo(this,e),this.size=0}return Jo(e,[{key:"key",get:function(){throw VN()}},{key:"value",get:function(){throw VN()}},{key:"color",get:function(){throw VN()}},{key:"left",get:function(){throw VN()}},{key:"right",get:function(){throw VN()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hR(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fR=function(){function e(t){Yo(this,e),this.comparator=t,this.data=new cR(this.comparator)}return Jo(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dR(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dR(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dR=function(){function e(t){Yo(this,e),this.iter=t}return Jo(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function pR(e){return e.hasNext()?e.getNext():void 0}var vR=Jo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Yo(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function mR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vR(e,t,n,r,i,a,o)}function yR(e){var t=zN(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+FP(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),EP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return FP(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return FP(e)})).join(",")),t.P=n}return t.P}function gR(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!OR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!DP(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!LR(e.startAt,t.startAt)&&LR(e.endAt,t.endAt)}function _R(e){return AP.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kR(e,t){return e.filters.filter((function(e){return e instanceof xR&&e.field.isEqual(t)}))}function wR(e,t,n){var r,i=PP,a=!0,o=Ml(kR(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=PP,c=!0;switch(s.op){case"<":case"<=":u=HP(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=PP}YP({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];YP({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function bR(e,t,n){var r,i=NP,a=!0,o=Ml(kR(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=NP,c=!0;switch(s.op){case">=":case">":u=QP(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=NP}XP({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];XP({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var xR=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Jo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(MP(t,this.value)):null!==t&&RP(this.value)===RP(t)&&this.v(MP(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return VN()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new IR(e,t,r):"array-contains"===t?new CR(e,r):"in"===t?new AR(e,r):"not-in"===t?new NR(e,r):"array-contains-any"===t?new PR(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new TR(e,n):new ER(e,n)}}]),n}(function(){return Jo((function e(){Yo(this,e)}))}()),IR=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this,e,r,i)).key=AP.fromName(i.referenceValue),a}return Jo(n,[{key:"matches",value:function(e){var t=AP.comparator(e.key,this.key);return this.v(t)}}]),n}(xR),TR=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,"in",r)).keys=SR("in",r),i}return Jo(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xR),ER=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,"not-in",r)).keys=SR("not-in",r),i}return Jo(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xR);function SR(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return AP.fromName(e.referenceValue)}))}var CR=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"array-contains",r)}return Jo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return BP(t)&&OP(t.arrayValue,this.value)}}]),n}(xR),AR=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"in",r)}return Jo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&OP(this.value.arrayValue,t)}}]),n}(xR),NR=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"not-in",r)}return Jo(n,[{key:"matches",value:function(e){if(OP(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!OP(this.value.arrayValue,t)}}]),n}(xR),PR=function(e){$o(n,e);var t=as(n);function n(e,r){return Yo(this,n),t.call(this,e,"array-contains-any",r)}return Jo(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!BP(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return OP(t.value.arrayValue,e)}))}}]),n}(xR),RR=Jo((function e(t,n){Yo(this,e),this.position=t,this.inclusive=n})),DR=Jo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Yo(this,e),this.field=t,this.dir=n}));function OR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function MR(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?AP.comparator(AP.fromName(o.referenceValue),n.key):MP(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function LR(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!DP(e.position[n],t.position[n]))return!1;return!0}var FR=Jo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Yo(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function jR(e,t,n,r,i,a,o,s){return new FR(e,t,n,r,i,a,o,s)}function UR(e){return new FR(e)}function VR(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function BR(e){var t,n=Ml(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function zR(e){return null!==e.collectionGroup}function qR(e){var t=zN(e);if(null===t.D){t.D=[];var n=BR(t),r=VR(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new DR(n)),t.D.push(new DR(pP.keyField(),"asc"));else{var i,a=!1,o=Ml(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new DR(pP.keyField(),u))}}}return t.D}function WR(e){var t=zN(e);if(!t.C)if("F"===t.limitType)t.C=mR(t.path,t.collectionGroup,qR(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ml(qR(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new DR(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new RR(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new RR(t.startAt.position,t.startAt.inclusive):null;t.C=mR(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function GR(e,t,n){return new FR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function KR(e,t){return gR(WR(e),WR(t))&&e.limitType===t.limitType}function HR(e){return"".concat(yR(WR(e)),"|lt:").concat(e.limitType)}function QR(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(FP(t.value));var t})).join(", "),"]")),EP(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return FP(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return FP(e)})).join(",")),"Target(".concat(t,")")}(WR(e)),"; limitType=").concat(e.limitType,")")}function YR(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):AP.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ml(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ml(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=MR(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qR(e),t))&&!(e.endAt&&!function(e,t,n){var r=MR(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qR(e),t))}(e,t)}function XR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JR(e){return function(t,n){var r,i=!1,a=Ml(qR(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ZR(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function ZR(e,t,n){var r=e.field.isKeyField()?AP.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?MP(r,i):VN()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return VN()}}function $R(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:SP(t)?"-0":t}}function eD(e){return{integerValue:""+e}}function tD(e,t){return CP(t)?eD(t):$R(e,t)}var nD=Jo((function e(){Yo(this,e),this._=void 0}));function rD(e,t,n){return e instanceof oD?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sD?uD(e,t):e instanceof cD?lD(e,t):function(e,t){var n=aD(e,t),r=fD(n)+fD(e.k);return VP(n)&&VP(e.k)?eD(r):$R(e.M,r)}(e,t)}function iD(e,t,n){return e instanceof sD?uD(e,t):e instanceof cD?lD(e,t):n}function aD(e,t){return e instanceof hD?VP(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var oD=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n)}(nD),sD=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).elements=e,r}return Jo(n)}(nD);function uD(e,t){var n,r=dD(t),i=Ml(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return DP(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cD=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).elements=e,r}return Jo(n)}(nD);function lD(e,t){var n,r=dD(t),i=Ml(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!DP(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hD=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this)).M=e,i.k=r,i}return Jo(n)}(nD);function fD(e){return _P(e.integerValue||e.doubleValue)}function dD(e){return BP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var pD=Jo((function e(t,n){Yo(this,e),this.field=t,this.transform=n}));var vD=Jo((function e(t,n){Yo(this,e),this.version=t,this.transformResults=n})),mD=function(){function e(t,n){Yo(this,e),this.updateTime=t,this.exists=n}return Jo(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function yD(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var gD=Jo((function e(){Yo(this,e)}));function _D(e,t,n){e instanceof ID?function(e,t,n){var r=e.value.clone(),i=SD(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof TD?function(e,t,n){if(yD(e.precondition,t)){var r=SD(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ED(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kD(e,t,n){e instanceof ID?function(e,t,n){if(yD(e.precondition,t)){var r=e.value.clone(),i=CD(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(xD(t),r).setHasLocalMutations()}}(e,t,n):e instanceof TD?function(e,t,n){if(yD(e.precondition,t)){var r=CD(e.fieldTransforms,n,t),i=t.data;i.setAll(ED(e)),i.setAll(r),t.convertToFoundDocument(xD(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){yD(e.precondition,t)&&t.convertToNoDocument(sP.min())}(e,t)}function wD(e,t){var n,r=null,i=Ml(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=aD(a.transform,o||null);null!=s&&(null==r&&(r=JP.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function bD(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&iP(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sD&&t instanceof sD||e instanceof cD&&t instanceof cD?iP(e.elements,t.elements,DP):e instanceof hD&&t instanceof hD?DP(e.k,t.k):e instanceof oD&&t instanceof oD}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xD(e){return e.isFoundDocument()?e.version:sP.min()}var ID=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Yo(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Jo(n)}(gD),TD=function(e){$o(n,e);var t=as(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Yo(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Jo(n)}(gD);function ED(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function SD(e,t,n){var r=new Map;BN(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,iD(o,s,n[i]))}return r}function CD(e,t,n){var r,i=new Map,a=Ml(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,rD(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var AD,ND,PD=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Jo(n)}(gD),RD=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Jo(n)}(gD),DD=Jo((function e(t){Yo(this,e),this.count=t}));function OD(e){switch(e){default:return VN();case qN.CANCELLED:case qN.UNKNOWN:case qN.DEADLINE_EXCEEDED:case qN.RESOURCE_EXHAUSTED:case qN.INTERNAL:case qN.UNAVAILABLE:case qN.UNAUTHENTICATED:return!1;case qN.INVALID_ARGUMENT:case qN.NOT_FOUND:case qN.ALREADY_EXISTS:case qN.PERMISSION_DENIED:case qN.FAILED_PRECONDITION:case qN.ABORTED:case qN.OUT_OF_RANGE:case qN.UNIMPLEMENTED:case qN.DATA_LOSS:return!0}}function MD(e){if(void 0===e)return FN("GRPC error has no .code"),qN.UNKNOWN;switch(e){case AD.OK:return qN.OK;case AD.CANCELLED:return qN.CANCELLED;case AD.UNKNOWN:return qN.UNKNOWN;case AD.DEADLINE_EXCEEDED:return qN.DEADLINE_EXCEEDED;case AD.RESOURCE_EXHAUSTED:return qN.RESOURCE_EXHAUSTED;case AD.INTERNAL:return qN.INTERNAL;case AD.UNAVAILABLE:return qN.UNAVAILABLE;case AD.UNAUTHENTICATED:return qN.UNAUTHENTICATED;case AD.INVALID_ARGUMENT:return qN.INVALID_ARGUMENT;case AD.NOT_FOUND:return qN.NOT_FOUND;case AD.ALREADY_EXISTS:return qN.ALREADY_EXISTS;case AD.PERMISSION_DENIED:return qN.PERMISSION_DENIED;case AD.FAILED_PRECONDITION:return qN.FAILED_PRECONDITION;case AD.ABORTED:return qN.ABORTED;case AD.OUT_OF_RANGE:return qN.OUT_OF_RANGE;case AD.UNIMPLEMENTED:return qN.UNIMPLEMENTED;case AD.DATA_LOSS:return qN.DATA_LOSS;default:return VN()}}(ND=AD||(AD={}))[ND.OK=0]="OK",ND[ND.CANCELLED=1]="CANCELLED",ND[ND.UNKNOWN=2]="UNKNOWN",ND[ND.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ND[ND.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ND[ND.NOT_FOUND=5]="NOT_FOUND",ND[ND.ALREADY_EXISTS=6]="ALREADY_EXISTS",ND[ND.PERMISSION_DENIED=7]="PERMISSION_DENIED",ND[ND.UNAUTHENTICATED=16]="UNAUTHENTICATED",ND[ND.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ND[ND.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ND[ND.ABORTED=10]="ABORTED",ND[ND.OUT_OF_RANGE=11]="OUT_OF_RANGE",ND[ND.UNIMPLEMENTED=12]="UNIMPLEMENTED",ND[ND.INTERNAL=13]="INTERNAL",ND[ND.UNAVAILABLE=14]="UNAVAILABLE",ND[ND.DATA_LOSS=15]="DATA_LOSS";var LD=function(){function e(t,n){Yo(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Jo(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ml(n);try{for(i.s();!(r=i.n()).done;){var a=Vo(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){cP(this.inner,(function(t,n){var r,i=Ml(n);try{for(i.s();!(r=i.n()).done;){var a=Vo(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return lP(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),FD=new cR(AP.comparator);function jD(){return FD}var UD=new cR(AP.comparator);function VD(){for(var e=UD,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function BD(){return new LD((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var zD=new cR(AP.comparator),qD=new fR(AP.comparator);function WD(){for(var e=qD,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var GD=new fR(rP);function KD(){return GD}var HD=function(){function e(t,n,r,i,a){Yo(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Jo(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,QD.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sP.min(),r,KD(),jD(),WD())}}]),e}(),QD=function(){function e(t,n,r,i,a){Yo(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Jo(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(mP.EMPTY_BYTE_STRING,n,WD(),WD(),WD())}}]),e}(),YD=Jo((function e(t,n,r,i){Yo(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),XD=Jo((function e(t,n){Yo(this,e),this.targetId=t,this.$=n})),JD=Jo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mP.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Yo(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ZD=function(){function e(){Yo(this,e),this.B=0,this.L=tO(),this.U=mP.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Jo(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=WD(),t=WD(),n=WD();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:VN()}})),new QD(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=tO()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),$D=function(){function e(t){Yo(this,e),this.nt=t,this.st=new Map,this.it=jD(),this.rt=eO(),this.ot=new fR(rP)}return Jo(e,[{key:"ut",value:function(e){var t,n=Ml(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ml(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:VN()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(_R(i))if(0===n){var a=new AP(i.path);this.ct(t,a,$P.newNoDocument(a,sP.min()))}else BN(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&_R(a.target)){var o=new AP(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,$P.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=WD();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new HD(e,n,this.ot,this.it,r);return this.it=jD(),this.rt=eO(),this.ot=new fR(rP),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new ZD,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new fR(rP),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||LN("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new ZD),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function eO(){return new cR(AP.comparator)}function tO(){return new cR(AP.comparator)}var nO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO=Jo((function e(t,n){Yo(this,e),this.databaseId=t,this.N=n}));function aO(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function oO(e,t){return e.N?t.toBase64():t.toUint8Array()}function sO(e,t){return aO(e,t.toTimestamp())}function uO(e){return BN(!!e),sP.fromTimestamp(function(e){var t=gP(e);return new oP(t.seconds,t.nanos)}(e))}function cO(e,t){return function(e){return new fP(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lO(e){var t=fP.fromString(e);return BN(DO(t)),t}function hO(e,t){return cO(e.databaseId,t.path)}function fO(e,t){var n=lO(t);if(n.get(1)!==e.databaseId.projectId)throw new WN(qN.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new WN(qN.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new AP(mO(n))}function dO(e,t){return cO(e.databaseId,t)}function pO(e){var t=lO(e);return 4===t.length?fP.emptyPath():mO(t)}function vO(e){return new fP(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mO(e){return BN(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yO(e,t,n){return{name:hO(e,t),fields:n.value.mapValue.fields}}function gO(e,t,n){var r=fO(e,t.name),i=uO(t.updateTime),a=new JP({mapValue:{fields:t.fields}}),o=$P.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function _O(e,t){return"found"in t?function(e,t){BN(!!t.found),t.found.name,t.found.updateTime;var n=fO(e,t.found.name),r=uO(t.found.updateTime),i=new JP({mapValue:{fields:t.found.fields}});return $P.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){BN(!!t.missing),BN(!!t.readTime);var n=fO(e,t.missing),r=uO(t.readTime);return $P.newNoDocument(n,r)}(e,t):VN()}function kO(e,t){var n;if(t instanceof ID)n={update:yO(e,t.key,t.value)};else if(t instanceof PD)n={delete:hO(e,t.key)};else if(t instanceof TD)n={update:yO(e,t.key,t.data),updateMask:RO(t.fieldMask)};else{if(!(t instanceof RD))return VN();n={verify:hO(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof oD)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sD)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cD)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hD)return{fieldPath:t.field.canonicalString(),increment:n.k};throw VN()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sO(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:VN()}(e,t.precondition)),n}function wO(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?mD.updateTime(uO(e.updateTime)):void 0!==e.exists?mD.exists(e.exists):mD.none()}(t.currentDocument):mD.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)BN("REQUEST_TIME"===t.setToServerValue),n=new oD;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new sD(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new cD(i)}else"increment"in t?n=new hD(e,t.increment):VN();var a=pP.fromServerFormat(t.fieldPath);return new pD(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=fO(e,t.update.name),a=new JP({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new vP(t.map((function(e){return pP.fromServerFormat(e)})))}(t.updateMask);return new TD(i,a,o,n,r)}return new ID(i,a,n,r)}if(t.delete){var s=fO(e,t.delete);return new PD(s,n)}if(t.verify){var u=fO(e,t.verify);return new RD(u,n)}return VN()}function bO(e,t){return{documents:[dO(e,t.path)]}}function xO(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dO(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dO(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qP(e.value))return{unaryFilter:{field:CO(e.field),op:"IS_NAN"}};if(zP(e.value))return{unaryFilter:{field:CO(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qP(e.value))return{unaryFilter:{field:CO(e.field),op:"IS_NOT_NAN"}};if(zP(e.value))return{unaryFilter:{field:CO(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:CO(e.field),op:SO(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:CO(e.field),direction:EO(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||EP(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function IO(e){var t=pO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){BN(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=TO(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new DR(AO(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return EP(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new RR(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new RR(n,t)}(n.endAt)),jR(t,i,s,o,u,"F",c,l)}function TO(e){return e?void 0!==e.unaryFilter?[PO(e)]:void 0!==e.fieldFilter?[NO(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return TO(e)})).reduce((function(e,t){return e.concat(t)})):VN():[]}function EO(e){return nO[e]}function SO(e){return rO[e]}function CO(e){return{fieldPath:e.canonicalString()}}function AO(e){return pP.fromServerFormat(e.fieldPath)}function NO(e){return xR.create(AO(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return VN()}}(e.fieldFilter.op),e.fieldFilter.value)}function PO(e){switch(e.unaryFilter.op){case"IS_NAN":var t=AO(e.unaryFilter.field);return xR.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=AO(e.unaryFilter.field);return xR.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=AO(e.unaryFilter.field);return xR.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=AO(e.unaryFilter.field);return xR.create(i,"!=",{nullValue:"NULL_VALUE"});default:return VN()}}function RO(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function DO(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function OO(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=LO(t)),t=MO(e.get(n),t);return LO(t)}function MO(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function LO(e){return e+"\x01\x01"}function FO(e){var t=e.length;if(BN(t>=2),2===t)return BN("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fP.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&VN(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:VN()}a=o+2}return new fP(r)}var jO=["userId","batchId"];function UO(e,t){return[e,OO(t)]}function VO(e,t,n){return[e,OO(t),n]}var BO={},zO=["prefixPath","collectionGroup","readTime","documentId"],qO=["prefixPath","collectionGroup","documentId"],WO=["collectionGroup","readTime","prefixPath","documentId"],GO=["canonicalId","targetId"],KO=["targetId","path"],HO=["path","targetId"],QO=["collectionId","parent"],YO=["indexId","uid"],XO=["uid","sequenceNumber"],JO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZO=["indexId","uid","orderedDocumentKey"],$O=["userId","collectionPath","documentId"],eM=["userId","collectionPath","largestBatchId"],tM=["userId","collectionGroup","largestBatchId"],nM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rM=[].concat(Qo(nM),["documentOverlays"]),iM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aM=[].concat(iM,["indexConfiguration","indexState","indexEntries"]),oM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sM=function(){function e(){Yo(this,e),this.onCommittedListeners=[]}return Jo(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),uM=function(){function e(t){var n=this;Yo(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Jo(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&VN(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ml(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),cM=function(){function e(t,n){var r=this;Yo(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new GN,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new fM(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=yM(e.target.error);r.At.reject(new fM(t,n))}}return Jo(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(LN("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new pM(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fM(n,t)}}}]),e}(),lM=function(){function e(t,n,r){Yo(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Jl())&&FN("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Jo(e,[{key:"Nt",value:function(){var e=Ol(Rl().mark((function e(t){var n=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return LN("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new fM(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new WN(qN.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new WN(qN.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new fM(t,n))},i.onupgradeneeded=function(e){LN("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){LN("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ol(Rl().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Rl().mark((function e(){var n,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=cM.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),uM.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,LN("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return LN("SimpleDb","Removing database:",e),vM(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!ih())return!1;if(e.St())return!0;var t=Jl(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/yes-wedding",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAO_APPKEY:"3dc1d032c1b57d7534b09b562373275d",REACT_APP_FIREBASE_APIKEY:"AIzaSyCmdbkjtH47HqFKrnnCg0nmuSch9bmoXp0",REACT_APP_FIREBASE_AUTHDOMAIN:"yes-wedding-29451.firebaseapp.com",REACT_APP_FIREBASE_DATABASEURL:"https://yes-wedding-29451-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECTID:"yes-wedding-29451",REACT_APP_FIREBASE_STORAGEBUCKET:"yes-wedding-29451.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"1010300792442",REACT_APP_FIREBASE_APPID:"1:1010300792442:web:d6858688466e8b838955c3"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),hM=function(){function e(t){Yo(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Jo(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return vM(this.Ft.delete())}}]),e}(),fM=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,qN.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Jo(n)}(WN);function dM(e){return"IndexedDbTransactionError"===e.name}var pM=function(){function e(t){Yo(this,e),this.store=t}return Jo(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(LN("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(LN("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vM(n)}},{key:"add",value:function(e){return LN("SimpleDb","ADD",this.store.name,e,e),vM(this.store.add(e))}},{key:"get",value:function(e){var t=this;return vM(this.store.get(e)).next((function(n){return void 0===n&&(n=null),LN("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return LN("SimpleDb","DELETE",this.store.name,e),vM(this.store.delete(e))}},{key:"count",value:function(){return LN("SimpleDb","COUNT",this.store.name),vM(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new uM((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new uM((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){LN("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new uM((function(n,r){t.onerror=function(e){var t=yM(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new uM((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new hM(i),o=t(i.primaryKey,i.value,a);if(o instanceof uM){var s=o.catch((function(e){return a.done(),uM.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return uM.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function vM(e){return new uM((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=yM(e.target.error);n(t)}}))}var mM=!1;function yM(e){var t=lM.Vt(Jl());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new WN("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return mM||(mM=!0,setTimeout((function(){throw r}),0)),r}}return e}var gM=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Jo(n)}(sM);function _M(e,t){var n=zN(e);return lM.xt(n.Ht,t)}var kM=function(){function e(t,n,r,i){Yo(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Jo(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_D(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ml(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&kD(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ml(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&kD(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sP.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),WD())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&iP(this.mutations,e.mutations,(function(e,t){return bD(e,t)}))&&iP(this.baseMutations,e.baseMutations,(function(e,t){return bD(e,t)}))}}]),e}(),wM=function(){function e(t,n,r,i){Yo(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Jo(e,null,[{key:"from",value:function(t,n,r){BN(t.mutations.length===r.length);for(var i=zD,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),bM=function(){function e(t,n){Yo(this,e),this.largestBatchId=t,this.mutation=n}return Jo(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sP.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sP.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mP.EMPTY_BYTE_STRING;Yo(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Jo(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),IM=Jo((function e(t){Yo(this,e),this.Jt=t}));function TM(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:EM(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:hO(e,t.key),fields:t.data.value.mapValue.fields,updateTime:aO(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:SM(t.version)};else{if(!t.isUnknownDocument())return VN();r.unknownDocument={path:n.path.toArray(),version:SM(t.version)}}return r}function EM(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function SM(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function CM(e){var t=new oP(e.seconds,e.nanoseconds);return sP.fromTimestamp(t)}function AM(e,t){for(var n=(t.baseMutations||[]).map((function(t){return wO(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return wO(e.Jt,t)})),s=oP.fromMillis(t.localWriteTimeMs);return new kM(t.batchId,s,n,o)}function NM(e){var t,n,r=CM(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?CM(e.lastLimboFreeSnapshotVersion):sP.min();return void 0!==e.query.documents?(BN(1===(n=e.query).documents.length),t=WR(UR(pO(n.documents[0])))):t=function(e){return WR(IO(e))}(e.query),new xM(t,e.targetId,0,e.lastListenSequenceNumber,r,i,mP.fromBase64String(e.resumeToken))}function PM(e,t){var n,r=SM(t.snapshotVersion),i=SM(t.lastLimboFreeSnapshotVersion);n=_R(t.target)?bO(e.Jt,t.target):xO(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yR(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function RM(e){var t=IO({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?GR(t,t.limit,"L"):t}function DM(e,t){return new bM(t.largestBatchId,wO(e.Jt,t.overlayMutation))}function OM(e,t){var n=t.path.lastSegment();return[e,OO(t.path.popLast()),n]}var MM=function(){function e(){Yo(this,e)}return Jo(e,[{key:"getBundleMetadata",value:function(e,t){return LM(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:CM(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return LM(e).put({bundleId:(n=t).id,createTime:SM(uO(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return FM(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:RM(t.bundledQuery),readTime:CM(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return FM(e).put(function(e){return{name:e.name,readTime:SM(uO(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function LM(e){return _M(e,"bundles")}function FM(e){return _M(e,"namedQueries")}var jM=function(){function e(t,n){Yo(this,e),this.M=t,this.userId=n}return Jo(e,[{key:"getOverlay",value:function(e,t){var n=this;return UM(e).get(OM(this.userId,t)).next((function(e){return e?DM(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new bM(t,a);i.push(r.Xt(e,o))})),uM.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(OO(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(UM(e).Qt("collectionPathOverlayIndex",i))})),uM.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=BD(),a=OO(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return UM(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Ml(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=DM(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=BD(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return UM(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=DM(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return UM(e).put(function(e,t,n){var r=Vo(OM(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:kO(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function UM(e){return _M(e,"documentOverlays")}var VM=function(){function e(){Yo(this,e)}return Jo(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_P(e.integerValue));else if("doubleValue"in e){var n=_P(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),SP(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(kP(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?KP(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):VN()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Ml(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),AP.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function BM(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function zM(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=BM(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}VM.fe=new VM;var qM=function(){function e(){Yo(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Jo(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Ml(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Ml(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=zM(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=zM(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),WM=function(){function e(t){Yo(this,e),this.De=t}return Jo(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),GM=function(){function e(t){Yo(this,e),this.De=t}return Jo(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),KM=function(){function e(){Yo(this,e),this.De=new qM,this.Ce=new WM(this.De),this.xe=new GM(this.De)}return Jo(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),HM=function(){function e(t,n,r,i){Yo(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Jo(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function QM(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=YM(e.arrayValue,t.arrayValue))?n:0!==(n=YM(e.directionalValue,t.directionalValue))?n:AP.comparator(e.documentKey,t.documentKey)}function YM(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var XM=function(){function e(t){Yo(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Ml(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Jo(e,[{key:"$e",value:function(e){var t=tR(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=nR(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Ml(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),JM=function(){function e(){Yo(this,e),this.qe=new ZM}return Jo(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),uM.resolve()}},{key:"getCollectionParents",value:function(e,t){return uM.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return uM.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return uM.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return uM.resolve(null)}},{key:"getIndexType",value:function(e,t){return uM.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return uM.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return uM.resolve(null)}},{key:"getMinOffset",value:function(e,t){return uM.resolve(sR.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return uM.resolve()}},{key:"updateIndexEntries",value:function(e,t){return uM.resolve()}}]),e}(),ZM=function(){function e(){Yo(this,e),this.index={}}return Jo(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fR(fP.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fR(fP.comparator)).toArray()}}]),e}(),$M=new Uint8Array(0),eL=function(){function e(t,n){Yo(this,e),this.user=t,this.databaseId=n,this.Ke=new ZM,this.Ge=new LD((function(e){return yR(e)}),(function(e,t){return gR(e,t)})),this.uid=t.uid||""}return Jo(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:OO(i)};return tL(e).put(a)}return uM.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[aP(t),""],!1,!0);return tL(e).qt(r).next((function(e){var r,i=Ml(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(FO(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=rL(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=rL(e),r=iL(e),i=nL(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=nL(e),i=!0,a=new Map;return uM.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=WD(),o=[];return uM.forEach(a,(function(i,a){var s;LN("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(yR(t)));var u=function(e,t){var n=tR(t);if(void 0===n)return null;var r,i=Ml(kR(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ml(nR(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Ml(kR(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ml(nR(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?wR(e,o.fieldPath,e.startAt):bR(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new RR(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=Ml(nR(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?bR(e,o.fieldPath,e.endAt):wR(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new RR(r,i)}(a,i),f=n.We(i,a,l),d=n.We(i,a,h),p=n.ze(i,a,c),v=n.He(i.indexId,u,f,l.inclusive,d,h.inclusive,p);return uM.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=AP.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return uM.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(u){var h=t?s.Je(t[u/c]):$M,f=s.Ye(e,h,n[u%c],r),d=s.Xe(e,h,i[u%c],a),p=o.map((function(t){return s.Ye(e,h,t,!0)}));l.push.apply(l,Qo(s.createRange(f,d,p)))},f=0;f<u;++f)h(f);return l}},{key:"Ye",value:function(e,t,n,r){var i=new HM(e,AP.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new HM(e,AP.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new XM(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ml(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return uM.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new fR(pP.comparator),r=!1,i=Ml(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=Ml(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new KM,i=Ml(nR(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);VM.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new KM;return VM.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new KM;return VM.fe.Zt(UP(this.databaseId,t),n.Ne(function(e){var t=nR(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new KM);var i,a=0,o=Ml(nR(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Ml(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.en(t,u.fieldPath)&&BP(c))r=this.nn(r,u,c);else{var f=h.Ne(u.kind);VM.fe.Zt(c,f)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Qo(e),a=[],o=Ml(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Ml(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new KM;h.seed(l.Se()),VM.fe.Zt(u,h.Ne(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof xR&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=rL(e),i=iL(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return uM.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new iR(t.sequenceNumber,new sR(CM(t.readTime),new AP(FO(t.documentKey)),t.largestBatchId)):iR.empty(),r=e.fields.map((function(e){var t=Vo(e,2),n=t[0],r=t[1];return new rR(pP.fromServerFormat(n),r)}));return new eR(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rP(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=rL(e),a=iL(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return uM.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:SM(r.readTime),documentKey:OO(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return uM.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?uM.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),uM.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?uM.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return nL(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return nL(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=nL(e),i=new fR(QM);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new HM(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new fR(QM),r=this.Ze(t,e);if(null==r)return n;var i=tR(t);if(null!=i){var a=e.data.field(i.fieldPath);if(BP(a)){var o,s=Ml(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new HM(t.indexId,e.key,this.Je(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new HM(t.indexId,e.key,$M,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;LN("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=pR(a),u=pR(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=pR(o)):l?(i(s),s=pR(a)):(s=pR(a),u=pR(o))}}(r,i,QM,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),uM.waitFor(o)}},{key:"rn",value:function(e){var t=1;return iL(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return QM(e,t)})).filter((function(e,t,n){return!t||0!==QM(e,n[t-1])}));var r=[];r.push(e);var i,a=Ml(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=QM(o,e),u=QM(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,$M,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,$M,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return uM.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||uR(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=sR.min()}))})).next((function(){return n}))}}]),e}();function tL(e){return _M(e,"collectionParents")}function nL(e){return _M(e,"indexEntries")}function rL(e){return _M(e,"indexConfiguration")}function iL(e){return _M(e,"indexState")}var aL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oL=function(){function e(t,n,r){Yo(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Jo(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function sL(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){BN(1===s)})));var c,l=[],h=Ml(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=VO(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return uM.waitFor(a).next((function(){return l}))}function uL(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw VN();t=e.noDocument}return JSON.stringify(t).length}oL.DEFAULT_COLLECTION_PERCENTILE=10,oL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oL.DEFAULT=new oL(41943040,oL.DEFAULT_COLLECTION_PERCENTILE,oL.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oL.DISABLED=new oL(-1,0,0);var cL=function(){function e(t,n,r,i){Yo(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Jo(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hL(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=fL(e),o=hL(e);return o.add({}).next((function(s){BN("number"==typeof s);var u,c=new kM(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return kO(e.Jt,t)})),i=n.mutations.map((function(t){return kO(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),h=[],f=new fR((function(e,t){return rP(e.canonicalString(),t.canonicalString())})),d=Ml(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=VO(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,BO))}}catch(m){d.e(m)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=c.keys()})),uM.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return hL(e).get(t).next((function(e){return e?(BN(e.userId===n.userId),AM(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?uM.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return hL(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(BN(t.batchId>=r),a=AM(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hL(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hL(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return AM(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=UO(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return fL(e).Wt({range:i},(function(r,i,o){var s=Vo(r,3),u=s[0],c=s[1],l=s[2],h=FO(c);if(u===n.userId&&t.path.isEqual(h))return hL(e).get(l).next((function(e){if(!e)throw VN();BN(e.userId===n.userId),a.push(AM(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fR(rP),i=[];return t.forEach((function(t){var a=UO(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=fL(e).Wt({range:o},(function(e,i,a){var o=Vo(e,3),s=o[0],u=o[1],c=o[2],l=FO(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),uM.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=UO(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new fR(rP);return fL(e).Wt({range:o},(function(e,t,a){var o=Vo(e,3),u=o[0],c=o[1],l=o[2],h=FO(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hL(e).get(t).next((function(e){if(null===e)throw VN();BN(e.userId===n.userId),r.push(AM(n.M,e))})))})),uM.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return sL(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),uM.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return uM.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return fL(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=FO(e[1]);i.push(a)}else r.done()})).next((function(){BN(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return lL(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return dL(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return BN(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function lL(e,t,n){var r=UO(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return fL(e).Wt({range:a,jt:!0},(function(e,n,r){var a=Vo(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function hL(e){return _M(e,"mutations")}function fL(e){return _M(e,"documentMutations")}function dL(e){return _M(e,"mutationQueues")}var pL=function(){function e(t){Yo(this,e),this.mn=t}return Jo(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),vL=function(){function e(t,n){Yo(this,e),this.referenceDelegate=t,this.M=n}return Jo(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new pL(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return sP.fromTimestamp(new oP(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return mL(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return BN(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return mL(e).Wt((function(o,s){var u=NM(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return uM.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return mL(e).Wt((function(e,n){var r=NM(n);t(r)}))}},{key:"pn",value:function(e){return yL(e).get("targetGlobalKey").next((function(e){return BN(null!==e),e}))}},{key:"In",value:function(e,t){return yL(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return mL(e).put(PM(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=yR(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mL(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=NM(n);gR(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=gL(e);return t.forEach((function(t){var o=OO(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),uM.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=gL(e);return uM.forEach(t,(function(t){var a=OO(t.path);return uM.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=gL(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gL(e),i=WD();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=FO(e[1]),a=new AP(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=OO(t.path),r=IDBKeyRange.bound([n],[aP(n)],!1,!0),i=0;return gL(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=Vo(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return mL(e).get(t).next((function(e){return e?NM(e):null}))}}]),e}();function mL(e){return _M(e,"targets")}function yL(e){return _M(e,"targetGlobal")}function gL(e){return _M(e,"targetDocuments")}function _L(e){return kL.apply(this,arguments)}function kL(){return kL=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===qN.FAILED_PRECONDITION&&t.message===oM){e.next=2;break}throw t;case 2:LN("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),kL.apply(this,arguments)}function wL(e,t){var n=Vo(e,2),r=n[0],i=n[1],a=Vo(t,2),o=a[0],s=a[1],u=rP(r,o);return 0===u?rP(i,s):u}var bL=function(){function e(t){Yo(this,e),this.An=t,this.buffer=new fR(wL),this.Rn=0}return Jo(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wL(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xL=function(){function e(t,n){Yo(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Jo(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;LN("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ol(Rl().mark((function n(){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!dM(n.t0)){n.next=12;break}LN("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,_L(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),IL=function(){function e(t,n){Yo(this,e),this.Dn=t,this.params=n}return Jo(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return uM.resolve(eP.A);var r=new bL(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(LN("LruGarbageCollector","Garbage collection skipped; disabled"),uM.resolve(aL)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(LN("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),aL):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(LN("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),MN()<=Rh.DEBUG&&LN("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),uM.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),TL=function(){function e(t,n){Yo(this,e),this.db=t,this.garbageCollector=function(e,t){return new IL(e,t)}(this,n)}return Jo(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return EL(e,n)}},{key:"removeReference",value:function(e,t,n){return EL(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return EL(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return dL(e).zt((function(r){return lL(e,r,t).next((function(e){return e&&(n=!0),uM.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,s){if(s<=t){var u=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,sP.min()),gL(e).delete([0,OO(o.path)])}))}));i.push(u)}})).next((function(){return uM.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return EL(e,t)}},{key:"Mn",value:function(e,t){var n,r=gL(e),i=eP.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=Vo(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==eP.A&&t(new AP(FO(n)),i),i=u,n=s):i=eP.A})).next((function(){i!==eP.A&&t(new AP(FO(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function EL(e,t){return gL(e).put(function(e,t){return{targetId:0,path:OO(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var SL=function(){function e(){Yo(this,e),this.changes=new LD((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Jo(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$P.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?uM.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),CL=function(){function e(t){Yo(this,e),this.M=t}return Jo(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return PL(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return PL(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],EM(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=$P.newInvalidDocument(t);return PL(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(RL(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:$P.newInvalidDocument(t)};return PL(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(RL(t))},(function(e,i){r={document:n.$n(t,i),size:uL(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=jD();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=jD(),i=new cR(AP.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,uL(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return uM.resolve();var r=new fR(OL);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(RL(r.first()),RL(r.last())),a=r.getIterator(),o=a.getNext();return PL(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=AP.fromSegments([].concat(Qo(t.prefixPath),[t.collectionGroup,t.documentId]));o&&OL(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(RL(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),EM(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return PL(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=jD(),i=Ml(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(AP.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=jD(),o=DL(t,n),s=DL(t,sR.max());return PL(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.$n(AP.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new AL(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return NL(e).get("remoteDocumentGlobalKey").next((function(e){return BN(!!e),e}))}},{key:"Fn",value:function(e,t){return NL(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=gO(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=AP.fromSegments(t.noDocument.path),i=CM(t.noDocument.readTime);n=$P.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return VN();var a=AP.fromSegments(t.unknownDocument.path),o=CM(t.unknownDocument.version);n=$P.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new oP(e[0],e[1]);return sP.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(sP.min()))return n}return $P.newInvalidDocument(e)}}]),e}(),AL=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new LD((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Jo(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new fR((function(e,t){return rP(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=TM(t.Kn.M,o);i=i.add(a.path.popLast());var c=uL(u);r+=c-s.size,n.push(t.Kn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=TM(t.Kn.M,o.convertToNoDocument(sP.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),uM.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(SL);function NL(e){return _M(e,"remoteDocumentGlobal")}function PL(e){return _M(e,"remoteDocumentsV14")}function RL(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function DL(e,t){var n=t.documentKey.path.toArray();return[e,EM(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function OL(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=rP(n[a],r[a]))return i;return(i=rP(n.length,r.length))||((i=rP(n[n.length-2],r[r.length-2]))||rP(n[n.length-1],r[r.length-1]))}var ML=function(){function e(t){Yo(this,e),this.M=t}return Jo(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new cM("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jO,{unique:!0}),e.createObjectStore("documentMutations")}(e),LL(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=uM.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),LL(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sP.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jO,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return uM.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:$O});t.createIndex("collectionPathOverlayIndex",eM,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tM,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:zO});t.createIndex("documentKeyIndex",qO),t.createIndex("collectionGroupIndex",WO)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:YO}).createIndex("sequenceNumberIndex",XO,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:JO}).createIndex("documentKeyIndex",ZO,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=uL(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return uM.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return uM.forEach(r,(function(r){BN(r.userId===n.userId);var i=AM(t.M,r);return sL(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new fP(n),o=function(e){return[0,OO(e)]}(a);r.push(t.get(o).next((function(n){return n?uM.resolve():function(n){return t.put({targetId:0,path:OO(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return uM.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:QO});var n=t.store("collectionParents"),r=new ZM,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:OO(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new fP(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=Vo(e,3),r=(n[0],n[1]),a=(n[2],FO(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=NM(r),a=PM(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new AP(fP.fromString(i.document.name).popFirst(5)):i.noDocument?AP.fromSegments(i.noDocument.path):i.unknownDocument?AP.fromSegments(i.unknownDocument.path):VN()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return uM.waitFor(r)}))}}]),e}();function LL(e){e.createObjectStore("targetDocuments",{keyPath:KO}).createIndex("documentTargetsIndex",HO,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GO,{unique:!0}),e.createObjectStore("targetGlobal")}var FL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jL=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Yo(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=s,this.Xn=c,this.Zn=l,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new WN(qN.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TL(this,i),this.hs=n+"main",this.M=new IM(u),this.ls=new lM(this.hs,this.ts,new ML(this.M)),this.fs=new vL(this.referenceDelegate,this.M),this.ds=function(e){return new CL(e)}(this.M),this._s=new MM,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&FN("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Jo(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new WN(qN.FAILED_PRECONDITION,FL);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new eP(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Ol(Rl().mark((function n(r){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Ol(Rl().mark((function t(n){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return VL(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(dM(t))return LN("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return LN("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return UL(e).get("owner").next((function(e){return uM.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return VL(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i,a=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=_M(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return uM.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Ml(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?uM.resolve(!0):UL(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new WN(qN.FAILED_PRECONDITION,FL);return!1}}return!(!t.networkEnabled||!t.inForeground)||VL(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&LN("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ol(Rl().mark((function e(){var t=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new gM(e,eP.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return VL(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return cL.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new eL(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return jM.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;LN("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.ts)?aM:13===i?iM:12===i?rM:11===i?nM:void VN();return this.ls.runTransaction(e,o,s,(function(i){return a=new gM(i,r.es?r.es.next():eP.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw FN("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new WN(qN.FAILED_PRECONDITION,oM);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return UL(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new WN(qN.FAILED_PRECONDITION,FL)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return UL(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=UL(e);return n.get("owner").next((function(e){return t.Ps(e)?(LN("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):uM.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(FN("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!$l()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return LN("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return FN("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(RE){FN("Failed to set zombie client id.",RE)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(RE){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return lM.vt()}}]),e}();function UL(e){return _M(e,"owner")}function VL(e){return _M(e,"clientMetadata")}function BL(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zL=function(){function e(t,n,r){Yo(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Jo(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Ml(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Ml(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return AP.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):zR(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new AP(t)).next((function(e){var t=VD();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=VD();return this.indexManager.getCollectionParents(e,i).next((function(o){return uM.forEach(o,(function(o){var s=function(e,t){return new FR(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Ml(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Ml(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=$P.newInvalidDocument(u),r=r.insert(u,c)),kD(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){YR(t,n)||(r=r.remove(e))})),r}))}}]),e}(),qL=function(){function e(t,n,r,i){Yo(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Jo(e,null,[{key:"Ys",value:function(t,n){var r,i=WD(),a=WD(),o=Ml(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),WL=function(){function e(){Yo(this,e),this.Xs=!1}return Jo(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return uM.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(sP.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(MN()<=Rh.DEBUG&&LN("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),QR(t)),i.ri(e,o,t,aR(r,-1)))}))}},{key:"si",value:function(e,t){var n=new fR(JR(e));return t.forEach((function(t,r){YR(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return MN()<=Rh.DEBUG&&LN("QueryEngine","Using full collection scan to execute query:",QR(t)),this.Zs.Qs(e,t,sR.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),GL=function(){function e(t,n,r,i){Yo(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new cR(rP),this.ai=new LD((function(e){return yR(e)}),gR),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Jo(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new zL(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function KL(e,t,n,r){return new GL(e,t,n,r)}function HL(e,t){return QL.apply(this,arguments)}function QL(){return QL=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=WD(),u=Ml(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=Ml(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=Ml(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ml(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){p.e(_)}finally{p.f()}return r.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),QL.apply(this,arguments)}function YL(e,t){var n=zN(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=uM.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);BN(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function XL(e){var t=zN(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function JL(e,t){var n=zN(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(mP.EMPTY_BYTE_STRING,sP.min()).withLastLimboFreeSnapshotVersion(sP.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=jD();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ZL(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(sP.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return uM.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ui=i,e}))}function ZL(e,t,n){var r=WD();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=jD();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(sP.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):LN("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function $L(e,t){var n=zN(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function eF(e,t){var n=zN(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,uM.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new xM(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function tF(e,t,n){return nF.apply(this,arguments)}function nF(){return nF=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zN(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),dM(e.t1)){e.next=12;break}throw e.t1;case 12:LN("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),nF.apply(this,arguments)}function rF(e,t,n){var r=zN(e),i=sP.min(),a=WD();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zN(e),i=r.ai.get(n);return void 0!==i?uM.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,WR(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:sP.min(),n?a:WD())})).next((function(e){return oF(r,XR(t),e),{documents:e,_i:a}}))}))}function iF(e,t){var n=zN(e),r=zN(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function aF(e,t){var n=zN(e),r=n.ci.get(t)||sP.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,aR(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return oF(n,t,e),e}))}function oF(e,t,n){var r=sP.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function sF(e,t,n,r){return uF.apply(this,arguments)}function uF(){return uF=Ol(Rl().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=zN(t),o=WD(),s=jD(),u=Ml(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.wi(l.metadata.name),l.document&&(o=o.add(h)),(f=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,eF(a,function(e){return WR(UR(fP.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ZL(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),uF.apply(this,arguments)}function cF(e,t){return lF.apply(this,arguments)}function lF(){return lF=Ol(Rl().mark((function e(t,n){var r,i,a,o=arguments;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:WD(),e.next=3,eF(t,WR(RM(n.bundledQuery)));case 3:return i=e.sent,a=zN(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=uO(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(mP.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),lF.apply(this,arguments)}var hF=function(){function e(t){Yo(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Jo(e,[{key:"getBundleMetadata",value:function(e,t){return uM.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:uO(n.createTime)}),uM.resolve()}},{key:"getNamedQuery",value:function(e,t){return uM.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:RM(e.bundledQuery),readTime:uO(e.readTime)}}(t)),uM.resolve()}}]),e}(),fF=function(){function e(){Yo(this,e),this.overlays=new cR(AP.comparator),this.Ii=new Map}return Jo(e,[{key:"getOverlay",value:function(e,t){return uM.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),uM.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),uM.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=BD(),i=t.length+1,a=new AP(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return uM.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new cR((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=BD(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=BD(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return uM.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new bM(t,n));var a=this.Ii.get(t);void 0===a&&(a=WD(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),dF=function(){function e(){Yo(this,e),this.Ti=new fR(pF.Ei),this.Ai=new fR(pF.Ri)}return Jo(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new pF(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new pF(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new AP(new fP([])),r=new pF(n,e),i=new pF(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new AP(new fP([])),n=new pF(t,e),r=new pF(t,e+1),i=WD();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new pF(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),pF=function(){function e(t,n){Yo(this,e),this.key=t,this.Ci=n}return Jo(e,null,[{key:"Ei",value:function(e,t){return AP.comparator(e.key,t.key)||rP(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return rP(e.Ci,t.Ci)||AP.comparator(e.key,t.key)}}]),e}(),vF=function(){function e(t,n){Yo(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new fR(pF.Ei)}return Jo(e,[{key:"checkEmpty",value:function(e){return uM.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new kM(i,t,n,r);this.Bs.push(a);var o,s=Ml(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ni=this.Ni.add(new pF(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return uM.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return uM.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return uM.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return uM.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return uM.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new pF(t,0),i=new pF(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),uM.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fR(rP);return t.forEach((function(e){var t=new pF(e,0),i=new pF(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),uM.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;AP.isDocumentKey(i)||(i=i.child(""));var a=new pF(new AP(i),0),o=new fR(rP);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),uM.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;BN(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return uM.forEach(t.mutations,(function(i){var a=new pF(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new pF(t,0),r=this.Ni.firstAfterOrEqual(n);return uM.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,uM.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),mF=function(){function e(t){Yo(this,e),this.$i=t,this.docs=new cR(AP.comparator),this.size=0}return Jo(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return uM.resolve(n?n.document.mutableCopy():$P.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=jD();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$P.newInvalidDocument(e))})),uM.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=jD(),i=new AP(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||uR(oR(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return uM.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){VN()}},{key:"Bi",value:function(e,t){return uM.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new yF(this)}},{key:"getSize",value:function(e){return uM.resolve(this.size)}}]),e}(),yF=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).Kn=e,r}return Jo(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),uM.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(SL),gF=function(){function e(t){Yo(this,e),this.persistence=t,this.Li=new LD((function(e){return yR(e)}),gR),this.lastRemoteSnapshotVersion=sP.min(),this.highestTargetId=0,this.Ui=0,this.qi=new dF,this.targetCount=0,this.Ki=pL.gn()}return Jo(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),uM.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return uM.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return uM.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),uM.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),uM.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new pL(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,uM.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),uM.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,uM.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),uM.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return uM.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return uM.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),uM.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),uM.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),uM.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return uM.resolve(n)}},{key:"containsKey",value:function(e,t){return uM.resolve(this.qi.containsKey(t))}}]),e}(),_F=function(){function e(t,n){var r=this;Yo(this,e),this.Gi={},this.overlays={},this.es=new eP(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new gF(this),this.indexManager=new JM,this.ds=new mF((function(e){return r.referenceDelegate.Qi(e)})),this.M=new IM(n),this._s=new hF(this.M)}return Jo(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fF,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new vF(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;LN("MemoryPersistence","Starting transaction:",e);var i=new kF(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return uM.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),kF=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Jo(n)}(sM),wF=function(){function e(t){Yo(this,e),this.persistence=t,this.Hi=new dF,this.Ji=null}return Jo(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw VN()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),uM.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),uM.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),uM.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uM.forEach(this.Xi,(function(r){var i=AP.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,sP.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return uM.or([function(){return uM.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function bF(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xF(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function IF(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var TF=function(){function e(t,n,r,i){Yo(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Jo(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new WN(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(FN("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),EF=function(){function e(t,n,r){Yo(this,e),this.targetId=t,this.state=n,this.error=r}return Jo(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new WN(i.error.code,i.error.message))),a?new e(t,i.state,r):(FN("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),SF=function(){function e(t,n){Yo(this,e),this.clientId=t,this.activeTargetIds=n}return Jo(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=KD(),o=0;i&&o<r.activeTargetIds.length;++o)i=CP(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(FN("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),CF=function(){function e(t,n){Yo(this,e),this.clientId=t,this.onlineState=n}return Jo(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(FN("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),AF=function(){function e(){Yo(this,e),this.activeTargetIds=KD()}return Jo(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),NF=function(){function e(t,n,r,i,a){Yo(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new cR(rP),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=bF(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new AF),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return Jo(e,[{key:"start",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Ml(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(bF(this.persistenceKey,i)))&&(o=SF.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(s=this.storage.getItem(this.mr))&&(u=this.pr(s))&&this.Ir(u),c=Ml(this.cr);try{for(c.s();!(l=c.n()).done;)h=l.value,this.ur(h)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(IF(this.persistenceKey,e));if(n){var r=EF.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(IF(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return LN("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){LN("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){LN("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(LN("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void FN("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Ol(Rl().mark((function e(){var r,i,a,o,s,u,c;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(s));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}u=function(e){var t=eP.A;if(null!=e)try{var n=JSON.parse(e);BN("number"==typeof n),t=n}catch(e){FN("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==eP.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new TF(this.currentUser,e,t,n),i=xF(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=xF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=IF(this.persistenceKey,e),i=new EF(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return SF.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return TF.tr(new RN(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return EF.tr(r,t)}},{key:"pr",value:function(e){return CF.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:LN("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Lr(o,s).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=KD();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),PF=function(){function e(){Yo(this,e),this.Ur=new AF,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Jo(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new AF,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),RF=function(){function e(){Yo(this,e)}return Jo(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),DF=function(){function e(){var t=this;Yo(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Jo(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){LN("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ml(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){LN("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ml(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),OF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},MF=function(){function e(t){Yo(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Jo(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),LF=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Jo(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new NN;o.listenOnce(TN.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case IN.NO_ERROR:var t=o.getResponseJson();LN("Connection","XHR received:",JSON.stringify(t)),i(t);break;case IN.TIMEOUT:LN("Connection",'RPC "'+e+'" timed out'),a(new WN(qN.DEADLINE_EXCEEDED,"Request time out"));break;case IN.HTTP_ERROR:var n=o.getStatus();if(LN("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qN).indexOf(t)>=0?t:qN.UNKNOWN}(r.status);a(new WN(s,r.message))}else a(new WN(qN.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new WN(qN.UNAVAILABLE,"Connection failed."));break;default:VN()}}finally{LN("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=bN(),a=xN(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new CN({})),this.lo(o.initMessageHeaders,t,n),Zl()||th()||Jl().indexOf("Electron/")>=0||nh()||Jl().indexOf("MSAppHost/")>=0||eh()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");LN("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new MF({Jr:function(e){l?LN("Connection","Not sending because WebChannel is closed:",e):(c||(LN("Connection","Opening WebChannel transport."),u.open(),c=!0),LN("Connection","WebChannel sending:",e),u.send(e))},Yr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,AN.EventType.OPEN,(function(){l||LN("Connection","WebChannel transport opened.")})),f(u,AN.EventType.CLOSE,(function(){l||(l=!0,LN("Connection","WebChannel transport closed"),h.ro())})),f(u,AN.EventType.ERROR,(function(e){l||(l=!0,jN("Connection","WebChannel transport errored:",e),h.ro(new WN(qN.UNAVAILABLE,"The operation could not be completed")))})),f(u,AN.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];BN(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){LN("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=AD[e];if(void 0!==t)return MD(t)}(a),s=i.message;void 0===o&&(o=qN.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.ro(new WN(o,s)),u.close()}else LN("Connection","WebChannel received:",n),h.oo(n)}})),f(a,EN.STAT_EVENT,(function(e){e.stat===SN.PROXY?LN("Connection","Detected buffering proxy"):e.stat===SN.NOPROXY&&LN("Connection","Detected no buffering proxy")})),setTimeout((function(){h.io()}),0),h}}]),n}(function(){function e(t){Yo(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Jo(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);LN("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return LN("RestConnection","Received: ",e),e}),(function(t){throw jN("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+DN,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=OF[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function FF(){return"undefined"!=typeof window?window:null}function jF(){return"undefined"!=typeof document?document:null}function UF(e){return new iO(e,!0)}var VF=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Yo(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Jo(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&LN("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),BF=function(){function e(t,n,r,i,a,o,s,u){Yo(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new VF(t,n)}return Jo(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===qN.RESOURCE_EXHAUSTED?(FN(n.toString()),FN("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===qN.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Vo(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new WN(qN.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return LN("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(LN("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),zF=function(e){$o(n,e);var t=as(n);function n(e,r,i,a,o,s){var u;return Yo(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return Jo(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:VN()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(BN(void 0===t||"string"==typeof t),mP.fromBase64String(t||"")):(BN(void 0===t||t instanceof Uint8Array),mP.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?qN.UNKNOWN:MD(e.code);return new WN(t,e.message||"")}(o);n=new JD(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=fO(e,u.document.name),l=uO(u.document.updateTime),h=new JP({mapValue:{fields:u.document.fields}}),f=$P.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new YD(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=fO(e,v.document),y=v.readTime?uO(v.readTime):sP.min(),g=$P.newNoDocument(m,y),_=v.removedTargetIds||[];n=new YD([],_,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=fO(e,k.document),b=k.removedTargetIds||[];n=new YD([],b,w,null)}else{if(!("filter"in t))return VN();t.filter;var x=t.filter;x.targetId;var I=x.count||0,T=new DD(I),E=x.targetId;n=new XD(E,T)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return sP.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sP.min():t.readTime?uO(t.readTime):sP.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=vO(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=_R(r)?{documents:bO(e,r)}:{query:xO(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=oO(e,t.resumeToken):t.snapshotVersion.compareTo(sP.min())>0&&(n.readTime=aO(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return VN()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=vO(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(BF),qF=function(e){$o(n,e);var t=as(n);function n(e,r,i,a,o,s){var u;return Yo(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Yo=!1,u}return Jo(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,a_(es(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(BN(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(BN(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?uO(e.updateTime):uO(t);return n.isEqual(sP.min())&&(n=uO(t)),new vD(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=uO(e.commitTime);return this.listener.tu(n,t)}return BN(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=vO(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return kO(t.M,e)}))};this.Lo(n)}}]),n}(BF),WF=function(e){$o(n,e);var t=as(n);function n(e,r,i,a){var o;return Yo(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Jo(n,[{key:"iu",value:function(){if(this.su)throw new WN(qN.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Vo(i,2),o=a[0],s=a[1];return r.So.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qN.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new WN(qN.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Vo(i,2),o=a[0],s=a[1];return r.So._o(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qN.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new WN(qN.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Jo((function e(){Yo(this,e)}))}()),GF=function(){function e(t,n){Yo(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Jo(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(FN(t),this.uu=!1):LN("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),KF=Jo((function e(t,n,r,i,a){var o=this;Yo(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=rj(o),!e.t0){e.next=5;break}return LN("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zN(t)).wu.add(4),e.next=4,YF(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,HF(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new GF(r,i)}));function HF(e){return QF.apply(this,arguments)}function QF(){return QF=Ol(Rl().mark((function e(t){var n,r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rj(t)){e.next=18;break}n=Ml(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),QF.apply(this,arguments)}function YF(e){return XF.apply(this,arguments)}function XF(){return XF=Ol(Rl().mark((function e(t){var n,r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ml(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),XF.apply(this,arguments)}function JF(e,t){var n=zN(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),nj(n)?tj(n):Rj(n).Mo()&&$F(n,t))}function ZF(e,t){var n=zN(e),r=Rj(n);n._u.delete(t),r.Mo()&&ej(n,t),0===n._u.size&&(r.Mo()?r.$o():rj(n)&&n.yu.set("Unknown"))}function $F(e,t){e.pu.Z(t.targetId),Rj(e).Ho(t)}function ej(e,t){e.pu.Z(t),Rj(e).Jo(t)}function tj(e){e.pu=new $D({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Rj(e).start(),e.yu.au()}function nj(e){return rj(e)&&!Rj(e).ko()&&e._u.size>0}function rj(e){return 0===zN(e).wu.size}function ij(e){e.pu=void 0}function aj(e){return oj.apply(this,arguments)}function oj(){return oj=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){$F(t,e)}));case 1:case"end":return e.stop()}}),e)}))),oj.apply(this,arguments)}function sj(e,t){return uj.apply(this,arguments)}function uj(){return uj=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ij(t),nj(t)?(t.yu.lu(n),tj(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),uj.apply(this,arguments)}function cj(e,t,n){return lj.apply(this,arguments)}function lj(){return lj=Ol(Rl().mark((function e(t,n,r){var i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof JD&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ml(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),LN("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,hj(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof YD?t.pu.ut(n):n instanceof XD?t.pu._t(n):t.pu.ht(n),r.isEqual(sP.min())){e.next=29;break}return e.prev=14,e.next=17,XL(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(mP.EMPTY_BYTE_STRING,n.snapshotVersion)),ej(e,t);var r=new xM(n.target,t,1,n.sequenceNumber);$F(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),LN("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,hj(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),lj.apply(this,arguments)}function hj(e,t,n){return fj.apply(this,arguments)}function fj(){return fj=Ol(Rl().mark((function e(t,n,r){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dM(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,YF(t);case 5:t.yu.set("Offline"),r||(r=function(){return XL(t.localStore)}),t.asyncQueue.enqueueRetryable(Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LN("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,HF(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fj.apply(this,arguments)}function dj(e,t){return t().catch((function(n){return hj(e,n,t)}))}function pj(e){return vj.apply(this,arguments)}function vj(){return vj=Ol(Rl().mark((function e(t){var n,r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zN(t),r=Dj(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!mj(n)){e.next=19;break}return e.prev=3,e.next=6,$L(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,yj(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,hj(n,e.t0);case 17:e.next=2;break;case 19:gj(n)&&_j(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),vj.apply(this,arguments)}function mj(e){return rj(e)&&e.du.length<10}function yj(e,t){e.du.push(t);var n=Dj(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function gj(e){return rj(e)&&!Dj(e).ko()&&e.du.length>0}function _j(e){Dj(e).start()}function kj(e){return wj.apply(this,arguments)}function wj(){return wj=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dj(t).nu();case 1:case"end":return e.stop()}}),e)}))),wj.apply(this,arguments)}function bj(e){return xj.apply(this,arguments)}function xj(){return xj=Ol(Rl().mark((function e(t){var n,r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dj(t),r=Ml(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),xj.apply(this,arguments)}function Ij(e,t,n){return Tj.apply(this,arguments)}function Tj(){return Tj=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=wM.from(i,n,r),e.next=3,dj(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,pj(t);case 5:case"end":return e.stop()}}),e)}))),Tj.apply(this,arguments)}function Ej(e,t){return Sj.apply(this,arguments)}function Sj(){return Sj=Ol(Rl().mark((function e(t,n){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Dj(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!OD(i=n.code)||i===qN.ABORTED){e.next=7;break}return r=t.du.shift(),Dj(t).Fo(),e.next=5,dj(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,pj(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:gj(t)&&_j(t);case 5:case"end":return e.stop()}}),e)}))),Sj.apply(this,arguments)}function Cj(e,t){return Aj.apply(this,arguments)}function Aj(){return Aj=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=zN(t)).asyncQueue.verifyOperationInProgress(),LN("RemoteStore","RemoteStore received new credentials"),i=rj(r),r.wu.add(3),e.next=6,YF(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,HF(r);case 12:case"end":return e.stop()}}),e)}))),Aj.apply(this,arguments)}function Nj(e,t){return Pj.apply(this,arguments)}function Pj(){return Pj=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zN(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,HF(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,YF(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Pj.apply(this,arguments)}function Rj(e){return e.Iu||(e.Iu=function(e,t,n){var r=zN(e);return r.iu(),new zF(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:aj.bind(null,e),eo:sj.bind(null,e),zo:cj.bind(null,e)}),e.mu.push(function(){var t=Ol(Rl().mark((function t(n){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),nj(e)?tj(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ij(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Dj(e){return e.Tu||(e.Tu=function(e,t,n){var r=zN(e);return r.iu(),new qF(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:kj.bind(null,e),eo:Ej.bind(null,e),eu:bj.bind(null,e),tu:Ij.bind(null,e)}),e.mu.push(function(){var t=Ol(Rl().mark((function t(n){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,pj(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(LN("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Oj=function(){function e(t,n,r,i,a){Yo(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new GN,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Jo(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new WN(qN.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Mj(e,t){if(FN("AsyncQueue","".concat(t,": ").concat(e)),dM(e))return new WN(qN.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Lj=function(){function e(t){Yo(this,e),this.comparator=t?function(e,n){return t(e,n)||AP.comparator(e.key,n.key)}:function(e,t){return AP.comparator(e.key,t.key)},this.keyedMap=VD(),this.sortedSet=new cR(this.comparator)}return Jo(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Fj=function(){function e(){Yo(this,e),this.Eu=new cR(AP.comparator)}return Jo(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):VN():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jj=function(){function e(t,n,r,i,a,o,s,u){Yo(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Jo(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&KR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Lj.emptySet(n),a,r,i,!0,!1)}}]),e}(),Uj=Jo((function e(){Yo(this,e),this.Ru=void 0,this.listeners=[]})),Vj=Jo((function e(){Yo(this,e),this.queries=new LD((function(e){return HR(e)}),KR),this.onlineState="Unknown",this.bu=new Set}));function Bj(e,t){return zj.apply(this,arguments)}function zj(){return zj=Ol(Rl().mark((function e(t,n){var r,i,a,o,s;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zN(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Uj),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Mj(e.t0,"Initialization of query '".concat(QR(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Hj(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),zj.apply(this,arguments)}function qj(e,t){return Wj.apply(this,arguments)}function Wj(){return Wj=Ol(Rl().mark((function e(t,n){var r,i,a,o,s;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zN(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Wj.apply(this,arguments)}function Gj(e,t){var n,r=zN(e),i=!1,a=Ml(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Ml(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Ru=o}}}catch(h){a.e(h)}finally{a.f()}i&&Hj(r)}function Kj(e,t,n){var r=zN(e),i=r.queries.get(t);if(i){var a,o=Ml(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Hj(e){e.bu.forEach((function(e){e.next()}))}var Qj=function(){function e(t,n,r){Yo(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Jo(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ml(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jj(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=jj.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Yj=function(){function e(t,n){Yo(this,e),this.payload=t,this.byteLength=n}return Jo(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),Xj=function(){function e(t){Yo(this,e),this.M=t}return Jo(e,[{key:"wi",value:function(e){return fO(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?gO(this.M,e.document,!1):$P.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return uO(e)}}]),e}(),Jj=function(){function e(t,n,r){Yo(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zj(t)}return Jo(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=fP.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Xj(this.M),i=Ml(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.wi(a.metadata.name),u=Ml(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||WD()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sF(this.localStore,new Xj(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=Ml(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,cF(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zj(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var $j=Jo((function e(t){Yo(this,e),this.key=t})),eU=Jo((function e(t){Yo(this,e),this.key=t})),tU=function(){function e(t,n){Yo(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=WD(),this.mutatedKeys=WD(),this.Gu=JR(t),this.Qu=new Lj(this.Gu)}return Jo(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Fj,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=YR(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Hu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Gu(h,u)>0||c&&n.Gu(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return VN()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new jj(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Fj,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=WD(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new eU(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new $j(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=WD();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return jj.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),nU=Jo((function e(t,n,r){Yo(this,e),this.query=t,this.targetId=n,this.view=r})),rU=Jo((function e(t){Yo(this,e),this.key=t,this.na=!1})),iU=function(){function e(t,n,r,i,a,o){Yo(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new LD((function(e){return HR(e)}),KR),this.ra=new Map,this.oa=new Set,this.ua=new cR(AP.comparator),this.aa=new Map,this.ca=new dF,this.ha={},this.la=new Map,this.fa=pL.yn(),this.onlineState="Unknown",this.da=void 0}return Jo(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function aU(e,t){return oU.apply(this,arguments)}function oU(){return oU=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ZU(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,eF(r.localStore,WR(n));case 8:return s=e.sent,r.isPrimaryClient&&JF(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,sU(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),oU.apply(this,arguments)}function sU(e,t,n,r){return uU.apply(this,arguments)}function uU(){return uU=Ol(Rl().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Ol(Rl().mark((function e(t,n,r,i){var a,o,s;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,rF(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(CU(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,rF(t.localStore,n,!0);case 3:return a=e.sent,o=new tU(n,a._i),s=o.Wu(a.documents),u=QD.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),CU(t,r,c.Xu),l=new nU(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),uU.apply(this,arguments)}function cU(e,t){return lU.apply(this,arguments)}function lU(){return lU=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zN(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!KR(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,tF(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ZF(r.remoteStore,i.targetId),EU(r,i.targetId)})).catch(_L);case 9:e.next=14;break;case 11:return EU(r,i.targetId),e.next=14,tF(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),lU.apply(this,arguments)}function hU(e,t,n){return fU.apply(this,arguments)}function fU(){return fU=Ol(Rl().mark((function e(t,n,r){var i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$U(t),e.prev=1,e.next=4,function(e,t){var n,r=zN(e),i=oP.now(),a=t.reduce((function(e,t){return e.add(t.key)}),WD());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],u=Ml(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=wD(c,n.get(c.key));null!=l&&s.push(new TD(c.key,l,ZP(l.value.mapValue),mD.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new cR(rP)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,PU(i,a.changes);case 9:return e.next=11,pj(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Mj(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),fU.apply(this,arguments)}function dU(e,t){return pU.apply(this,arguments)}function pU(){return pU=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),e.prev=1,e.next=4,JL(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(BN(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?BN(n.na):e.removedDocuments.size>0&&(BN(n.na),n.na=!1))})),e.next=8,PU(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,_L(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),pU.apply(this,arguments)}function vU(e,t,n){var r=zN(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zN(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ml(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Hj(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function mU(e,t,n){return yU.apply(this,arguments)}function yU(){return yU=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u,c;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=zN(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new cR(AP.comparator)).insert(o,$P.newNoDocument(o,sP.min())),u=WD().add(o),c=new HD(sP.min(),new Map,new fR(rP),s,u),e.next=9,dU(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),NU(i),e.next=16;break;case 14:return e.next=16,tF(i.localStore,n,!1).then((function(){return EU(i,n,r)})).catch(_L);case 16:case"end":return e.stop()}}),e)}))),yU.apply(this,arguments)}function gU(e,t){return _U.apply(this,arguments)}function _U(){return _U=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),i=n.batch.batchId,e.prev=1,e.next=4,YL(r.localStore,n);case 4:return a=e.sent,TU(r,i,null),IU(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,PU(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,_L(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_U.apply(this,arguments)}function kU(e,t,n){return wU.apply(this,arguments)}function wU(){return wU=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zN(t),e.prev=1,e.next=4,function(e,t){var n=zN(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return BN(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,TU(i,n,r),IU(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,PU(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,_L(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wU.apply(this,arguments)}function bU(e,t){return xU.apply(this,arguments)}function xU(){return xU=Ol(Rl().mark((function e(t,n){var r,i,a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rj((r=zN(t)).remoteStore)||LN("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=zN(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Mj(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),xU.apply(this,arguments)}function IU(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function TU(e,t,n){var r=zN(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function EU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ml(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||SU(e,t)}))}function SU(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(ZF(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),NU(e))}function CU(e,t,n){var r,i=Ml(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $j?(e.ca.addReference(a.key,t),AU(e,a)):a instanceof eU?(LN("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||SU(e,a.key)):VN()}}catch(o){i.e(o)}finally{i.f()}}function AU(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(LN("SyncEngine","New document in limbo: "+n),e.oa.add(r),NU(e))}function NU(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new AP(fP.fromString(t)),r=e.fa.next();e.aa.set(r,new rU(n)),e.ua=e.ua.insert(n,r),JF(e.remoteStore,new xM(WR(UR(n.path)),r,2,eP.A))}}function PU(e,t,n){return RU.apply(this,arguments)}function RU(){return RU=Ol(Rl().mark((function e(t,n,r){var i,a,o,s;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zN(t),a=[],o=[],s=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){s.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=qL.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sa.zo(a),e.next=9,function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return uM.forEach(n,(function(t){return uM.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return uM.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),dM(e.t0)){e.next=10;break}throw e.t0;case 10:LN("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ml(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),RU.apply(this,arguments)}function DU(e,t){return OU.apply(this,arguments)}function OU(){return OU=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zN(t)).currentUser.isEqual(n)){e.next=11;break}return LN("SyncEngine","User change. New user:",n.toKey()),e.next=5,HL(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new WN(qN.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,PU(r,i.di);case 11:case"end":return e.stop()}}),e)}))),OU.apply(this,arguments)}function MU(e,t){var n=zN(e),r=n.aa.get(t);if(r&&r.na)return WD().add(r.key);var i=WD(),a=n.ra.get(t);if(!a)return i;var o,s=Ml(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ia.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function LU(e,t){return FU.apply(this,arguments)}function FU(){return FU=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),e.next=3,rF(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&CU(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),FU.apply(this,arguments)}function jU(e,t){return UU.apply(this,arguments)}function UU(){return UU=Ol(Rl().mark((function e(t,n){var r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),e.abrupt("return",aF(r.localStore,n).then((function(e){return PU(r,e)})));case 2:case"end":return e.stop()}}),e)}))),UU.apply(this,arguments)}function VU(e,t,n,r){return BU.apply(this,arguments)}function BU(){return BU=Ol(Rl().mark((function e(t,n,r,i){var a,o;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zN(t),e.next=3,function(e,t){var n=zN(e),r=zN(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):uM.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,pj(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(TU(a,n,i||null),IU(a,n),function(e,t){zN(zN(e).Bs)._n(t)}(a.localStore,n)):VN();case 11:return e.next=13,PU(a,o);case 13:e.next=16;break;case 15:LN("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),BU.apply(this,arguments)}function zU(e,t){return qU.apply(this,arguments)}function qU(){return qU=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ZU(r=zN(t)),$U(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,WU(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,Nj(r.remoteStore,!0);case 9:o=Ml(a);try{for(o.s();!(s=o.n()).done;)u=s.value,JF(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return EU(r,t),tF(r.localStore,t,!0)})),ZF(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,WU(r,c);case 21:return function(e){var t=zN(e);t.aa.forEach((function(e,n){ZF(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new cR(AP.comparator)}(r),r.da=!1,e.next=25,Nj(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),qU.apply(this,arguments)}function WU(e,t,n){return GU.apply(this,arguments)}function GU(){return GU=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,m,y;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=zN(t),a=[],o=[],s=Ml(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.ra.get(c))||0===h.length){e.next=34;break}return e.next=11,eF(i.localStore,WR(h[0]));case 11:l=e.sent,f=Ml(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,LU(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,iF(i.localStore,c);case 36:return y=e.sent,e.next=39,eF(i.localStore,y);case 39:return l=e.sent,e.next=42,sU(i,KU(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),GU.apply(this,arguments)}function KU(e){return jR(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HU(e){var t=zN(e);return zN(zN(t.localStore).persistence).Fs()}function QU(e,t,n,r){return YU.apply(this,arguments)}function YU(){return YU=Ol(Rl().mark((function e(t,n,r,i){var a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=zN(t)).da){e.next=3;break}return e.abrupt("return",void LN("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,aF(a.localStore,XR(o[0]));case 10:return s=e.sent,u=HD.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,PU(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,tF(a.localStore,n,!0);case 17:return EU(a,n,i),e.abrupt("break",20);case 19:VN();case 20:case"end":return e.stop()}}),e)}))),YU.apply(this,arguments)}function XU(e,t,n){return JU.apply(this,arguments)}function JU(){return JU=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ZU(t)).da){e.next=45;break}a=Ml(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ra.has(s)){e.next=10;break}return LN("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,iF(i.localStore,s);case 12:return u=e.sent,e.next=15,eF(i.localStore,u);case 15:return c=e.sent,e.next=18,sU(i,KU(u),c.targetId,!1);case 18:JF(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ml(r),e.prev=30,f=Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,tF(i.localStore,t,!1).then((function(){ZF(i.remoteStore,t),EU(i,t)})).catch(_L);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),JU.apply(this,arguments)}function ZU(e){var t=zN(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mU.bind(null,t),t.sa.zo=Gj.bind(null,t.eventManager),t.sa.wa=Kj.bind(null,t.eventManager),t}function $U(e){var t=zN(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kU.bind(null,t),t}function eV(e,t,n){var r=zN(e);(function(){var e=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=zN(e),r=uO(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Zj(i)),a=new Jj(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,PU(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=zN(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(jN("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var tV=function(){function e(){Yo(this,e),this.synchronizeTabs=!1}return Jo(e,[{key:"initialize",value:function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=UF(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return KL(this.persistence,new WL,e.initialUser,this.M)}},{key:"ya",value:function(e){return new _F(wF.Yi,this.M)}},{key:"ga",value:function(e){return new PF}},{key:"terminate",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nV=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Jo(n,[{key:"initialize",value:function(){var e=Ol(Rl().mark((function e(t){var r=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(es(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,$U(this.Ta.syncEngine);case 6:return e.next=8,pj(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return KL(this.persistence,new WL,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new xL(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=BL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?oL.withCacheSize(this.cacheSizeBytes):oL.DEFAULT;return new jL(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,FF(),jF(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new PF}}]),n}(tV),rV=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Jo(n,[{key:"initialize",value:function(){var e=Ol(Rl().mark((function e(t){var r,i=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(es(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof NF,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:VU.bind(null,r),Br:QU.bind(null,r),Lr:XU.bind(null,r),Fs:HU.bind(null,r),Fr:jU.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zU(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=FF();if(!NF.vt(t))throw new WN(qN.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=BL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NF(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(nV),iV=function(){function e(){Yo(this,e)}return Jo(e,[{key:"initialize",value:function(){var e=Ol(Rl().mark((function e(t,n){var r=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return vU(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=DU.bind(null,this.syncEngine),e.next=12,Nj(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Vj}},{key:"createDatastore",value:function(e){var t,n=UF(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new LF(t));return function(e,t,n,r){return new WF(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return vU(o.syncEngine,e,0)},a=DF.vt()?new DF:new RF,new KF(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new iU(e,t,n,r,i,a);return o&&(s.da=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zN(t),LN("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,YF(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function aV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ol(Rl().mark((function r(){var i;return Rl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var oV=function(){function e(t){Yo(this,e),this.observer=t,this.muted=!1}return Jo(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),sV=function(){function e(t,n){var r=this;Yo(this,e),this.Ra=t,this.M=n,this.metadata=new GN,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Jo(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Ol(Rl().mark((function e(){var t,n,r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Yj(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Ol(Rl().mark((function e(){var t,n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Ol(Rl().mark((function e(){var t,n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uV=function(){function e(t){Yo(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Jo(e,[{key:"lookup",value:function(){var e=Ol(Rl().mark((function e(t){var n,r=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new WN(qN.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),i=vO(r.M)+"/documents",a={documents:n.map((function(e){return hO(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=_O(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());BN(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new PD(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ol(Rl().mark((function e(){var t,n=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=AP.fromPath(t);n.mutations.push(new RD(r,n.precondition(r)))})),e.next=7,function(){var e=Ol(Rl().mark((function e(t,n){var r,i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zN(t),i=vO(r.M)+"/documents",a={writes:n.map((function(e){return kO(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw VN();t=sP.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new WN(qN.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mD.updateTime(t):mD.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sP.min()))throw new WN(qN.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mD.updateTime(t)}return mD.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),cV=function(){function e(t,n,r,i,a){Yo(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new VF(this.asyncQueue,"transaction_retry")}return Jo(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Ol(Rl().mark((function t(){var n,r;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new uV(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!EP(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!OD(t)}return!1}}]),e}(),lV=function(){function e(t,n,r,i){var a=this;Yo(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=RN.UNAUTHENTICATED,this.clientId=nP.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LN("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return LN("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Jo(e,[{key:"getConfiguration",value:function(){var e=Ol(Rl().mark((function e(){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new WN(qN.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new GN;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ol(Rl().mark((function n(){var r;return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Mj(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function hV(e,t){return fV.apply(this,arguments)}function fV(){return fV=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),LN("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,HL(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),fV.apply(this,arguments)}function dV(e,t){return pV.apply(this,arguments)}function pV(){return pV=Ol(Rl().mark((function e(t,n){var r,i;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vV(t);case 3:return r=e.sent,LN("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Cj(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Cj(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),pV.apply(this,arguments)}function vV(e){return mV.apply(this,arguments)}function mV(){return mV=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return LN("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,hV(t,new tV);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),mV.apply(this,arguments)}function yV(e){return gV.apply(this,arguments)}function gV(){return gV=Ol(Rl().mark((function e(t){return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return LN("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,dV(t,new iV);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),gV.apply(this,arguments)}function _V(e){return vV(e).then((function(e){return e.persistence}))}function kV(e){return vV(e).then((function(e){return e.localStore}))}function wV(e){return yV(e).then((function(e){return e.remoteStore}))}function bV(e){return yV(e).then((function(e){return e.syncEngine}))}function xV(e){return IV.apply(this,arguments)}function IV(){return IV=Ol(Rl().mark((function e(t){var n,r;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yV(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=aU.bind(null,n.syncEngine),r.onUnlisten=cU.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),IV.apply(this,arguments)}function TV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function i(){return Rl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oV({next:function(a){t.enqueueAndForget((function(){return qj(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new WN(qN.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new WN(qN.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qj(UR(n.path),a,{includeMetadataChanges:!0,ku:!0});return Bj(e,o)},i.next=3,xV(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function EV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function i(){return Rl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oV({next:function(n){t.enqueueAndForget((function(){return qj(e,o)})),n.fromCache&&"server"===r.source?i.reject(new WN(qN.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qj(n,a,{includeMetadataChanges:!0,ku:!0});return Bj(e,o)},i.next=3,xV(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var SV=new Map;function CV(e,t,n){if(!n)throw new WN(qN.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function AV(e,t,n,r){if(!0===t&&!0===r)throw new WN(qN.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function NV(e){if(!AP.isDocumentKey(e))throw new WN(qN.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function PV(e){if(AP.isDocumentKey(e))throw new WN(qN.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function RV(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":VN()}function DV(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new WN(qN.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=RV(e);throw new WN(qN.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function OV(e,t){if(t<=0)throw new WN(qN.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var MV=function(){function e(t){var n;if(Yo(this,e),void 0===t.host){if(void 0!==t.ssl)throw new WN(qN.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new WN(qN.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,AV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Jo(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),LV=function(){function e(t,n,r){Yo(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MV({}),this._settingsFrozen=!1,t instanceof TP?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new WN(qN.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new TP(e.options.projectId)}(t))}return Jo(e,[{key:"app",get:function(){if(!this._app)throw new WN(qN.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new WN(qN.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MV(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new HN;switch(e.type){case"gapi":var t=e.client;return BN(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new JN(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new WN(qN.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=SV.get(e);t&&(LN("ComponentProvider","Removing Datastore"),SV.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function FV(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=DV(e,LV))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jN("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=RN.MOCK_USER;else{o=Xl(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new WN(qN.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new RN(u)}e._authCredentials=new QN(new KN(o,s))}}var jV=function(){function e(t,n,r){Yo(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Jo(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new VV(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),UV=function(){function e(t,n,r){Yo(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Jo(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),VV=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this,e,r,UR(i)))._path=i,a.type="collection",a}return Jo(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jV(this.firestore,null,new AP(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(UV);function BV(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Sh(e),CV("collection","path",t),e instanceof LV){var a=fP.fromString.apply(fP,[t].concat(r));return PV(a),new VV(e,null,a)}if(!(e instanceof jV||e instanceof VV))throw new WN(qN.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fP.fromString.apply(fP,[t].concat(r)));return PV(o),new VV(e.firestore,null,o)}function zV(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Sh(e),1===arguments.length&&(t=nP.R()),CV("doc","path",t),e instanceof LV){var a=fP.fromString.apply(fP,[t].concat(r));return NV(a),new jV(e,null,new AP(a))}if(!(e instanceof jV||e instanceof VV))throw new WN(qN.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fP.fromString.apply(fP,[t].concat(r)));return NV(o),new jV(e.firestore,e instanceof VV?e.converter:null,new AP(o))}function qV(e,t){return e=Sh(e),t=Sh(t),(e instanceof jV||e instanceof VV)&&(t instanceof jV||t instanceof VV)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WV(e,t){return e=Sh(e),t=Sh(t),e instanceof UV&&t instanceof UV&&e.firestore===t.firestore&&KR(e._query,t._query)&&e.converter===t.converter}var GV=function(){function e(){var t=this;Yo(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new VF(this,"async_queue_retry"),this.Qa=function(){var e=jF();e&&LN("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=jF();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Jo(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=jF();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new GN;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Ol(Rl().mark((function e(){var t=this;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),dM(e.t0)){e.next=12;break}throw e.t0;case 12:LN("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw FN("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Oj.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&VN()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Ol(Rl().mark((function e(){var t;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=Ml(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ml(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function KV(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ml(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var HV=function(){function e(){Yo(this,e),this._progressObserver={},this._taskCompletionResolver=new GN,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Jo(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),QV=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new GV,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Jo(n,[{key:"_terminate",value:function(){return this._firestoreClient||XV(this),this._firestoreClient.terminate()}}]),n}(LV);function YV(e){return e._firestoreClient||XV(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XV(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new IP(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lV(e._authCredentials,e._appCheckCredentials,e._queue,r)}function JV(e,t,n){var r=new GN;return e.asyncQueue.enqueue(Ol(Rl().mark((function i(){return Rl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,hV(e,n);case 3:return i.next=5,dV(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===qN.FAILED_PRECONDITION||e.code===qN.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ZV(e){return function(e){return e.asyncQueue.enqueue(Ol(Rl().mark((function t(){var n,r;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_V(e);case 2:return n=t.sent,t.next=5,wV(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=zN(e);return t.wu.delete(0),HF(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(YV(e=DV(e,QV)))}function $V(e){return function(e){return e.asyncQueue.enqueue(Ol(Rl().mark((function t(){var n,r;return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_V(e);case 2:return n=t.sent,t.next=5,wV(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zN(t)).wu.add(0),e.next=4,YF(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(YV(e=DV(e,QV)))}function eB(e,t){var n=YV(e=DV(e,QV)),r=new HV;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new sV(e,t)}(function(e,t){if(e instanceof Uint8Array)return aV(e,t);if(e instanceof ArrayBuffer)return aV(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,UF(t));e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eV,t.next=3,bV(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function tB(e,t){return function(e,t){return e.asyncQueue.enqueue(Ol(Rl().mark((function n(){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=zN(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,kV(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(YV(e=DV(e,QV)),t).then((function(t){return t?new UV(e,null,t.query):null}))}function nB(e){if(e._initialized||e._terminated)throw new WN(qN.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rB=function(){function e(){Yo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new WN(qN.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pP(n)}return Jo(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var iB=function(){function e(t){Yo(this,e),this._byteString=t}return Jo(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(mP.fromBase64String(t))}catch(t){throw new WN(qN.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(mP.fromUint8Array(t))}}]),e}(),aB=Jo((function e(t){Yo(this,e),this._methodName=t})),oB=function(){function e(t,n){if(Yo(this,e),!isFinite(t)||t<-90||t>90)throw new WN(qN.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new WN(qN.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Jo(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return rP(this._lat,e._lat)||rP(this._long,e._long)}}]),e}(),sB=/^__.*__$/,uB=function(){function e(t,n,r){Yo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Jo(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new TD(e,this.data,this.fieldMask,t,this.fieldTransforms):new ID(e,this.data,t,this.fieldTransforms)}}]),e}(),cB=function(){function e(t,n,r){Yo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Jo(e,[{key:"toMutation",value:function(e,t){return new TD(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function lB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw VN()}}var hB=function(){function e(t,n,r,i,a,o){Yo(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Jo(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return PB(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(lB(this.ec)&&sB.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),fB=function(){function e(t,n,r){Yo(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||UF(t)}return Jo(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hB({ec:e,methodName:t,hc:n,path:pP.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function dB(e){var t=e._freezeSettings(),n=UF(e._databaseId);return new fB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pB(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);SB("Data must be an object, but it was:",o,r);var s,u,c=TB(r,o);if(a.merge)s=new vP(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=Ml(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=CB(t,d,n);if(!o.contains(p))throw new WN(qN.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));RB(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new vP(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new uB(new JP(c),s,u)}var vB=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aB);function mB(e,t,n){return new hB({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var yB=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"_toFieldTransform",value:function(e){return new pD(e.path,new oD)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aB),gB=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e)).fc=r,i}return Jo(n,[{key:"_toFieldTransform",value:function(e){var t=mB(this,e,!0),n=this.fc.map((function(e){return IB(e,t)})),r=new sD(n);return new pD(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aB),_B=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e)).fc=r,i}return Jo(n,[{key:"_toFieldTransform",value:function(e){var t=mB(this,e,!0),n=this.fc.map((function(e){return IB(e,t)})),r=new cD(n);return new pD(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aB),kB=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e)).dc=r,i}return Jo(n,[{key:"_toFieldTransform",value:function(e){var t=new hD(e.M,tD(e.M,this.dc));return new pD(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aB);function wB(e,t,n,r){var i=e.lc(1,t,n);SB("Data must be an object, but it was:",i,r);var a=[],o=JP.empty();cP(r,(function(e,r){var s=NB(t,e,n);r=Sh(r);var u=i.oc(s);if(r instanceof vB)a.push(s);else{var c=IB(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new vP(a);return new cB(o,s,i.fieldTransforms)}function bB(e,t,n,r,i,a){var o=e.lc(1,t,n),s=[CB(t,r,n)],u=[i];if(a.length%2!=0)throw new WN(qN.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(CB(t,a[c])),u.push(a[c+1]);for(var l=[],h=JP.empty(),f=s.length-1;f>=0;--f)if(!RB(l,s[f])){var d=s[f],p=u[f];p=Sh(p);var v=o.oc(d);if(p instanceof vB)l.push(d);else{var m=IB(p,v);null!=m&&(l.push(d),h.set(d,m))}}var y=new vP(l);return new cB(h,y,o.fieldTransforms)}function xB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return IB(n,e.lc(r?4:3,t))}function IB(e,t){if(EB(e=Sh(e)))return SB("Unsupported field value:",t,e),TB(e,t);if(e instanceof aB)return function(e,t){if(!lB(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ml(e);try{for(a.s();!(n=a.n()).done;){var o=IB(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Sh(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tD(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=oP.fromDate(e);return{timestampValue:aO(t.M,n)}}if(e instanceof oP){var r=new oP(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:aO(t.M,r)}}if(e instanceof oB)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iB)return{bytesValue:oO(t.M,e._byteString)};if(e instanceof jV){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cO(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(RV(e)))}(e,t)}function TB(e,t){var n={};return lP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cP(e,(function(e,r){var i=IB(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function EB(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oP||e instanceof oB||e instanceof iB||e instanceof jV||e instanceof aB)}function SB(e,t,n){if(!EB(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=RV(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function CB(e,t,n){if((t=Sh(t))instanceof rB)return t._internalPath;if("string"==typeof t)return NB(e,t);throw PB("Field path arguments must be of type string or ",e,!1,void 0,n)}var AB=new RegExp("[~\\*/\\[\\]]");function NB(e,t,n){if(t.search(AB)>=0)throw PB("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ll(rB,Qo(t.split(".")))._internalPath}catch(r){throw PB("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function PB(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new WN(qN.INVALID_ARGUMENT,s+e+u)}function RB(e,t){return e.some((function(e){return e.isEqual(t)}))}var DB=function(){function e(t,n,r,i,a){Yo(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Jo(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jV(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new OB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(MB("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),OB=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"data",value:function(){return a_(es(n.prototype),"data",this).call(this)}}]),n}(DB);function MB(e,t){return"string"==typeof t?NB(e,t):t instanceof rB?t._internalPath:t._delegate._internalPath}var LB=function(){function e(t,n){Yo(this,e),this.hasPendingWrites=t,this.fromCache=n}return Jo(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),FB=function(e){$o(n,e);var t=as(n);function n(e,r,i,a,o,s){var u;return Yo(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Jo(n,[{key:"exists",value:function(){return a_(es(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jB(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(MB("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(DB),jB=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a_(es(n.prototype),"data",this).call(this,e)}}]),n}(FB),UB=function(){function e(t,n,r,i){Yo(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new LB(i.hasPendingWrites,i.fromCache),this.query=r}return Jo(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jB(n._firestore,n._userDataWriter,r.key,r,new LB(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new WN(qN.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new jB(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LB(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jB(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LB(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:VB(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function VB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return VN()}}function BB(e,t){return e instanceof FB&&t instanceof FB?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof UB&&t instanceof UB&&e._firestore===t._firestore&&WV(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function zB(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new WN(qN.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qB=Jo((function e(){Yo(this,e)}));function WB(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var GB=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return Jo(n,[{key:"_apply",value:function(e){var t=dB(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new WN(qN.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){nz(o,a);var u,c=[],l=Ml(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(tz(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=tz(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||nz(o,a),s=xB(n,"where",o,"in"===a||"not-in"===a);var f=xR.create(i,a,s);return function(e,t){if(t.S()){var n=BR(e);if(null!==n&&!n.isEqual(t.field))throw new WN(qN.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=VR(e);null!==r&&rz(e,t.field,r)}var i=function(e,t){var n,r=Ml(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new WN(qN.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new WN(qN.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new UV(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new FR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(qB);var KB=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return Jo(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new WN(qN.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new WN(qN.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new DR(t,n);return function(e,t){if(null===VR(e)){var n=BR(e);null!==n&&rz(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new UV(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new FR(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(qB);var HB=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return Jo(n,[{key:"_apply",value:function(e){return new UV(e.firestore,e.converter,GR(e._query,this.yc,this.Ic))}}]),n}(qB);var QB=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Jo(n,[{key:"_apply",value:function(e){var t=ez(e,this.type,this.Tc,this.Ec);return new UV(e.firestore,e.converter,function(e,t){return new FR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(qB);function YB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QB("startAt",t,!0)}function XB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QB("startAfter",t,!1)}var JB=function(e){$o(n,e);var t=as(n);function n(e,r,i){var a;return Yo(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Jo(n,[{key:"_apply",value:function(e){var t=ez(e,this.type,this.Tc,this.Ec);return new UV(e.firestore,e.converter,function(e,t){return new FR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(qB);function ZB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JB("endBefore",t,!1)}function $B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JB("endAt",t,!0)}function ez(e,t,n,r){if(n[0]=Sh(n[0]),n[0]instanceof DB)return function(e,t,n,r,i){if(!r)throw new WN(qN.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Ml(qR(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(UP(t,r.key));else{var c=r.data.field(u.field);if(wP(c))throw new WN(qN.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new WN(qN.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new RR(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=dB(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new WN(qN.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new WN(qN.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!zR(e)&&-1!==c.indexOf("/"))throw new WN(qN.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(fP.fromString(c));if(!AP.isDocumentKey(l))throw new WN(qN.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new AP(l);s.push(UP(t,h))}else{var f=xB(n,r,c);s.push(f)}}return new RR(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function tz(e,t,n){if("string"==typeof(n=Sh(n))){if(""===n)throw new WN(qN.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(t)&&-1!==n.indexOf("/"))throw new WN(qN.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(fP.fromString(n));if(!AP.isDocumentKey(r))throw new WN(qN.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return UP(e,new AP(r))}if(n instanceof jV)return UP(e,n._key);throw new WN(qN.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(RV(n),"."))}function nz(e,t){if(!Array.isArray(e)||0===e.length)throw new WN(qN.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new WN(qN.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function rz(e,t,n){if(!n.isEqual(t))throw new WN(qN.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var iz={maxAttempts:5},az=function(){function e(){Yo(this,e)}return Jo(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(RP(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _P(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kP(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw VN()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return cP(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new oB(_P(e.latitude),_P(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bP(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xP(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=gP(e);return new oP(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=fP.fromString(e);BN(DO(n));var r=new TP(n.get(1),n.get(3)),i=new AP(n.popFirst(5));return r.isEqual(t)||FN("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function oz(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var sz=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).firestore=e,r}return Jo(n,[{key:"convertBytes",value:function(e){return new iB(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jV(this.firestore,null,t)}}]),n}(az),uz=function(){function e(t,n){Yo(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=dB(t)}return Jo(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=cz(e,this._firestore),i=oz(r.converter,t,n),a=pB(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,mD.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=cz(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Sh(t))||t instanceof rB?bB(this._dataReader,"WriteBatch.update",i._key,t,n,o):wB(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,mD.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=cz(e,this._firestore);return this._mutations=this._mutations.concat(new PD(t._key,mD.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new WN(qN.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function cz(e,t){if((e=Sh(e)).firestore!==t)throw new WN(qN.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lz=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).firestore=e,r}return Jo(n,[{key:"convertBytes",value:function(e){return new iB(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jV(this.firestore,null,t)}}]),n}(az);function hz(e){e=DV(e,jV);var t=DV(e.firestore,QV),n=YV(t),r=new lz(t);return function(e,t){var n=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function r(){return Rl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ol(Rl().mark((function e(t,n,r){var i,a;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=zN(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new WN(qN.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Mj(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,kV(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new FB(t,r,e._key,n,new LB(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function fz(e){e=DV(e,UV);var t=DV(e.firestore,QV),n=YV(t),r=new lz(t);return function(e,t){var n=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function r(){return Rl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ol(Rl().mark((function e(t,n,r){var i,a,o,s,u;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rF(t,n,!0);case 3:i=e.sent,a=new tU(n,i._i),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Mj(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,kV(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new UB(t,r,e,n)}))}function dz(e,t,n){e=DV(e,jV);var r=DV(e.firestore,QV),i=oz(e.converter,t,n);return yz(r,[pB(dB(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mD.none())])}function pz(e,t,n){e=DV(e,jV);for(var r=DV(e.firestore,QV),i=dB(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return yz(r,[("string"==typeof(t=Sh(t))||t instanceof rB?bB(i,"updateDoc",e._key,t,n,o):wB(i,"updateDoc",e._key,t)).toMutation(e._key,mD.exists(!0))])}function vz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Sh(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||KV(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(KV(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof jV)l=DV(e.firestore,QV),h=UR(e._key.path),c={next:function(t){n[u]&&n[u](gz(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=DV(e,UV);l=DV(p.firestore,QV),h=p._query;var v=new lz(l);c={next:function(e){n[u]&&n[u](new UB(l,v,p,e))},error:n[u+1],complete:n[u+2]},zB(e._query)}return function(e,t,n,r){var i=new oV(r),a=new Qj(t,i,n);return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bj,t.next=3,xV(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qj,t.next=3,xV(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(YV(l),h,f,c)}function mz(e,t){return function(e,t){var n=new oV(t);return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zN(e).bu.add(t),t.next()},t.next=3,xV(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function t(){return Rl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zN(e).bu.delete(t)},t.next=3,xV(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(YV(e=DV(e,QV)),KV(t)?t:{next:t})}function yz(e,t){return function(e,t){var n=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function r(){return Rl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hU,r.next=3,bV(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(YV(e),t)}function gz(e,t,n){var r=n.docs.get(t._key),i=new lz(e);return new FB(e,i,t._key,r,new LB(n.hasPendingWrites,n.fromCache),t.converter)}var _z=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,r))._firestore=e,i}return Jo(n,[{key:"get",value:function(e){var t=this,r=cz(e,this._firestore),i=new lz(this._firestore);return a_(es(n.prototype),"get",this).call(this,e).then((function(e){return new FB(t._firestore,i,r._key,e._document,new LB(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Yo(this,e),this._firestore=t,this._transaction=n,this._dataReader=dB(t)}return Jo(e,[{key:"get",value:function(e){var t=this,n=cz(e,this._firestore),r=new sz(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return VN();var i=e[0];if(i.isFoundDocument())return new DB(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new DB(t._firestore,r,n._key,null,n.converter);throw VN()}))}},{key:"set",value:function(e,t,n){var r=cz(e,this._firestore),i=oz(r.converter,t,n),a=pB(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=cz(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Sh(t))||t instanceof rB?bB(this._dataReader,"Transaction.update",i._key,t,n,o):wB(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=cz(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function kz(e,t,n){e=DV(e,QV);var r=Object.assign(Object.assign({},iz),n);return function(e){if(e.maxAttempts<1)throw new WN(qN.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function i(){var a;return Rl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return yV(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new cV(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(YV(e),(function(n){return t(new _z(e,n))}),r)}function wz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gB("arrayUnion",t)}function bz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _B("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){DN=e}(bf),vf(new Ch("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new QV(i,new YN(e.getProvider("auth-internal")),new $N(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Cf(PN,"3.4.9",e),Cf(PN,"3.4.9","esm2017")}();function xz(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new WN("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Iz(){if("undefined"===typeof Uint8Array)throw new WN("unimplemented","Uint8Arrays are not available in this environment.")}function Tz(){if("undefined"==typeof atob)throw new WN("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ez=function(){function e(t){Yo(this,e),this._delegate=t}return Jo(e,[{key:"toBase64",value:function(){return Tz(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Iz(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Tz(),new e(iB.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Iz(),new e(iB.fromUint8Array(t))}}]),e}();function Sz(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ml(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Cz=function(){function e(){Yo(this,e)}return Jo(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){nB(e=DV(e,QV));var n=YV(e),r=e._freezeSettings(),i=new iV;return JV(n,i,new nV(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){nB(e=DV(e,QV));var t=YV(e),n=e._freezeSettings(),r=new iV;return JV(t,r,new rV(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new WN(qN.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new GN;return e._queue.enqueueAndForgetEvenWhileRestricted(Ol(Rl().mark((function n(){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ol(Rl().mark((function e(t){var n;return Rl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lM.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,lM.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(BL(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Az=function(){function e(t,n,r){var i=this;Yo(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof TP||(this._appCompat=t)}return Jo(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jN("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};FV(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ZV(this._delegate)}},{key:"disableNetwork",value:function(){return $V(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&AV("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new GN;return e.asyncQueue.enqueueAndForget(Ol(Rl().mark((function n(){return Rl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bU,n.next=3,bV(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(YV(e=DV(e,QV)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return mz(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new WN("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new qz(this,BV(this._delegate,e))}catch(t){throw Mz(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Oz(this,zV(this._delegate,e))}catch(t){throw Mz(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Vz(this,function(e,t){if(e=DV(e,LV),CV("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new WN(qN.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new UV(e,null,function(e){return new FR(fP.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Mz(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return kz(this._delegate,(function(n){return e(new Pz(t,n))}))}},{key:"batch",value:function(){var e=this;return YV(this._delegate),new Rz(new uz(this._delegate,(function(t){return yz(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return eB(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return tB(this._delegate,e).then((function(e){return e?new Vz(t,e):null}))}}]),e}(),Nz=function(e){$o(n,e);var t=as(n);function n(e){var r;return Yo(this,n),(r=t.call(this)).firestore=e,r}return Jo(n,[{key:"convertBytes",value:function(e){return new Ez(new iB(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Oz.forKey(t,this.firestore,null)}}]),n}(az);var Pz=function(){function e(t,n){Yo(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Nz(t)}return Jo(e,[{key:"get",value:function(e){var t=this,n=Wz(e);return this._delegate.get(n).then((function(e){return new jz(t._firestore,new FB(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Wz(e);return n?(xz("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Wz(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wz(e);return this._delegate.delete(t),this}}]),e}(),Rz=function(){function e(t){Yo(this,e),this._delegate=t}return Jo(e,[{key:"set",value:function(e,t,n){var r=Wz(e);return n?(xz("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Wz(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wz(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Dz=function(){function e(t,n,r){Yo(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Jo(e,[{key:"fromFirestore",value:function(e,t){var n=new jB(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uz(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Nz(t),n),i.set(n,a)),a}}]),e}();Dz.INSTANCES=new WeakMap;var Oz=function(){function e(t,n){Yo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Nz(t)}return Jo(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new qz(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new qz(this.firestore,BV(this._delegate,e))}catch(t){throw Mz(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Sh(e))instanceof jV&&qV(this._delegate,e)}},{key:"set",value:function(e,t){t=xz("DocumentReference.set",t);try{return t?dz(this._delegate,e,t):dz(this._delegate,e)}catch(n){throw Mz(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pz(this._delegate,e):pz.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Mz(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return yz(DV(e.firestore,QV),[new PD(e._key,mD.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Lz(n),a=Fz(n,(function(t){return new jz(e.firestore,new FB(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vz(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?hz(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=DV(e,jV);var t=DV(e.firestore,QV);return TV(YV(t),e._key,{source:"server"}).then((function(n){return gz(t,e,n)}))}(this._delegate):function(e){e=DV(e,jV);var t=DV(e.firestore,QV);return TV(YV(t),e._key).then((function(n){return gz(t,e,n)}))}(this._delegate),t.then((function(e){return new jz(n.firestore,new FB(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Dz.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new WN("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new jV(n._delegate,r,new AP(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new jV(n._delegate,r,t))}}]),e}();function Mz(e,t,n){return e.message=e.message.replace(t,n),e}function Lz(e){var t,n=Ml(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Sz(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Fz(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Sz(e[0])?e[0]:Sz(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jz=function(){function e(t,n){Yo(this,e),this._firestore=t,this._delegate=n}return Jo(e,[{key:"ref",get:function(){return new Oz(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return BB(this._delegate,e._delegate)}}]),e}(),Uz=function(e){$o(n,e);var t=as(n);function n(){return Yo(this,n),t.apply(this,arguments)}return Jo(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||VN()}(void 0!==t),t}}]),n}(jz),Vz=function(){function e(t,n){Yo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Nz(t)}return Jo(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,WB(this._delegate,function(e,t,n){var r=t,i=MB("where",e);return new GB(i,r,n)}(t,n,r)))}catch(i){throw Mz(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,WB(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=MB("orderBy",e);return new KB(n,t)}(t,n)))}catch(r){throw Mz(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,WB(this._delegate,function(e){return OV("limit",e),new HB("limit",e,"F")}(t)))}catch(n){throw Mz(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,WB(this._delegate,function(e){return OV("limitToLast",e),new HB("limitToLast",e,"L")}(t)))}catch(n){throw Mz(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,WB(this._delegate,YB.apply(void 0,arguments)))}catch(t){throw Mz(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,WB(this._delegate,XB.apply(void 0,arguments)))}catch(t){throw Mz(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,WB(this._delegate,ZB.apply(void 0,arguments)))}catch(t){throw Mz(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,WB(this._delegate,$B.apply(void 0,arguments)))}catch(t){throw Mz(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return WV(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?fz(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=DV(e,UV);var t=DV(e.firestore,QV),n=YV(t),r=new lz(t);return EV(n,e._query,{source:"server"}).then((function(n){return new UB(t,r,e,n)}))}(this._delegate):function(e){e=DV(e,UV);var t=DV(e.firestore,QV),n=YV(t),r=new lz(t);return zB(e._query),EV(n,e._query).then((function(n){return new UB(t,r,e,n)}))}(this._delegate),t.then((function(e){return new zz(n.firestore,new UB(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Lz(n),a=Fz(n,(function(t){return new zz(e.firestore,new UB(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vz(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Dz.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Bz=function(){function e(t,n){Yo(this,e),this._firestore=t,this._delegate=n}return Jo(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Uz(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),zz=function(){function e(t,n){Yo(this,e),this._firestore=t,this._delegate=n}return Jo(e,[{key:"query",get:function(){return new Vz(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Uz(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Bz(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Uz(n._firestore,r))}))}},{key:"isEqual",value:function(e){return BB(this._delegate,e._delegate)}}]),e}(),qz=function(e){$o(n,e);var t=as(n);function n(e,r){var i;return Yo(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Jo(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Oz(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Oz(this.firestore,void 0===e?zV(this._delegate):zV(this._delegate,e))}catch(t){throw Mz(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=DV(e.firestore,QV),r=zV(e),i=oz(e.converter,t);return yz(n,[pB(dB(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mD.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Oz(t.firestore,e)}))}},{key:"isEqual",value:function(e){return qV(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Dz.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Vz);function Wz(e){return DV(e,jV)}var Gz=function(){function e(){Yo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ll(rB,n)}return Jo(e,[{key:"isEqual",value:function(e){return(e=Sh(e))instanceof rB&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(pP.keyField().canonicalString())}}]),e}(),Kz=function(){function e(t){Yo(this,e),this._delegate=t}return Jo(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new yB("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new vB("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=wz.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=bz.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new kB("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Hz={Firestore:Az,GeoPoint:oB,Timestamp:oP,Blob:Ez,Transaction:Pz,WriteBatch:Rz,DocumentReference:Oz,DocumentSnapshot:jz,Query:Vz,QueryDocumentSnapshot:Uz,QuerySnapshot:zz,CollectionReference:qz,FieldPath:Gz,FieldValue:Kz,setLogLevel:function(e){!function(e){ON.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ch("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Hz)))}(e,(function(e,t){return new Az(e,t,new Cz)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(r_);var Qz=r_.initializeApp({apiKey:"AIzaSyCmdbkjtH47HqFKrnnCg0nmuSch9bmoXp0",authDomain:"yes-wedding-29451.firebaseapp.com",databaseURL:"https://yes-wedding-29451-default-rtdb.firebaseio.com/",projectId:"yes-wedding-29451",storageBucket:"yes-wedding-29451.appspot.com",messagingSenderId:"1010300792442",appId:"1:1010300792442:web:d6858688466e8b838955c3"}),Yz="Share_share__zaFA5",Xz="Share_share__btn__GWTVK",Jz="Share_share__img__ApXq3",Zz="Share_share__img-wrap__4bqFd",$z="Share_share__text__EJjT8",eq=function(e){var r=function(){window.Kakao.Link.createCustomButton({container:"#kakao-share",templateId:77876})};(0,t.useEffect)((function(){r()}),[]);return(0,Oo.jsx)(Ko,{onClose:e.onClose,children:(0,Oo.jsxs)("div",{className:Yz,children:[(0,Oo.jsx)(Og.CopyToClipboard,{text:"https://azultasul.github.io/yes-wedding",children:(0,Oo.jsxs)("button",{onClick:function(){alert("\ub9c1\ud06c \ubcf5\uc0ac\ud83e\udd1f")},className:Xz,children:[(0,Oo.jsx)("div",{className:Zz,children:(0,Oo.jsx)("img",{className:Jz,src:n(616),alt:"link copy"})}),(0,Oo.jsx)("span",{className:$z,children:"\ub9c1\ud06c \ubcf5\uc0ac"})]})}),(0,Oo.jsxs)("button",{id:"kakao-share",onClick:function(){r()},className:Xz,children:[(0,Oo.jsx)("div",{className:Zz,children:(0,Oo.jsx)("img",{src:n(682),alt:"link copy"})}),(0,Oo.jsx)("span",{className:$z,children:"\uce74\uce74\uc624\ud1a1 \uacf5\uc720"})]})]})})},tq="Footer_footer__55-eH",nq="Footer_footer__btn__AJaoj",rq="Footer_footer__icon__xXf-e",iq="Footer_footer__text__iM5B-",aq=function(e){var n=Vo((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,Oo.jsxs)("section",{id:"footer",className:tq,children:[(0,Oo.jsxs)("button",{onClick:function(){i(!0)},className:nq,children:[(0,Oo.jsx)("div",{className:rq,children:(0,Oo.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Oo.jsx)("path",{d:"M18 16C17.2 16 16.4 16.3 15.9 16.9L8.9 12.9C9 12.6 9 12.3 9 12C9 11.7 9 11.4 8.9 11.2L15.9 7.2C16.4 7.7 17.2 8 18 8C19.7 8 21 6.7 21 5C21 3.3 19.7 2 18 2C16.3 2 15 3.3 15 5C15 5.3 15 5.6 15.1 5.8L8.1 9.8C7.6 9.3 6.8 9 6 9C4.3 9 3 10.3 3 12C3 13.7 4.3 15 6 15C6.8 15 7.6 14.7 8.1 14.1L15.1 18.1C15 18.4 15 18.7 15 19C15 20.7 16.3 22 18 22C19.7 22 21 20.7 21 19C21 17.3 19.7 16 18 16ZM18 3.5C18.8 3.5 19.5 4.2 19.5 5C19.5 5.8 18.8 6.5 18 6.5C17.2 6.5 16.5 5.8 16.5 5C16.5 4.2 17.2 3.5 18 3.5ZM6 13.5C5.2 13.5 4.5 12.8 4.5 12C4.5 11.2 5.2 10.5 6 10.5C6.8 10.5 7.5 11.2 7.5 12C7.5 12.8 6.8 13.5 6 13.5ZM18 20.5C17.2 20.5 16.5 19.8 16.5 19C16.5 18.2 17.2 17.5 18 17.5C18.8 17.5 19.5 18.2 19.5 19C19.5 19.8 18.8 20.5 18 20.5Z",fill:"#172144"})})}),(0,Oo.jsx)("span",{className:iq,children:"\uacf5\uc720\ud558\uae30"})]}),r&&(0,Oo.jsx)(eq,{onClose:function(){i(!1)}})]})};var oq=function(){return(0,t.useEffect)((function(){var e=document.querySelectorAll("[data-gsap*='opacity']"),t=document.querySelectorAll("[data-gsap*='show-up']");return console.log("gsapOpacity",e),e.forEach((function(e){wr.timeline({scrollTrigger:{trigger:e,start:"top bottom-=20",end:"top center+=100",scrub:!0}}).fromTo(e,{opacity:0},{opacity:1})})),t.forEach((function(e){wr.timeline({scrollTrigger:{trigger:e,start:"top bottom-=20",end:"top center+=250",markers:!0,scrub:!0}}).fromTo(e,{opacity:0,y:"20%"},{opacity:1,y:"0px"})})),function(){}}),[]),(0,Oo.jsxs)("div",{className:"App",children:[(0,Oo.jsx)(Mo,{}),(0,Oo.jsx)(Al,{}),(0,Oo.jsx)(Pl,{}),(0,Oo.jsx)(Dg,{}),(0,Oo.jsx)(Ig,{firebase:Qz}),(0,Oo.jsx)(Xg,{}),(0,Oo.jsx)(aq,{})]})};window.Kakao.isInitialized()||window.Kakao.init("3dc1d032c1b57d7534b09b562373275d"),r.createRoot(document.getElementById("root")).render((0,Oo.jsx)(oq,{}))}()}();
//# sourceMappingURL=main.960395a3.js.map